import{c as St,g as Yt,i as ht,_ as $t,u as Bt,r as K,w as At,o as kt,n as ie,a as wt,b as X,d as J,e as z,f as G,h as pt,E as et,j as Tt,v as Pt,F as Et,k as It,t as Z,l as qt,m as ct,p as oe,q as B,s as Q,x as Ht,y as ne,z as se,A as Lt,B as le,C as de,D as ce,G as pe,H as Ct,I as ue,J as nt,K as Ot,L as fe,M as Rt,N as Vt,O as he,P as me,Q as ge}from"./index-eda97db9.js";function Mt(q){throw new Error('Could not dynamically require "'+q+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _t={exports:{}};_t.exports;(function(q,W){/*!
 * artplayer.js v5.2.1
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2024 Harvey Zack
 * Released under the MIT License.
 */(function(a,h,s,t,e){var p=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof St<"u"?St:{},r=typeof p[t]=="function"&&p[t],o=r.cache||{},d=typeof Mt=="function"&&Mt.bind(q);function i(c,u){if(!o[c]){if(!a[c]){var f=typeof p[t]=="function"&&p[t];if(!u&&f)return f(c,!0);if(r)return r(c,!0);if(d&&typeof c=="string")return d(c);var g=Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}m.resolve=function(v){var x=a[c][1][v];return x??v},m.cache={};var b=o[c]=new i.Module(c);a[c][0].call(b.exports,m,b,b.exports,this)}return o[c].exports;function m(v){var x=m.resolve(v);return x===!1?{}:i(x)}}i.isParcelRequire=!0,i.Module=function(c){this.id=c,this.bundle=i,this.exports={}},i.modules=a,i.cache=o,i.parent=r,i.register=function(c,u){a[c]=[function(f,g){g.exports=u},{}]},Object.defineProperty(i,"root",{get:function(){return p[t]}}),p[t]=i;for(var n=0;n<h.length;n++)i(h[n]);if(s){var l=i(s);q.exports=l}})({"5lTcX":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("bundle-text:./style/index.less"),p=t.interopDefault(e),r=a("option-validator"),o=t.interopDefault(r),d=a("./utils/emitter"),i=t.interopDefault(d),n=a("./utils"),l=a("./scheme"),c=t.interopDefault(l),u=a("./config"),f=t.interopDefault(u),g=a("./template"),b=t.interopDefault(g),m=a("./i18n"),v=t.interopDefault(m),x=a("./player"),_=t.interopDefault(x),T=a("./control"),C=t.interopDefault(T),S=a("./contextmenu"),A=t.interopDefault(S),D=a("./info"),I=t.interopDefault(D),w=a("./subtitle"),$=t.interopDefault(w),j=a("./events"),y=t.interopDefault(j),k=a("./hotkey"),E=t.interopDefault(k),M=a("./layer"),P=t.interopDefault(M),H=a("./loading"),F=t.interopDefault(H),V=a("./notice"),R=t.interopDefault(V),U=a("./mask"),N=t.interopDefault(U),tt=a("./icons"),rt=t.interopDefault(tt),O=a("./setting"),it=t.interopDefault(O),st=a("./storage"),mt=t.interopDefault(st),gt=a("./plugins"),vt=t.interopDefault(gt);let yt=0,lt=[];class L extends i.default{constructor(at,ut){super(),this.id=++yt;let ft=n.mergeDeep(L.option,at);if(ft.container=at.container,this.option=(0,o.default)(ft,c.default),this.isLock=!1,this.isReady=!1,this.isFocus=!1,this.isInput=!1,this.isRotate=!1,this.isDestroy=!1,this.template=new b.default(this),this.events=new y.default(this),this.storage=new mt.default(this),this.icons=new rt.default(this),this.i18n=new v.default(this),this.notice=new R.default(this),this.player=new _.default(this),this.layers=new P.default(this),this.controls=new C.default(this),this.contextmenu=new A.default(this),this.subtitle=new $.default(this),this.info=new I.default(this),this.loading=new F.default(this),this.hotkey=new E.default(this),this.mask=new N.default(this),this.setting=new it.default(this),this.plugins=new vt.default(this),typeof ut=="function"&&this.on("ready",()=>ut.call(this,this)),L.DEBUG){let dt=ot=>console.log(`[ART.${this.id}] -> ${ot}`);dt("Version@"+L.version),dt("Env@"+L.env),dt("Build@"+L.build);for(let ot=0;ot<f.default.events.length;ot++)this.on("video:"+f.default.events[ot],bt=>dt("Event@"+bt.type))}lt.push(this)}static get instances(){return lt}static get version(){return"5.2.1"}static get env(){return"production"}static get build(){return"2024-10-26 15:26:30"}static get config(){return f.default}static get utils(){return n}static get scheme(){return c.default}static get Emitter(){return i.default}static get validator(){return o.default}static get kindOf(){return o.default.kindOf}static get html(){return b.default.html}static get option(){return{id:"",container:"#artplayer",url:"",poster:"",type:"",theme:"#f00",volume:.7,isLive:!1,muted:!1,autoplay:!1,autoSize:!1,autoMini:!1,loop:!1,flip:!1,playbackRate:!1,aspectRatio:!1,screenshot:!1,setting:!1,hotkey:!0,pip:!1,mutex:!0,backdrop:!0,fullscreen:!1,fullscreenWeb:!1,subtitleOffset:!1,miniProgressBar:!1,useSSR:!1,playsInline:!0,lock:!1,fastForward:!1,autoPlayback:!1,autoOrientation:!1,airplay:!1,proxy:void 0,layers:[],contextmenu:[],controls:[],settings:[],quality:[],highlight:[],plugins:[],thumbnails:{url:"",number:60,column:10,width:0,height:0,scale:1},subtitle:{url:"",type:"",style:{},name:"",escape:!0,encoding:"utf-8",onVttLoad:at=>at},moreVideoAttr:{controls:!1,preload:n.isSafari?"auto":"metadata"},i18n:{},icons:{},cssVar:{},customType:{},lang:navigator.language.toLowerCase()}}get proxy(){return this.events.proxy}get query(){return this.template.query}get video(){return this.template.$video}destroy(at=!0){this.events.destroy(),this.template.destroy(at),lt.splice(lt.indexOf(this),1),this.isDestroy=!0,this.emit("destroy")}}s.default=L,L.STYLE=p.default,L.DEBUG=!1,L.CONTEXTMENU=!0,L.NOTICE_TIME=2e3,L.SETTING_WIDTH=250,L.SETTING_ITEM_WIDTH=200,L.SETTING_ITEM_HEIGHT=35,L.RESIZE_TIME=200,L.SCROLL_TIME=200,L.SCROLL_GAP=50,L.AUTO_PLAYBACK_MAX=10,L.AUTO_PLAYBACK_MIN=5,L.AUTO_PLAYBACK_TIMEOUT=3e3,L.RECONNECT_TIME_MAX=5,L.RECONNECT_SLEEP_TIME=1e3,L.CONTROL_HIDE_TIME=3e3,L.DBCLICK_TIME=300,L.DBCLICK_FULLSCREEN=!0,L.MOBILE_DBCLICK_PLAY=!0,L.MOBILE_CLICK_PLAY=!1,L.AUTO_ORIENTATION_TIME=200,L.INFO_LOOP_TIME=1e3,L.FAST_FORWARD_VALUE=3,L.FAST_FORWARD_TIME=1e3,L.TOUCH_MOVE_RATIO=.5,L.VOLUME_STEP=.1,L.SEEK_STEP=5,L.PLAYBACK_RATE=[.5,.75,1,1.25,1.5,2],L.ASPECT_RATIO=["default","4:3","16:9"],L.FLIP=["normal","horizontal","vertical"],L.FULLSCREEN_WEB_IN_BODY=!1,L.LOG_VERSION=!0,L.USE_RAF=!1,n.isBrowser&&(window.Artplayer=L,n.setStyleText("artplayer-style",p.default),setTimeout(()=>{L.LOG_VERSION&&console.log(`%c ArtPlayer %c ${L.version} %c https://artplayer.org`,"color: #fff; background: #5f5f5f","color: #fff; background: #4bc729","")},100))},{"bundle-text:./style/index.less":"0016T","option-validator":"bAWi2","./utils/emitter":"66mFZ","./utils":"71aH7","./scheme":"AKEiO","./config":"lyjeQ","./template":"X13Zf","./i18n":"3jKkj","./player":"a90nx","./control":"8Z0Uf","./contextmenu":"2KYsr","./info":"02ajl","./subtitle":"eSWto","./events":"jo4S1","./hotkey":"6NoFy","./layer":"6G6hZ","./loading":"3dsEe","./notice":"dWGTw","./mask":"5POkG","./icons":"6OeNg","./setting":"3eYNH","./storage":"2aaJe","./plugins":"8MTUM","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"0016T":[function(a,h,s){h.exports='.art-video-player{--art-theme:red;--art-font-color:#fff;--art-background-color:#000;--art-text-shadow-color:#00000080;--art-transition-duration:.2s;--art-padding:10px;--art-border-radius:3px;--art-progress-height:6px;--art-progress-color:#ffffff40;--art-hover-color:#ffffff40;--art-loaded-color:#ffffff40;--art-state-size:80px;--art-state-opacity:.8;--art-bottom-height:100px;--art-bottom-offset:20px;--art-bottom-gap:5px;--art-highlight-width:8px;--art-highlight-color:#ffffff80;--art-control-height:46px;--art-control-opacity:.75;--art-control-icon-size:36px;--art-control-icon-scale:1.1;--art-volume-height:120px;--art-volume-handle-size:14px;--art-lock-size:36px;--art-indicator-scale:0;--art-indicator-size:16px;--art-fullscreen-web-index:9999;--art-settings-icon-size:24px;--art-settings-max-height:300px;--art-selector-max-height:300px;--art-contextmenus-min-width:250px;--art-subtitle-font-size:20px;--art-subtitle-gap:5px;--art-subtitle-bottom:15px;--art-subtitle-border:#000;--art-widget-background:#000000d9;--art-tip-background:#000000b3;--art-scrollbar-size:4px;--art-scrollbar-background:#ffffff40;--art-scrollbar-background-hover:#ffffff80;--art-mini-progress-height:2px}.art-bg-cover{background-position:50%;background-repeat:no-repeat;background-size:cover}.art-bottom-gradient{background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x}.art-backdrop-filter{backdrop-filter:saturate(180%)blur(20px);background-color:#000000bf!important}.art-truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.art-video-player{zoom:1;text-align:left;user-select:none;box-sizing:border-box;color:var(--art-font-color);background-color:var(--art-background-color);text-shadow:0 0 2px var(--art-text-shadow-color);-webkit-tap-highlight-color:#0000;-ms-touch-action:manipulation;touch-action:manipulation;-ms-high-contrast-adjust:none;direction:ltr;outline:0;width:100%;height:100%;margin:0 auto;padding:0;font-family:PingFang SC,Helvetica Neue,Microsoft YaHei,Roboto,Arial,sans-serif;font-size:14px;line-height:1.3;position:relative}.art-video-player *,.art-video-player :before,.art-video-player :after{box-sizing:border-box}.art-video-player ::-webkit-scrollbar{width:var(--art-scrollbar-size);height:var(--art-scrollbar-size)}.art-video-player ::-webkit-scrollbar-thumb{background-color:var(--art-scrollbar-background)}.art-video-player ::-webkit-scrollbar-thumb:hover{background-color:var(--art-scrollbar-background-hover)}.art-video-player img{vertical-align:top;max-width:100%}.art-video-player svg{fill:var(--art-font-color)}.art-video-player a{color:var(--art-font-color);text-decoration:none}.art-icon{justify-content:center;align-items:center;line-height:1;display:flex}.art-video-player.art-backdrop .art-contextmenus,.art-video-player.art-backdrop .art-info,.art-video-player.art-backdrop .art-settings,.art-video-player.art-backdrop .art-layer-auto-playback,.art-video-player.art-backdrop .art-selector-list,.art-video-player.art-backdrop .art-volume-inner{backdrop-filter:saturate(180%)blur(20px);background-color:#000000bf!important}.art-video{z-index:10;cursor:pointer;width:100%;height:100%;position:absolute;inset:0}.art-poster{z-index:11;pointer-events:none;background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100%;position:absolute;inset:0}.art-video-player .art-subtitle{z-index:20;text-align:center;pointer-events:none;justify-content:center;align-items:center;gap:var(--art-subtitle-gap);bottom:var(--art-subtitle-bottom);font-size:var(--art-subtitle-font-size);transition:bottom var(--art-transition-duration)ease;text-shadow:var(--art-subtitle-border)1px 0 1px,var(--art-subtitle-border)0 1px 1px,var(--art-subtitle-border)-1px 0 1px,var(--art-subtitle-border)0 -1px 1px,var(--art-subtitle-border)1px 1px 1px,var(--art-subtitle-border)-1px -1px 1px,var(--art-subtitle-border)1px -1px 1px,var(--art-subtitle-border)-1px 1px 1px;flex-direction:column;width:100%;padding:0 5%;display:none;position:absolute}.art-video-player.art-subtitle-show .art-subtitle{display:flex}.art-video-player.art-control-show .art-subtitle{bottom:calc(var(--art-control-height) + var(--art-subtitle-bottom))}.art-danmuku{z-index:30;pointer-events:none;width:100%;height:100%;position:absolute;inset:0;overflow:hidden}.art-video-player .art-layers{z-index:40;pointer-events:none;width:100%;height:100%;display:none;position:absolute;inset:0}.art-video-player .art-layers .art-layer{pointer-events:auto}.art-video-player.art-layer-show .art-layers{display:flex}.art-video-player .art-mask{z-index:50;pointer-events:none;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;inset:0}.art-video-player .art-mask .art-state{opacity:0;width:var(--art-state-size);height:var(--art-state-size);transition:all var(--art-transition-duration)ease;justify-content:center;align-items:center;display:flex;transform:scale(2)}.art-video-player.art-mask-show .art-state{cursor:pointer;pointer-events:auto;opacity:var(--art-state-opacity);transform:scale(1)}.art-video-player.art-loading-show .art-state{display:none}.art-video-player .art-loading{z-index:70;pointer-events:none;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:absolute;inset:0}.art-video-player.art-loading-show .art-loading{display:flex}.art-video-player .art-bottom{z-index:60;opacity:0;pointer-events:none;padding:0 var(--art-padding);transition:all var(--art-transition-duration)ease;background-size:100% var(--art-bottom-height);background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x;flex-direction:column;justify-content:flex-end;width:100%;height:100%;display:flex;position:absolute;inset:0;overflow:hidden}.art-video-player .art-bottom .art-controls,.art-video-player .art-bottom .art-progress{transform:translateY(var(--art-bottom-offset));transition:transform var(--art-transition-duration)ease}.art-video-player.art-control-show .art-bottom,.art-video-player.art-hover .art-bottom{opacity:1}.art-video-player.art-control-show .art-bottom .art-controls,.art-video-player.art-hover .art-bottom .art-controls,.art-video-player.art-control-show .art-bottom .art-progress,.art-video-player.art-hover .art-bottom .art-progress{transform:translateY(0)}.art-bottom .art-progress{z-index:0;pointer-events:auto;padding-bottom:var(--art-bottom-gap);position:relative}.art-bottom .art-progress .art-control-progress{cursor:pointer;height:var(--art-progress-height);justify-content:center;align-items:center;display:flex;position:relative}.art-bottom .art-progress .art-control-progress .art-control-progress-inner{transition:height var(--art-transition-duration)ease;background-color:var(--art-progress-color);align-items:center;width:100%;height:50%;display:flex;position:relative}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-hover{z-index:0;background-color:var(--art-hover-color);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-loaded{z-index:10;background-color:var(--art-loaded-color);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-played{z-index:20;background-color:var(--art-theme);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight{z-index:30;pointer-events:none;width:100%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight span{z-index:0;pointer-events:auto;transform:translateX(calc(var(--art-highlight-width)/-2));background-color:var(--art-highlight-color);width:100%;height:100%;position:absolute;inset:0 auto 0 0;width:var(--art-highlight-width)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{z-index:40;width:var(--art-indicator-size);height:var(--art-indicator-size);transform:scale(var(--art-indicator-scale));margin-left:calc(var(--art-indicator-size)/-2);transition:transform var(--art-transition-duration)ease;border-radius:50%;justify-content:center;align-items:center;display:flex;position:absolute;left:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator .art-icon{pointer-events:none;width:100%;height:100%}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator:hover{transform:scale(1.2)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator:active{transform:scale(1)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-tip{z-index:50;border-radius:var(--art-border-radius);white-space:nowrap;background-color:var(--art-tip-background);padding:3px 5px;font-size:12px;line-height:1;display:none;position:absolute;top:-25px;left:0}.art-bottom .art-progress .art-control-progress:hover .art-control-progress-inner{height:100%}.art-bottom .art-progress .art-control-thumbnails{bottom:calc(var(--art-bottom-gap) + 10px);border-radius:var(--art-border-radius);pointer-events:none;background-color:var(--art-widget-background);display:none;position:absolute;left:0;box-shadow:0 1px 3px #0003,0 1px 2px -1px #0003}.art-bottom:hover .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{transform:scale(1)}.art-controls{z-index:10;pointer-events:auto;height:var(--art-control-height);justify-content:space-between;align-items:center;display:flex;position:relative}.art-controls .art-controls-left,.art-controls .art-controls-right{height:100%;display:flex}.art-controls .art-controls-center{flex:1;justify-content:center;align-items:center;height:100%;padding:0 10px;display:none}.art-controls .art-controls-right{justify-content:flex-end}.art-controls .art-control{cursor:pointer;white-space:nowrap;opacity:var(--art-control-opacity);min-height:var(--art-control-height);min-width:var(--art-control-height);transition:opacity var(--art-transition-duration)ease;flex-shrink:0;justify-content:center;align-items:center;display:flex}.art-controls .art-control .art-icon{height:var(--art-control-icon-size);width:var(--art-control-icon-size);transform:scale(var(--art-control-icon-scale));transition:transform var(--art-transition-duration)ease}.art-controls .art-control .art-icon:active{transform:scale(calc(var(--art-control-icon-scale)*.8))}.art-controls .art-control:hover{opacity:1}.art-control-volume{position:relative}.art-control-volume .art-volume-panel{text-align:center;cursor:default;opacity:0;pointer-events:none;left:0;right:0;bottom:var(--art-control-height);width:var(--art-control-height);height:var(--art-volume-height);transition:all var(--art-transition-duration)ease;justify-content:center;align-items:center;padding:0 5px;font-size:12px;display:flex;position:absolute;transform:translateY(10px)}.art-control-volume .art-volume-panel .art-volume-inner{border-radius:var(--art-border-radius);background-color:var(--art-widget-background);flex-direction:column;align-items:center;gap:10px;width:100%;height:100%;padding:10px 0 12px;display:flex}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider{cursor:pointer;flex:1;justify-content:center;width:100%;display:flex;position:relative}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-handle{border-radius:var(--art-border-radius);background-color:#ffffff40;justify-content:center;width:2px;display:flex;position:relative;overflow:hidden}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-handle .art-volume-loaded{z-index:0;background-color:var(--art-theme);width:100%;height:100%;position:absolute;inset:0}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-indicator{width:var(--art-volume-handle-size);height:var(--art-volume-handle-size);margin-top:calc(var(--art-volume-handle-size)/-2);background-color:var(--art-theme);transition:transform var(--art-transition-duration)ease;border-radius:100%;flex-shrink:0;position:absolute;transform:scale(1)}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider:active .art-volume-indicator{transform:scale(.9)}.art-control-volume:hover .art-volume-panel{opacity:1;pointer-events:auto;transform:translateY(0)}.art-video-player .art-notice{z-index:80;padding:var(--art-padding);pointer-events:none;width:100%;height:auto;display:none;position:absolute;inset:0 0 auto}.art-video-player .art-notice .art-notice-inner{border-radius:var(--art-border-radius);background-color:var(--art-tip-background);padding:5px;line-height:1;display:inline-flex}.art-video-player.art-notice-show .art-notice{display:flex}.art-video-player .art-contextmenus{z-index:120;border-radius:var(--art-border-radius);background-color:var(--art-widget-background);min-width:var(--art-contextmenus-min-width);flex-direction:column;padding:5px 0;font-size:12px;display:none;position:absolute}.art-video-player .art-contextmenus .art-contextmenu{cursor:pointer;border-bottom:1px solid #ffffff1a;padding:10px 15px;display:flex}.art-video-player .art-contextmenus .art-contextmenu span{padding:0 8px}.art-video-player .art-contextmenus .art-contextmenu span:hover,.art-video-player .art-contextmenus .art-contextmenu span.art-current{color:var(--art-theme)}.art-video-player .art-contextmenus .art-contextmenu:hover{background-color:#ffffff1a}.art-video-player .art-contextmenus .art-contextmenu:last-child{border-bottom:none}.art-video-player.art-contextmenu-show .art-contextmenus{display:flex}.art-video-player .art-settings{z-index:90;border-radius:var(--art-border-radius);max-height:var(--art-settings-max-height);left:auto;right:var(--art-padding);bottom:var(--art-control-height);transition:all var(--art-transition-duration)ease;background-color:var(--art-widget-background);flex-direction:column;display:none;position:absolute;overflow:hidden auto}.art-video-player .art-settings .art-setting-panel{flex-direction:column;display:none}.art-video-player .art-settings .art-setting-panel.art-current{display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item{cursor:pointer;transition:background-color var(--art-transition-duration)ease;justify-content:space-between;align-items:center;padding:0 5px;display:flex;overflow:hidden}.art-video-player .art-settings .art-setting-panel .art-setting-item:hover{background-color:#ffffff1a}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current{color:var(--art-theme)}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-icon-check{visibility:hidden;height:15px}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current .art-icon-check{visibility:visible}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left{flex-shrink:0;justify-content:center;align-items:center;gap:5px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left .art-setting-item-left-icon{height:var(--art-settings-icon-size);width:var(--art-settings-icon-size);justify-content:center;align-items:center;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right{justify-content:center;align-items:center;gap:5px;font-size:12px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-tooltip{white-space:nowrap;color:#ffffff80}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-icon{justify-content:center;align-items:center;min-width:32px;height:24px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-range{appearance:none;background-color:#fff3;outline:none;width:80px;height:3px}.art-video-player .art-settings .art-setting-panel .art-setting-item-back{border-bottom:1px solid #ffffff1a}.art-video-player.art-setting-show .art-settings{display:flex}.art-video-player .art-info{left:var(--art-padding);top:var(--art-padding);z-index:100;border-radius:var(--art-border-radius);background-color:var(--art-widget-background);padding:10px;font-size:12px;display:none;position:absolute}.art-video-player .art-info .art-info-panel{flex-direction:column;gap:5px;display:flex}.art-video-player .art-info .art-info-panel .art-info-item{align-items:center;gap:5px;display:flex}.art-video-player .art-info .art-info-panel .art-info-item .art-info-title{text-align:right;width:100px}.art-video-player .art-info .art-info-panel .art-info-item .art-info-content{text-overflow:ellipsis;white-space:nowrap;user-select:all;width:250px;overflow:hidden}.art-video-player .art-info .art-info-close{cursor:pointer;position:absolute;top:5px;right:5px}.art-video-player.art-info-show .art-info{display:flex}.art-hide-cursor *{cursor:none!important}.art-video-player[data-aspect-ratio]{overflow:hidden}.art-video-player[data-aspect-ratio] .art-video{object-fit:fill;box-sizing:content-box}.art-fullscreen{--art-progress-height:8px;--art-indicator-size:20px;--art-control-height:60px;--art-control-icon-scale:1.3}.art-fullscreen-web{--art-progress-height:8px;--art-indicator-size:20px;--art-control-height:60px;--art-control-icon-scale:1.3;z-index:var(--art-fullscreen-web-index);width:100%;height:100%;position:fixed;inset:0}.art-mini-popup{z-index:9999;border-radius:var(--art-border-radius);cursor:move;user-select:none;background:#000;width:320px;height:180px;transition:opacity .2s;position:fixed;overflow:hidden;box-shadow:0 0 5px #00000080}.art-mini-popup svg{fill:#fff}.art-mini-popup .art-video{pointer-events:none}.art-mini-popup .art-mini-close{z-index:20;cursor:pointer;opacity:0;transition:opacity .2s;position:absolute;top:10px;right:10px}.art-mini-popup .art-mini-state{z-index:30;pointer-events:none;opacity:0;background-color:#00000040;justify-content:center;align-items:center;width:100%;height:100%;transition:opacity .2s;display:flex;position:absolute;inset:0}.art-mini-popup .art-mini-state .art-icon{opacity:.75;cursor:pointer;pointer-events:auto;transition:transform .2s;transform:scale(3)}.art-mini-popup .art-mini-state .art-icon:active{transform:scale(2.5)}.art-mini-popup.art-mini-droging{opacity:.9}.art-mini-popup:hover .art-mini-close,.art-mini-popup:hover .art-mini-state{opacity:1}.art-video-player[data-flip=horizontal] .art-video{transform:scaleX(-1)}.art-video-player[data-flip=vertical] .art-video{transform:scaleY(-1)}.art-video-player .art-layer-lock{height:var(--art-lock-size);width:var(--art-lock-size);top:50%;left:var(--art-padding);background-color:var(--art-tip-background);border-radius:50%;justify-content:center;align-items:center;display:none;position:absolute;transform:translateY(-50%)}.art-video-player .art-layer-auto-playback{border-radius:var(--art-border-radius);left:var(--art-padding);bottom:calc(var(--art-control-height) + var(--art-bottom-gap) + 10px);background-color:var(--art-widget-background);align-items:center;gap:10px;padding:10px;line-height:1;display:none;position:absolute}.art-video-player .art-layer-auto-playback .art-auto-playback-close{cursor:pointer;justify-content:center;align-items:center;display:flex}.art-video-player .art-layer-auto-playback .art-auto-playback-close svg{fill:var(--art-theme);width:15px;height:15px}.art-video-player .art-layer-auto-playback .art-auto-playback-jump{color:var(--art-theme);cursor:pointer}.art-video-player.art-lock .art-subtitle{bottom:var(--art-subtitle-bottom)!important}.art-video-player.art-mini-progress-bar .art-bottom,.art-video-player.art-lock .art-bottom{opacity:1;background-image:none;padding:0}.art-video-player.art-mini-progress-bar .art-bottom .art-controls,.art-video-player.art-lock .art-bottom .art-controls,.art-video-player.art-mini-progress-bar .art-bottom .art-progress,.art-video-player.art-lock .art-bottom .art-progress{transform:translateY(calc(var(--art-control-height) + var(--art-bottom-gap) + var(--art-progress-height)/4))}.art-video-player.art-mini-progress-bar .art-bottom .art-progress-indicator,.art-video-player.art-lock .art-bottom .art-progress-indicator{display:none!important}.art-video-player.art-control-show .art-layer-lock{display:flex}.art-control-selector{justify-content:center;display:flex;position:relative}.art-control-selector .art-selector-list{text-align:center;border-radius:var(--art-border-radius);opacity:0;pointer-events:none;bottom:var(--art-control-height);max-height:var(--art-selector-max-height);background-color:var(--art-widget-background);transition:all var(--art-transition-duration)ease;flex-direction:column;align-items:center;display:flex;position:absolute;overflow:hidden auto;transform:translateY(10px)}.art-control-selector .art-selector-list .art-selector-item{flex-shrink:0;justify-content:center;align-items:center;width:100%;padding:10px 15px;line-height:1;display:flex}.art-control-selector .art-selector-list .art-selector-item:hover{background-color:#ffffff1a}.art-control-selector .art-selector-list .art-selector-item:hover,.art-control-selector .art-selector-list .art-selector-item.art-current{color:var(--art-theme)}.art-control-selector:hover .art-selector-list{opacity:1;pointer-events:auto;transform:translateY(0)}[class*=hint--]{font-style:normal;display:inline-block;position:relative}[class*=hint--]:before,[class*=hint--]:after{visibility:hidden;opacity:0;z-index:1000000;pointer-events:none;transition:all .3s;position:absolute;transform:translate(0,0)}[class*=hint--]:hover:before,[class*=hint--]:hover:after{visibility:visible;opacity:1;transition-delay:.1s}[class*=hint--]:before{content:"";z-index:1000001;background:0 0;border:6px solid #0000;position:absolute}[class*=hint--]:after{color:#fff;white-space:nowrap;background:#000;padding:8px 10px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;line-height:12px}[class*=hint--][aria-label]:after{content:attr(aria-label)}[class*=hint--][data-hint]:after{content:attr(data-hint)}[aria-label=""]:before,[aria-label=""]:after,[data-hint=""]:before,[data-hint=""]:after{display:none!important}.hint--top-left:before,.hint--top-right:before,.hint--top:before{border-top-color:#000}.hint--bottom-left:before,.hint--bottom-right:before,.hint--bottom:before{border-bottom-color:#000}.hint--left:before{border-left-color:#000}.hint--right:before{border-right-color:#000}.hint--top:before{margin-bottom:-11px}.hint--top:before,.hint--top:after{bottom:100%;left:50%}.hint--top:before{left:calc(50% - 6px)}.hint--top:after{transform:translate(-50%)}.hint--top:hover:before{transform:translateY(-8px)}.hint--top:hover:after{transform:translate(-50%)translateY(-8px)}.hint--bottom:before{margin-top:-11px}.hint--bottom:before,.hint--bottom:after{top:100%;left:50%}.hint--bottom:before{left:calc(50% - 6px)}.hint--bottom:after{transform:translate(-50%)}.hint--bottom:hover:before{transform:translateY(8px)}.hint--bottom:hover:after{transform:translate(-50%)translateY(8px)}.hint--right:before{margin-bottom:-6px;margin-left:-11px}.hint--right:after{margin-bottom:-14px}.hint--right:before,.hint--right:after{bottom:50%;left:100%}.hint--right:hover:before,.hint--right:hover:after{transform:translate(8px)}.hint--left:before{margin-bottom:-6px;margin-right:-11px}.hint--left:after{margin-bottom:-14px}.hint--left:before,.hint--left:after{bottom:50%;right:100%}.hint--left:hover:before,.hint--left:hover:after{transform:translate(-8px)}.hint--top-left:before{margin-bottom:-11px}.hint--top-left:before,.hint--top-left:after{bottom:100%;left:50%}.hint--top-left:before{left:calc(50% - 6px)}.hint--top-left:after{margin-left:12px;transform:translate(-100%)}.hint--top-left:hover:before{transform:translateY(-8px)}.hint--top-left:hover:after{transform:translate(-100%)translateY(-8px)}.hint--top-right:before{margin-bottom:-11px}.hint--top-right:before,.hint--top-right:after{bottom:100%;left:50%}.hint--top-right:before{left:calc(50% - 6px)}.hint--top-right:after{margin-left:-12px;transform:translate(0)}.hint--top-right:hover:before,.hint--top-right:hover:after{transform:translateY(-8px)}.hint--bottom-left:before{margin-top:-11px}.hint--bottom-left:before,.hint--bottom-left:after{top:100%;left:50%}.hint--bottom-left:before{left:calc(50% - 6px)}.hint--bottom-left:after{margin-left:12px;transform:translate(-100%)}.hint--bottom-left:hover:before{transform:translateY(8px)}.hint--bottom-left:hover:after{transform:translate(-100%)translateY(8px)}.hint--bottom-right:before{margin-top:-11px}.hint--bottom-right:before,.hint--bottom-right:after{top:100%;left:50%}.hint--bottom-right:before{left:calc(50% - 6px)}.hint--bottom-right:after{margin-left:-12px;transform:translate(0)}.hint--bottom-right:hover:before,.hint--bottom-right:hover:after{transform:translateY(8px)}.hint--small:after,.hint--medium:after,.hint--large:after{white-space:normal;word-wrap:break-word;line-height:1.4em}.hint--small:after{width:80px}.hint--medium:after{width:150px}.hint--large:after{width:300px}[class*=hint--]:after{text-shadow:0 -1px #000;box-shadow:4px 4px 8px #0000004d}.hint--error:after{text-shadow:0 -1px #592726;background-color:#b34e4d}.hint--error.hint--top-left:before,.hint--error.hint--top-right:before,.hint--error.hint--top:before{border-top-color:#b34e4d}.hint--error.hint--bottom-left:before,.hint--error.hint--bottom-right:before,.hint--error.hint--bottom:before{border-bottom-color:#b34e4d}.hint--error.hint--left:before{border-left-color:#b34e4d}.hint--error.hint--right:before{border-right-color:#b34e4d}.hint--warning:after{text-shadow:0 -1px #6c5328;background-color:#c09854}.hint--warning.hint--top-left:before,.hint--warning.hint--top-right:before,.hint--warning.hint--top:before{border-top-color:#c09854}.hint--warning.hint--bottom-left:before,.hint--warning.hint--bottom-right:before,.hint--warning.hint--bottom:before{border-bottom-color:#c09854}.hint--warning.hint--left:before{border-left-color:#c09854}.hint--warning.hint--right:before{border-right-color:#c09854}.hint--info:after{text-shadow:0 -1px #1a3c4d;background-color:#3986ac}.hint--info.hint--top-left:before,.hint--info.hint--top-right:before,.hint--info.hint--top:before{border-top-color:#3986ac}.hint--info.hint--bottom-left:before,.hint--info.hint--bottom-right:before,.hint--info.hint--bottom:before{border-bottom-color:#3986ac}.hint--info.hint--left:before{border-left-color:#3986ac}.hint--info.hint--right:before{border-right-color:#3986ac}.hint--success:after{text-shadow:0 -1px #1a321a;background-color:#458746}.hint--success.hint--top-left:before,.hint--success.hint--top-right:before,.hint--success.hint--top:before{border-top-color:#458746}.hint--success.hint--bottom-left:before,.hint--success.hint--bottom-right:before,.hint--success.hint--bottom:before{border-bottom-color:#458746}.hint--success.hint--left:before{border-left-color:#458746}.hint--success.hint--right:before{border-right-color:#458746}.hint--always:after,.hint--always:before{opacity:1;visibility:visible}.hint--always.hint--top:before{transform:translateY(-8px)}.hint--always.hint--top:after{transform:translate(-50%)translateY(-8px)}.hint--always.hint--top-left:before{transform:translateY(-8px)}.hint--always.hint--top-left:after{transform:translate(-100%)translateY(-8px)}.hint--always.hint--top-right:before,.hint--always.hint--top-right:after{transform:translateY(-8px)}.hint--always.hint--bottom:before{transform:translateY(8px)}.hint--always.hint--bottom:after{transform:translate(-50%)translateY(8px)}.hint--always.hint--bottom-left:before{transform:translateY(8px)}.hint--always.hint--bottom-left:after{transform:translate(-100%)translateY(8px)}.hint--always.hint--bottom-right:before,.hint--always.hint--bottom-right:after{transform:translateY(8px)}.hint--always.hint--left:before,.hint--always.hint--left:after{transform:translate(-8px)}.hint--always.hint--right:before,.hint--always.hint--right:after{transform:translate(8px)}.hint--rounded:after{border-radius:4px}.hint--no-animate:before,.hint--no-animate:after{transition-duration:0s}.hint--bounce:before,.hint--bounce:after{-webkit-transition:opacity .3s,visibility .3s,-webkit-transform .3s cubic-bezier(.71,1.7,.77,1.24);-moz-transition:opacity .3s,visibility .3s,-moz-transform .3s cubic-bezier(.71,1.7,.77,1.24);transition:opacity .3s,visibility .3s,transform .3s cubic-bezier(.71,1.7,.77,1.24)}.hint--no-shadow:before,.hint--no-shadow:after{text-shadow:initial;box-shadow:initial}.hint--no-arrow:before{display:none}.art-video-player.art-mobile{--art-bottom-gap:10px;--art-control-height:38px;--art-control-icon-scale:1;--art-state-size:60px;--art-settings-max-height:180px;--art-selector-max-height:180px;--art-indicator-scale:1;--art-control-opacity:1}.art-video-player.art-mobile .art-controls-left{margin-left:calc(var(--art-padding)/-1)}.art-video-player.art-mobile .art-controls-right{margin-right:calc(var(--art-padding)/-1)}'},{}],bAWi2:[function(a,h,s){var t;t=function(){function e(l){return(e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}var p=Object.prototype.toString,r=function(l){if(l===void 0)return"undefined";if(l===null)return"null";var c=e(l);if(c==="boolean")return"boolean";if(c==="string")return"string";if(c==="number")return"number";if(c==="symbol")return"symbol";if(c==="function")return o(l)==="GeneratorFunction"?"generatorfunction":"function";if(Array.isArray?Array.isArray(l):l instanceof Array)return"array";if(l.constructor&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l))return"buffer";if(function(u){try{if(typeof u.length=="number"&&typeof u.callee=="function")return!0}catch(f){if(f.message.indexOf("callee")!==-1)return!0}return!1}(l))return"arguments";if(l instanceof Date||typeof l.toDateString=="function"&&typeof l.getDate=="function"&&typeof l.setDate=="function")return"date";if(l instanceof Error||typeof l.message=="string"&&l.constructor&&typeof l.constructor.stackTraceLimit=="number")return"error";if(l instanceof RegExp||typeof l.flags=="string"&&typeof l.ignoreCase=="boolean"&&typeof l.multiline=="boolean"&&typeof l.global=="boolean")return"regexp";switch(o(l)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(typeof l.throw=="function"&&typeof l.return=="function"&&typeof l.next=="function")return"generator";switch(c=p.call(l)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return c.slice(8,-1).toLowerCase().replace(/\s/g,"")};function o(l){return l.constructor?l.constructor.name:null}function d(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:["option"];return i(l,c,u),n(l,c,u),function(f,g,b){var m=r(g),v=r(f);if(m==="object"){if(v!=="object")throw Error("[Type Error]: '".concat(b.join("."),"' require 'object' type, but got '").concat(v,"'"));Object.keys(g).forEach(function(x){var _=f[x],T=g[x],C=b.slice();C.push(x),i(_,T,C),n(_,T,C),d(_,T,C)})}if(m==="array"){if(v!=="array")throw Error("[Type Error]: '".concat(b.join("."),"' require 'array' type, but got '").concat(v,"'"));f.forEach(function(x,_){var T=f[_],C=g[_]||g[0],S=b.slice();S.push(_),i(T,C,S),n(T,C,S),d(T,C,S)})}}(l,c,u),l}function i(l,c,u){if(r(c)==="string"){var f=r(l);if(c[0]==="?"&&(c=c.slice(1)+"|undefined"),!(-1<c.indexOf("|")?c.split("|").map(function(g){return g.toLowerCase().trim()}).filter(Boolean).some(function(g){return f===g}):c.toLowerCase().trim()===f))throw Error("[Type Error]: '".concat(u.join("."),"' require '").concat(c,"' type, but got '").concat(f,"'"))}}function n(l,c,u){if(r(c)==="function"){var f=c(l,r(l),u);if(f!==!0){var g=r(f);throw g==="string"?Error(f):g==="error"?f:Error("[Validator Error]: The scheme for '".concat(u.join("."),"' validator require return true, but got '").concat(f,"'"))}}}return d.kindOf=r,d},h.exports=t()},{}],"66mFZ":[function(a,h,s){a("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=class{on(t,e,p){let r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:p}),this}once(t,e,p){let r=this;function o(...d){r.off(t,o),e.apply(p,d)}return o._=e,this.on(t,o,p)}emit(t,...e){let p=((this.e||(this.e={}))[t]||[]).slice();for(let r=0;r<p.length;r+=1)p[r].fn.apply(p[r].ctx,e);return this}off(t,e){let p=this.e||(this.e={}),r=p[t],o=[];if(r&&e)for(let d=0,i=r.length;d<i;d+=1)r[d].fn!==e&&r[d].fn._!==e&&o.push(r[d]);return o.length?p[t]=o:delete p[t],this}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9pCYc":[function(a,h,s){s.interopDefault=function(t){return t&&t.__esModule?t:{default:t}},s.defineInteropFlag=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.exportAll=function(t,e){return Object.keys(t).forEach(function(p){p==="default"||p==="__esModule"||Object.prototype.hasOwnProperty.call(e,p)||Object.defineProperty(e,p,{enumerable:!0,get:function(){return t[p]}})}),e},s.export=function(t,e,p){Object.defineProperty(t,e,{enumerable:!0,get:p})}},{}],"71aH7":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("./dom");t.exportAll(e,s);var p=a("./error");t.exportAll(p,s);var r=a("./subtitle");t.exportAll(r,s);var o=a("./file");t.exportAll(o,s);var d=a("./property");t.exportAll(d,s);var i=a("./time");t.exportAll(i,s);var n=a("./format");t.exportAll(n,s);var l=a("./compatibility");t.exportAll(l,s)},{"./dom":"bSNiV","./error":"hwmZz","./subtitle":"inzwq","./file":"6b7Ip","./property":"5NSdr","./time":"epmNy","./format":"gapRl","./compatibility":"6ZTr6","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bSNiV:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"query",()=>p),t.export(s,"queryAll",()=>r),t.export(s,"addClass",()=>o),t.export(s,"removeClass",()=>d),t.export(s,"hasClass",()=>i),t.export(s,"append",()=>n),t.export(s,"remove",()=>l),t.export(s,"setStyle",()=>c),t.export(s,"setStyles",()=>u),t.export(s,"getStyle",()=>f),t.export(s,"sublings",()=>g),t.export(s,"inverseClass",()=>b),t.export(s,"tooltip",()=>m),t.export(s,"isInViewport",()=>v),t.export(s,"includeFromEvent",()=>x),t.export(s,"replaceElement",()=>_),t.export(s,"createElement",()=>T),t.export(s,"getIcon",()=>C),t.export(s,"setStyleText",()=>S),t.export(s,"supportsFlex",()=>A),t.export(s,"getRect",()=>D),t.export(s,"loadImg",()=>I);var e=a("./compatibility");function p(w,$=document){return $.querySelector(w)}function r(w,$=document){return Array.from($.querySelectorAll(w))}function o(w,$){return w.classList.add($)}function d(w,$){return w.classList.remove($)}function i(w,$){return w.classList.contains($)}function n(w,$){return $ instanceof Element?w.appendChild($):w.insertAdjacentHTML("beforeend",String($)),w.lastElementChild||w.lastChild}function l(w){return w.parentNode.removeChild(w)}function c(w,$,j){return w.style[$]=j,w}function u(w,$){for(let j in $)c(w,j,$[j]);return w}function f(w,$,j=!0){let y=window.getComputedStyle(w,null).getPropertyValue($);return j?parseFloat(y):y}function g(w){return Array.from(w.parentElement.children).filter($=>$!==w)}function b(w,$){g(w).forEach(j=>d(j,$)),o(w,$)}function m(w,$,j="top"){e.isMobile||(w.setAttribute("aria-label",$),o(w,"hint--rounded"),o(w,`hint--${j}`))}function v(w,$=0){let j=w.getBoundingClientRect(),y=window.innerHeight||document.documentElement.clientHeight,k=window.innerWidth||document.documentElement.clientWidth,E=j.top-$<=y&&j.top+j.height+$>=0,M=j.left-$<=k+$&&j.left+j.width+$>=0;return E&&M}function x(w,$){return w.composedPath&&w.composedPath().indexOf($)>-1}function _(w,$){return $.parentNode.replaceChild(w,$),w}function T(w){return document.createElement(w)}function C(w="",$=""){let j=T("i");return o(j,"art-icon"),o(j,`art-icon-${w}`),n(j,$),j}function S(w,$){let j=document.getElementById(w);if(j)j.textContent=$;else{let y=T("style");y.id=w,y.textContent=$,document.head.appendChild(y)}}function A(){let w=document.createElement("div");return w.style.display="flex",w.style.display==="flex"}function D(w){return w.getBoundingClientRect()}function I(w,$){return new Promise((j,y)=>{let k=new Image;k.crossOrigin="Anonymous",k.onload=function(){if($&&$!==1){let E=document.createElement("canvas"),M=E.getContext("2d");E.width=k.width*$,E.height=k.height*$,M.drawImage(k,0,0,E.width,E.height),E.toBlob(P=>{let H=URL.createObjectURL(P),F=new Image;F.onload=function(){j(F)},F.onerror=function(){URL.revokeObjectURL(H),y(Error(`Image load failed: ${w}`))},F.src=H})}else j(k)},k.onerror=function(){y(Error(`Image load failed: ${w}`))},k.src=w})}},{"./compatibility":"6ZTr6","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6ZTr6":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"userAgent",()=>e),t.export(s,"isSafari",()=>p),t.export(s,"isWechat",()=>r),t.export(s,"isIE",()=>o),t.export(s,"isAndroid",()=>d),t.export(s,"isIOS",()=>i),t.export(s,"isIOS13",()=>n),t.export(s,"isMobile",()=>l),t.export(s,"isBrowser",()=>c);let e=typeof navigator<"u"?navigator.userAgent:"",p=/^((?!chrome|android).)*safari/i.test(e),r=/MicroMessenger/i.test(e),o=/MSIE|Trident/i.test(e),d=/android/i.test(e),i=/iPad|iPhone|iPod/i.test(e)&&!window.MSStream,n=i||e.includes("Macintosh")&&navigator.maxTouchPoints>=1,l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)||n,c=typeof window<"u"},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hwmZz:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"ArtPlayerError",()=>e),t.export(s,"errorHandle",()=>p);class e extends Error{constructor(o,d){super(o),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,d||this.constructor),this.name="ArtPlayerError"}}function p(r,o){if(!r)throw new e(o);return r}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],inzwq:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(o){return`WEBVTT \r
\r
`.concat(o.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(d,i,n)=>{let l=n.slice(0,3);return n.length===1&&(l=n+"00"),n.length===2&&(l=n+"0"),`${i},${l}`}).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`))}function p(o){return URL.createObjectURL(new Blob([o],{type:"text/vtt"}))}function r(o){let d=RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");function i(n=""){return n.split(/[:.]/).map((l,c,u)=>{if(c===u.length-1){if(l.length===1)return`.${l}00`;if(l.length===2)return`.${l}0`}else if(l.length===1)return(c===0?"0":":0")+l;return c===0?l:c===u.length-1?`.${l}`:`:${l}`}).join("")}return`WEBVTT

`+o.split(/\r?\n/).map(n=>{let l=n.match(d);return l?{start:i(l[1].trim()),end:i(l[2].trim()),text:l[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,`
`).trim().split(/\r?\n/).map(c=>c.trim()).join(`
`)}:null}).filter(n=>n).map((n,l)=>n?l+1+`
${n.start} --> ${n.end}
${n.text}`:"").filter(n=>n.trim()).join(`

`)}t.defineInteropFlag(s),t.export(s,"srtToVtt",()=>e),t.export(s,"vttToBlob",()=>p),t.export(s,"assToVtt",()=>r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6b7Ip":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(p,r){let o=document.createElement("a");o.style.display="none",o.href=p,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o)}t.defineInteropFlag(s),t.export(s,"getExt",()=>function p(r){return r.includes("?")?p(r.split("?")[0]):r.includes("#")?p(r.split("#")[0]):r.trim().toLowerCase().split(".").pop()}),t.export(s,"download",()=>e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5NSdr":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"def",()=>e),t.export(s,"has",()=>r),t.export(s,"get",()=>o),t.export(s,"mergeDeep",()=>function d(...i){let n=l=>l&&typeof l=="object"&&!Array.isArray(l);return i.reduce((l,c)=>(Object.keys(c).forEach(u=>{let f=l[u],g=c[u];Array.isArray(f)&&Array.isArray(g)?l[u]=f.concat(...g):n(f)&&n(g)?l[u]=d(f,g):l[u]=g}),l),{})});let e=Object.defineProperty,{hasOwnProperty:p}=Object.prototype;function r(d,i){return p.call(d,i)}function o(d,i){return Object.getOwnPropertyDescriptor(d,i)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],epmNy:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(o=0){return new Promise(d=>setTimeout(d,o))}function p(o,d){let i;return function(...n){clearTimeout(i),i=setTimeout(()=>(i=null,o.apply(this,n)),d)}}function r(o,d){let i=!1;return function(...n){i||(o.apply(this,n),i=!0,setTimeout(function(){i=!1},d))}}t.defineInteropFlag(s),t.export(s,"sleep",()=>e),t.export(s,"debounce",()=>p),t.export(s,"throttle",()=>r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gapRl:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(i,n,l){return Math.max(Math.min(i,Math.max(n,l)),Math.min(n,l))}function p(i){return i.charAt(0).toUpperCase()+i.slice(1)}function r(i){if(!i)return"00:00";let n=Math.floor(i/3600),l=Math.floor((i-3600*n)/60),c=Math.floor(i-3600*n-60*l);return(n>0?[n,l,c]:[l,c]).map(u=>u<10?`0${u}`:String(u)).join(":")}function o(i){return i.replace(/[&<>'"]/g,n=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[n]||n)}function d(i){let n={"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'},l=RegExp(`(${Object.keys(n).join("|")})`,"g");return i.replace(l,c=>n[c]||c)}t.defineInteropFlag(s),t.export(s,"clamp",()=>e),t.export(s,"capitalize",()=>p),t.export(s,"secondToTime",()=>r),t.export(s,"escape",()=>o),t.export(s,"unescape",()=>d)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],AKEiO:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"ComponentOption",()=>c);var e=a("../utils");let p="array",r="boolean",o="string",d="number",i="object",n="function";function l(u,f,g){return(0,e.errorHandle)(f===o||f===d||u instanceof Element,`${g.join(".")} require '${o}' or 'Element' type`)}let c={html:l,disable:`?${r}`,name:`?${o}`,index:`?${d}`,style:`?${i}`,click:`?${n}`,mounted:`?${n}`,tooltip:`?${o}|${d}`,width:`?${d}`,selector:`?${p}`,onSelect:`?${n}`,switch:`?${r}`,onSwitch:`?${n}`,range:`?${p}`,onRange:`?${n}`,onChange:`?${n}`};s.default={id:o,container:l,url:o,poster:o,type:o,theme:o,lang:o,volume:d,isLive:r,muted:r,autoplay:r,autoSize:r,autoMini:r,loop:r,flip:r,playbackRate:r,aspectRatio:r,screenshot:r,setting:r,hotkey:r,pip:r,mutex:r,backdrop:r,fullscreen:r,fullscreenWeb:r,subtitleOffset:r,miniProgressBar:r,useSSR:r,playsInline:r,lock:r,fastForward:r,autoPlayback:r,autoOrientation:r,airplay:r,proxy:`?${n}`,plugins:[n],layers:[c],contextmenu:[c],settings:[c],controls:[{...c,position:(u,f,g)=>{let b=["top","left","right"];return(0,e.errorHandle)(b.includes(u),`${g.join(".")} only accept ${b.toString()} as parameters`)}}],quality:[{default:`?${r}`,html:o,url:o}],highlight:[{time:d,text:o}],thumbnails:{url:o,number:d,column:d,width:d,height:d,scale:d},subtitle:{url:o,name:o,type:o,style:i,escape:r,encoding:o,onVttLoad:n},moreVideoAttr:i,i18n:i,icons:i,cssVar:i,customType:i}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],lyjeQ:[function(a,h,s){a("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default={propertys:["audioTracks","autoplay","buffered","controller","controls","crossOrigin","currentSrc","currentTime","defaultMuted","defaultPlaybackRate","duration","ended","error","loop","mediaGroup","muted","networkState","paused","playbackRate","played","preload","readyState","seekable","seeking","src","startDate","textTracks","videoTracks","volume"],methods:["addTextTrack","canPlayType","load","play","pause"],events:["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],prototypes:["width","height","videoWidth","videoHeight","poster","webkitDecodedFrameCount","webkitDroppedFrameCount","playsInline","webkitSupportsFullscreen","webkitDisplayingFullscreen","onenterpictureinpicture","onleavepictureinpicture","disablePictureInPicture","cancelVideoFrameCallback","requestVideoFrameCallback","getVideoPlaybackQuality","requestPictureInPicture","webkitEnterFullScreen","webkitEnterFullscreen","webkitExitFullScreen","webkitExitFullscreen"]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],X13Zf:[function(a,h,s){a("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=a("./utils");class e{constructor(r){this.art=r;let{option:o,constructor:d}=r;o.container instanceof Element?this.$container=o.container:(this.$container=(0,t.query)(o.container),(0,t.errorHandle)(this.$container,`No container element found by ${o.container}`)),(0,t.errorHandle)((0,t.supportsFlex)(),"The current browser does not support flex layout");let i=this.$container.tagName.toLowerCase();(0,t.errorHandle)(i==="div",`Unsupported container element type, only support 'div' but got '${i}'`),(0,t.errorHandle)(d.instances.every(n=>n.template.$container!==this.$container),"Cannot mount multiple instances on the same dom element"),this.query=this.query.bind(this),this.$container.dataset.artId=r.id,this.init()}static get html(){return'<div class="art-video-player art-subtitle-show art-layer-show art-control-show art-mask-show"><video class="art-video"><track default kind="metadata" src=""></track></video><div class="art-poster"></div><div class="art-subtitle"></div><div class="art-danmuku"></div><div class="art-layers"></div><div class="art-mask"><div class="art-state"></div></div><div class="art-bottom"><div class="art-progress"></div><div class="art-controls"><div class="art-controls-left"></div><div class="art-controls-center"></div><div class="art-controls-right"></div></div></div><div class="art-loading"></div><div class="art-notice"><div class="art-notice-inner"></div></div><div class="art-settings"></div><div class="art-info"><div class="art-info-panel"><div class="art-info-item"><div class="art-info-title">Player version:</div><div class="art-info-content">5.2.1</div></div><div class="art-info-item"><div class="art-info-title">Video url:</div><div class="art-info-content" data-video="src"></div></div><div class="art-info-item"><div class="art-info-title">Video volume:</div><div class="art-info-content" data-video="volume"></div></div><div class="art-info-item"><div class="art-info-title">Video time:</div><div class="art-info-content" data-video="currentTime"></div></div><div class="art-info-item"><div class="art-info-title">Video duration:</div><div class="art-info-content" data-video="duration"></div></div><div class="art-info-item"><div class="art-info-title">Video resolution:</div><div class="art-info-content"><span data-video="videoWidth"></span>x<span data-video="videoHeight"></span></div></div></div><div class="art-info-close">[x]</div></div><div class="art-contextmenus"></div></div>'}query(r){return(0,t.query)(r,this.$container)}init(){let{option:r}=this.art;if(r.useSSR||(this.$container.innerHTML=e.html),this.$player=this.query(".art-video-player"),this.$video=this.query(".art-video"),this.$track=this.query("track"),this.$poster=this.query(".art-poster"),this.$subtitle=this.query(".art-subtitle"),this.$danmuku=this.query(".art-danmuku"),this.$bottom=this.query(".art-bottom"),this.$progress=this.query(".art-progress"),this.$controls=this.query(".art-controls"),this.$controlsLeft=this.query(".art-controls-left"),this.$controlsCenter=this.query(".art-controls-center"),this.$controlsRight=this.query(".art-controls-right"),this.$layer=this.query(".art-layers"),this.$loading=this.query(".art-loading"),this.$notice=this.query(".art-notice"),this.$noticeInner=this.query(".art-notice-inner"),this.$mask=this.query(".art-mask"),this.$state=this.query(".art-state"),this.$setting=this.query(".art-settings"),this.$info=this.query(".art-info"),this.$infoPanel=this.query(".art-info-panel"),this.$infoClose=this.query(".art-info-close"),this.$contextmenu=this.query(".art-contextmenus"),r.proxy){let o=r.proxy.call(this.art,this.art);(0,t.errorHandle)(o instanceof HTMLVideoElement||o instanceof HTMLCanvasElement,"Function 'option.proxy' needs to return 'HTMLVideoElement' or 'HTMLCanvasElement'"),(0,t.replaceElement)(o,this.$video),o.className="art-video",this.$video=o}r.backdrop&&(0,t.addClass)(this.$player,"art-backdrop"),t.isMobile&&(0,t.addClass)(this.$player,"art-mobile")}destroy(r){r?this.$container.innerHTML="":(0,t.addClass)(this.$player,"art-destroy")}}s.default=e},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3jKkj":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("../utils"),p=a("./zh-cn"),r=t.interopDefault(p);s.default=class{constructor(o){this.art=o,this.languages={"zh-cn":r.default},this.language={},this.update(o.option.i18n)}init(){let o=this.art.option.lang.toLowerCase();this.language=this.languages[o]||{}}get(o){return this.language[o]||o}update(o){this.languages=(0,e.mergeDeep)(this.languages,o),this.init()}}},{"../utils":"71aH7","./zh-cn":"5Y91w","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5Y91w":[function(a,h,s){a("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);let t={"Video Info":"统计信息",Close:"关闭","Video Load Failed":"加载失败",Volume:"音量",Play:"播放",Pause:"暂停",Rate:"速度",Mute:"静音","Video Flip":"画面翻转",Horizontal:"水平",Vertical:"垂直",Reconnect:"重新连接","Show Setting":"显示设置","Hide Setting":"隐藏设置",Screenshot:"截图","Play Speed":"播放速度","Aspect Ratio":"画面比例",Default:"默认",Normal:"正常",Open:"打开","Switch Video":"切换","Switch Subtitle":"切换字幕",Fullscreen:"全屏","Exit Fullscreen":"退出全屏","Web Fullscreen":"网页全屏","Exit Web Fullscreen":"退出网页全屏","Mini Player":"迷你播放器","PIP Mode":"开启画中画","Exit PIP Mode":"退出画中画","PIP Not Supported":"不支持画中画","Fullscreen Not Supported":"不支持全屏","Subtitle Offset":"字幕偏移","Last Seen":"上次看到","Jump Play":"跳转播放",AirPlay:"隔空播放","AirPlay Not Available":"隔空播放不可用"};s.default=t,typeof window<"u"&&(window["artplayer-i18n-zh-cn"]=t)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],a90nx:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("./urlMix"),p=t.interopDefault(e),r=a("./attrMix"),o=t.interopDefault(r),d=a("./playMix"),i=t.interopDefault(d),n=a("./pauseMix"),l=t.interopDefault(n),c=a("./toggleMix"),u=t.interopDefault(c),f=a("./seekMix"),g=t.interopDefault(f),b=a("./volumeMix"),m=t.interopDefault(b),v=a("./currentTimeMix"),x=t.interopDefault(v),_=a("./durationMix"),T=t.interopDefault(_),C=a("./switchMix"),S=t.interopDefault(C),A=a("./playbackRateMix"),D=t.interopDefault(A),I=a("./aspectRatioMix"),w=t.interopDefault(I),$=a("./screenshotMix"),j=t.interopDefault($),y=a("./fullscreenMix"),k=t.interopDefault(y),E=a("./fullscreenWebMix"),M=t.interopDefault(E),P=a("./pipMix"),H=t.interopDefault(P),F=a("./loadedMix"),V=t.interopDefault(F),R=a("./playedMix"),U=t.interopDefault(R),N=a("./playingMix"),tt=t.interopDefault(N),rt=a("./autoSizeMix"),O=t.interopDefault(rt),it=a("./rectMix"),st=t.interopDefault(it),mt=a("./flipMix"),gt=t.interopDefault(mt),vt=a("./miniMix"),yt=t.interopDefault(vt),lt=a("./posterMix"),L=t.interopDefault(lt),Dt=a("./autoHeightMix"),at=t.interopDefault(Dt),ut=a("./cssVarMix"),ft=t.interopDefault(ut),dt=a("./themeMix"),ot=t.interopDefault(dt),bt=a("./typeMix"),zt=t.interopDefault(bt),jt=a("./stateMix"),xt=t.interopDefault(jt),Wt=a("./subtitleOffsetMix"),Ut=t.interopDefault(Wt),Zt=a("./airplayMix"),Kt=t.interopDefault(Zt),Gt=a("./qualityMix"),Xt=t.interopDefault(Gt),Qt=a("./thumbnailsMix"),Jt=t.interopDefault(Qt),te=a("./optionInit"),ee=t.interopDefault(te),re=a("./eventInit"),ae=t.interopDefault(re);s.default=class{constructor(Y){(0,p.default)(Y),(0,o.default)(Y),(0,i.default)(Y),(0,l.default)(Y),(0,u.default)(Y),(0,g.default)(Y),(0,m.default)(Y),(0,x.default)(Y),(0,T.default)(Y),(0,S.default)(Y),(0,D.default)(Y),(0,w.default)(Y),(0,j.default)(Y),(0,k.default)(Y),(0,M.default)(Y),(0,H.default)(Y),(0,V.default)(Y),(0,U.default)(Y),(0,tt.default)(Y),(0,O.default)(Y),(0,st.default)(Y),(0,gt.default)(Y),(0,yt.default)(Y),(0,L.default)(Y),(0,at.default)(Y),(0,ft.default)(Y),(0,ot.default)(Y),(0,zt.default)(Y),(0,xt.default)(Y),(0,Ut.default)(Y),(0,Kt.default)(Y),(0,Xt.default)(Y),(0,Jt.default)(Y),(0,ae.default)(Y),(0,ee.default)(Y)}}},{"./urlMix":"kQoac","./attrMix":"deCma","./playMix":"fOJuP","./pauseMix":"fzHAy","./toggleMix":"cBHxQ","./seekMix":"koAPr","./volumeMix":"6eyuR","./currentTimeMix":"faaWv","./durationMix":"5y91K","./switchMix":"iceD8","./playbackRateMix":"keKwh","./aspectRatioMix":"jihET","./screenshotMix":"36kPY","./fullscreenMix":"2GYOJ","./fullscreenWebMix":"5aYAP","./pipMix":"7EnIB","./loadedMix":"3N9mP","./playedMix":"et96R","./playingMix":"9DzzM","./autoSizeMix":"i1LDY","./rectMix":"IqARI","./flipMix":"7E7Vs","./miniMix":"gpugx","./posterMix":"1SuFS","./autoHeightMix":"8x4te","./cssVarMix":"1CaTA","./themeMix":"2FqhO","./typeMix":"1fQQs","./stateMix":"iBOQW","./subtitleOffsetMix":"6vlBV","./airplayMix":"eftqT","./qualityMix":"5SdyX","./thumbnailsMix":"4HcqV","./optionInit":"fCWZK","./eventInit":"f8Lv3","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kQoac:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{option:o,template:{$video:d}}=r;(0,e.def)(r,"url",{get:()=>d.src,async set(i){if(i){let n=r.url,l=o.type||(0,e.getExt)(i),c=o.customType[l];l&&c?(await(0,e.sleep)(),r.loading.show=!0,c.call(r,d,i,r)):(URL.revokeObjectURL(n),d.src=i),n!==r.url&&(r.option.url=i,r.isReady&&n&&r.once("video:canplay",()=>{r.emit("restart",i)}))}else await(0,e.sleep)(),r.loading.show=!0}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],deCma:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{template:{$video:o}}=r;(0,e.def)(r,"attr",{value(d,i){if(i===void 0)return o[d];o[d]=i}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fOJuP:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{i18n:o,notice:d,option:i,constructor:{instances:n},template:{$video:l}}=r;(0,e.def)(r,"play",{value:async function(){let c=await l.play();if(d.show=o.get("Play"),r.emit("play"),i.mutex)for(let u=0;u<n.length;u++){let f=n[u];f!==r&&f.pause()}return c}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fzHAy:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{template:{$video:o},i18n:d,notice:i}=r;(0,e.def)(r,"pause",{value(){let n=o.pause();return i.show=d.get("Pause"),r.emit("pause"),n}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cBHxQ:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){(0,e.def)(r,"toggle",{value:()=>r.playing?r.pause():r.play()})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],koAPr:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{notice:o}=r;(0,e.def)(r,"seek",{set(d){r.currentTime=d,r.emit("seek",r.currentTime),r.duration&&(o.show=`${(0,e.secondToTime)(r.currentTime)} / ${(0,e.secondToTime)(r.duration)}`)}}),(0,e.def)(r,"forward",{set(d){r.seek=r.currentTime+d}}),(0,e.def)(r,"backward",{set(d){r.seek=r.currentTime-d}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6eyuR":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{template:{$video:o},i18n:d,notice:i,storage:n}=r;(0,e.def)(r,"volume",{get:()=>o.volume||0,set:l=>{o.volume=(0,e.clamp)(l,0,1),i.show=`${d.get("Volume")}: ${parseInt(100*o.volume,10)}`,o.volume!==0&&n.set("volume",o.volume)}}),(0,e.def)(r,"muted",{get:()=>o.muted,set:l=>{o.muted=l,r.emit("muted",l)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],faaWv:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{$video:o}=r.template;(0,e.def)(r,"currentTime",{get:()=>o.currentTime||0,set:d=>{Number.isNaN(d=parseFloat(d))||(o.currentTime=(0,e.clamp)(d,0,r.duration))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5y91K":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){(0,e.def)(r,"duration",{get:()=>{let{duration:o}=r.template.$video;return o===1/0?0:o||0}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],iceD8:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){function o(d,i){return new Promise((n,l)=>{if(d===r.url)return;let{playing:c,aspectRatio:u,playbackRate:f}=r;r.pause(),r.url=d,r.notice.show="",r.once("video:error",l),r.once("video:loadedmetadata",()=>{r.currentTime=i}),r.once("video:canplay",async()=>{r.playbackRate=f,r.aspectRatio=u,c&&await r.play(),r.notice.show="",n()})})}(0,e.def)(r,"switchQuality",{value:d=>o(d,r.currentTime)}),(0,e.def)(r,"switchUrl",{value:d=>o(d,0)}),(0,e.def)(r,"switch",{set:r.switchUrl})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],keKwh:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{template:{$video:o},i18n:d,notice:i}=r;(0,e.def)(r,"playbackRate",{get:()=>o.playbackRate,set(n){n?n!==o.playbackRate&&(o.playbackRate=n,i.show=`${d.get("Rate")}: ${n===1?d.get("Normal"):`${n}x`}`):r.playbackRate=1}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jihET:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{i18n:o,notice:d,template:{$video:i,$player:n}}=r;(0,e.def)(r,"aspectRatio",{get:()=>n.dataset.aspectRatio||"default",set(l){if(l||(l="default"),l==="default")(0,e.setStyle)(i,"width",null),(0,e.setStyle)(i,"height",null),(0,e.setStyle)(i,"margin",null),delete n.dataset.aspectRatio;else{let c=l.split(":").map(Number),{clientWidth:u,clientHeight:f}=n,g=c[0]/c[1];u/f>g?((0,e.setStyle)(i,"width",`${g*f}px`),(0,e.setStyle)(i,"height","100%"),(0,e.setStyle)(i,"margin","0 auto")):((0,e.setStyle)(i,"width","100%"),(0,e.setStyle)(i,"height",`${u/g}px`),(0,e.setStyle)(i,"margin","auto 0")),n.dataset.aspectRatio=l}d.show=`${o.get("Aspect Ratio")}: ${l==="default"?o.get("Default"):l}`,r.emit("aspectRatio",l)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"36kPY":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{notice:o,template:{$video:d}}=r,i=(0,e.createElement)("canvas");(0,e.def)(r,"getDataURL",{value:()=>new Promise((n,l)=>{try{i.width=d.videoWidth,i.height=d.videoHeight,i.getContext("2d").drawImage(d,0,0),n(i.toDataURL("image/png"))}catch(c){o.show=c,l(c)}})}),(0,e.def)(r,"getBlobUrl",{value:()=>new Promise((n,l)=>{try{i.width=d.videoWidth,i.height=d.videoHeight,i.getContext("2d").drawImage(d,0,0),i.toBlob(c=>{n(URL.createObjectURL(c))})}catch(c){o.show=c,l(c)}})}),(0,e.def)(r,"screenshot",{value:async n=>{let l=await r.getDataURL(),c=n||`artplayer_${(0,e.secondToTime)(d.currentTime)}`;return(0,e.download)(l,`${c}.png`),r.emit("screenshot",l),l}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2GYOJ":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>o);var e=a("../libs/screenfull"),p=t.interopDefault(e),r=a("../utils");function o(d){let{i18n:i,notice:n,template:{$video:l,$player:c}}=d,u=g=>{p.default.on("change",()=>{g.emit("fullscreen",p.default.isFullscreen)}),p.default.on("error",b=>{g.emit("fullscreenError",b)}),(0,r.def)(g,"fullscreen",{get:()=>p.default.isFullscreen,async set(b){b?(g.state="fullscreen",await p.default.request(c),(0,r.addClass)(c,"art-fullscreen")):(await p.default.exit(),(0,r.removeClass)(c,"art-fullscreen")),g.emit("resize")}})},f=g=>{g.proxy(document,"webkitfullscreenchange",()=>{g.emit("fullscreen",g.fullscreen),g.emit("resize")}),(0,r.def)(g,"fullscreen",{get:()=>document.fullscreenElement===l,set(b){b?(g.state="fullscreen",l.webkitEnterFullscreen()):l.webkitExitFullscreen()}})};d.once("video:loadedmetadata",()=>{p.default.isEnabled?u(d):l.webkitSupportsFullscreen?f(d):(0,r.def)(d,"fullscreen",{get:()=>!1,set(){n.show=i.get("Fullscreen Not Supported")}}),(0,r.def)(d,"fullscreen",(0,r.get)(d,"fullscreen"))})}},{"../libs/screenfull":"8v40z","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8v40z":[function(a,h,s){a("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);let t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e=(()=>{if(typeof document>"u")return!1;let o=t[0],d={};for(let i of t)if(i[1]in document){for(let[n,l]of i.entries())d[o[n]]=l;return d}return!1})(),p={change:e.fullscreenchange,error:e.fullscreenerror},r={request:(o=document.documentElement,d)=>new Promise((i,n)=>{let l=()=>{r.off("change",l),i()};r.on("change",l);let c=o[e.requestFullscreen](d);c instanceof Promise&&c.then(l).catch(n)}),exit:()=>new Promise((o,d)=>{if(!r.isFullscreen){o();return}let i=()=>{r.off("change",i),o()};r.on("change",i);let n=document[e.exitFullscreen]();n instanceof Promise&&n.then(i).catch(d)}),toggle:(o,d)=>r.isFullscreen?r.exit():r.request(o,d),onchange(o){r.on("change",o)},onerror(o){r.on("error",o)},on(o,d){let i=p[o];i&&document.addEventListener(i,d,!1)},off(o,d){let i=p[o];i&&document.removeEventListener(i,d,!1)},raw:e};Object.defineProperties(r,{isFullscreen:{get:()=>!!document[e.fullscreenElement]},element:{enumerable:!0,get:()=>document[e.fullscreenElement]},isEnabled:{enumerable:!0,get:()=>!!document[e.fullscreenEnabled]}}),e||(r={isEnabled:!1}),s.default=r},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5aYAP":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{constructor:o,template:{$container:d,$player:i}}=r,n="";(0,e.def)(r,"fullscreenWeb",{get:()=>(0,e.hasClass)(i,"art-fullscreen-web"),set(l){l?(n=i.style.cssText,o.FULLSCREEN_WEB_IN_BODY&&(0,e.append)(document.body,i),r.state="fullscreenWeb",(0,e.setStyle)(i,"width","100%"),(0,e.setStyle)(i,"height","100%"),(0,e.addClass)(i,"art-fullscreen-web"),r.emit("fullscreenWeb",!0)):(o.FULLSCREEN_WEB_IN_BODY&&(0,e.append)(d,i),n&&(i.style.cssText=n,n=""),(0,e.removeClass)(i,"art-fullscreen-web"),r.emit("fullscreenWeb",!1)),r.emit("resize")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7EnIB":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{i18n:o,notice:d,template:{$video:i}}=r;document.pictureInPictureEnabled?function(n){let{template:{$video:l},proxy:c,notice:u}=n;l.disablePictureInPicture=!1,(0,e.def)(n,"pip",{get:()=>document.pictureInPictureElement,set(f){f?(n.state="pip",l.requestPictureInPicture().catch(g=>{throw u.show=g,g})):document.exitPictureInPicture().catch(g=>{throw u.show=g,g})}}),c(l,"enterpictureinpicture",()=>{n.emit("pip",!0)}),c(l,"leavepictureinpicture",()=>{n.emit("pip",!1)})}(r):i.webkitSupportsPresentationMode?function(n){let{$video:l}=n.template;l.webkitSetPresentationMode("inline"),(0,e.def)(n,"pip",{get:()=>l.webkitPresentationMode==="picture-in-picture",set(c){c?(n.state="pip",l.webkitSetPresentationMode("picture-in-picture"),n.emit("pip",!0)):(l.webkitSetPresentationMode("inline"),n.emit("pip",!1))}})}(r):(0,e.def)(r,"pip",{get:()=>!1,set(){d.show=o.get("PIP Not Supported")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3N9mP":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{$video:o}=r.template;(0,e.def)(r,"loaded",{get:()=>r.loadedTime/o.duration}),(0,e.def)(r,"loadedTime",{get:()=>o.buffered.length?o.buffered.end(o.buffered.length-1):0})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],et96R:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){(0,e.def)(r,"played",{get:()=>r.currentTime/r.duration})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9DzzM":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{$video:o}=r.template;(0,e.def)(r,"playing",{get:()=>typeof o.playing=="boolean"?o.playing:o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],i1LDY:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{$container:o,$player:d,$video:i}=r.template;(0,e.def)(r,"autoSize",{value(){let{videoWidth:n,videoHeight:l}=i,{width:c,height:u}=(0,e.getRect)(o),f=n/l;c/u>f?((0,e.setStyle)(d,"width",`${u*f/c*100}%`),(0,e.setStyle)(d,"height","100%")):((0,e.setStyle)(d,"width","100%"),(0,e.setStyle)(d,"height",`${c/f/u*100}%`)),r.emit("autoSize",{width:r.width,height:r.height})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],IqARI:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){(0,e.def)(r,"rect",{get:()=>(0,e.getRect)(r.template.$player)});let o=["bottom","height","left","right","top","width"];for(let d=0;d<o.length;d++){let i=o[d];(0,e.def)(r,i,{get:()=>r.rect[i]})}(0,e.def)(r,"x",{get:()=>r.left+window.pageXOffset}),(0,e.def)(r,"y",{get:()=>r.top+window.pageYOffset})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7E7Vs":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{template:{$player:o},i18n:d,notice:i}=r;(0,e.def)(r,"flip",{get:()=>o.dataset.flip||"normal",set(n){n||(n="normal"),n==="normal"?delete o.dataset.flip:o.dataset.flip=n,i.show=`${d.get("Video Flip")}: ${d.get((0,e.capitalize)(n))}`,r.emit("flip",n)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gpugx:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{icons:o,proxy:d,storage:i,template:{$player:n,$video:l}}=r,c=!1,u=0,f=0;function g(){let{$mini:v}=r.template;v&&((0,e.removeClass)(n,"art-mini"),(0,e.setStyle)(v,"display","none"),n.prepend(l),r.emit("mini",!1))}function b(v,x){r.playing?((0,e.setStyle)(v,"display","none"),(0,e.setStyle)(x,"display","flex")):((0,e.setStyle)(v,"display","flex"),(0,e.setStyle)(x,"display","none"))}function m(){let{$mini:v}=r.template,x=(0,e.getRect)(v),_=window.innerHeight-x.height-50,T=window.innerWidth-x.width-50;i.set("top",_),i.set("left",T),(0,e.setStyle)(v,"top",`${_}px`),(0,e.setStyle)(v,"left",`${T}px`)}(0,e.def)(r,"mini",{get:()=>(0,e.hasClass)(n,"art-mini"),set(v){if(v){r.state="mini",(0,e.addClass)(n,"art-mini");let x=function(){let{$mini:C}=r.template;if(C)return(0,e.append)(C,l),(0,e.setStyle)(C,"display","flex");{let S=(0,e.createElement)("div");(0,e.addClass)(S,"art-mini-popup"),(0,e.append)(document.body,S),r.template.$mini=S,(0,e.append)(S,l);let A=(0,e.append)(S,'<div class="art-mini-close"></div>');(0,e.append)(A,o.close),d(A,"click",g);let D=(0,e.append)(S,'<div class="art-mini-state"></div>'),I=(0,e.append)(D,o.play),w=(0,e.append)(D,o.pause);return d(I,"click",()=>r.play()),d(w,"click",()=>r.pause()),b(I,w),r.on("video:playing",()=>b(I,w)),r.on("video:pause",()=>b(I,w)),r.on("video:timeupdate",()=>b(I,w)),d(S,"mousedown",$=>{c=$.button===0,u=$.pageX,f=$.pageY}),r.on("document:mousemove",$=>{if(c){(0,e.addClass)(S,"art-mini-droging");let j=$.pageX-u,y=$.pageY-f;(0,e.setStyle)(S,"transform",`translate(${j}px, ${y}px)`)}}),r.on("document:mouseup",()=>{if(c){c=!1,(0,e.removeClass)(S,"art-mini-droging");let $=(0,e.getRect)(S);i.set("left",$.left),i.set("top",$.top),(0,e.setStyle)(S,"left",`${$.left}px`),(0,e.setStyle)(S,"top",`${$.top}px`),(0,e.setStyle)(S,"transform",null)}}),S}}(),_=i.get("top"),T=i.get("left");_&&T?((0,e.setStyle)(x,"top",`${_}px`),(0,e.setStyle)(x,"left",`${T}px`),(0,e.isInViewport)(x)||m()):m(),r.emit("mini",!0)}else g()}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1SuFS":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{template:{$poster:o}}=r;(0,e.def)(r,"poster",{get:()=>{try{return o.style.backgroundImage.match(/"(.*)"/)[1]}catch{return""}},set(d){(0,e.setStyle)(o,"backgroundImage",`url(${d})`)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8x4te":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{template:{$container:o,$video:d}}=r;(0,e.def)(r,"autoHeight",{value(){let{clientWidth:i}=o,{videoHeight:n,videoWidth:l}=d,c=i/l*n;(0,e.setStyle)(o,"height",c+"px"),r.emit("autoHeight",c)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1CaTA":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{$player:o}=r.template;(0,e.def)(r,"cssVar",{value:(d,i)=>i?o.style.setProperty(d,i):getComputedStyle(o).getPropertyValue(d)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2FqhO":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){(0,e.def)(r,"theme",{get:()=>r.cssVar("--art-theme"),set(o){r.cssVar("--art-theme",o)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1fQQs":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){(0,e.def)(r,"type",{get:()=>r.option.type,set(o){r.option.type=o}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],iBOQW:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let o=["mini","pip","fullscreen","fullscreenWeb"];(0,e.def)(r,"state",{get:()=>o.find(d=>r[d])||"standard",set(d){for(let i=0;i<o.length;i++){let n=o[i];n!==d&&r[n]&&(r[n]=!1)}}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6vlBV":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{notice:o,i18n:d,template:i}=r;(0,e.def)(r,"subtitleOffset",{get:()=>{var n;return((n=i.$track)==null?void 0:n.offset)||0},set(n){let{cues:l}=r.subtitle;if(!i.$track||l.length===0)return;let c=(0,e.clamp)(n,-10,10);i.$track.offset=c;for(let u=0;u<l.length;u++){let f=l[u];f.originalStartTime=f.originalStartTime??f.startTime,f.originalEndTime=f.originalEndTime??f.endTime,f.startTime=(0,e.clamp)(f.originalStartTime+c,0,r.duration),f.endTime=(0,e.clamp)(f.originalEndTime+c,0,r.duration)}r.subtitle.update(),o.show=`${d.get("Subtitle Offset")}: ${n}s`,r.emit("subtitleOffset",n)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eftqT:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{i18n:o,notice:d,proxy:i,template:{$video:n}}=r,l=!0;window.WebKitPlaybackTargetAvailabilityEvent&&n.webkitShowPlaybackTargetPicker?i(n,"webkitplaybacktargetavailabilitychanged",c=>{switch(c.availability){case"available":l=!0;break;case"not-available":l=!1}}):l=!1,(0,e.def)(r,"airplay",{value(){l?(n.webkitShowPlaybackTargetPicker(),r.emit("airplay")):d.show=o.get("AirPlay Not Available")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5SdyX":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){(0,e.def)(r,"quality",{set(o){let{controls:d,notice:i,i18n:n}=r,l=o.find(c=>c.default)||o[0];d.update({name:"quality",position:"right",index:10,style:{marginRight:"10px"},html:(l==null?void 0:l.html)||"",selector:o,onSelect:async c=>(await r.switchQuality(c.url),i.show=`${n.get("Switch Video")}: ${c.html}`,c.html)})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4HcqV":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{events:o,option:d,template:{$progress:i,$video:n}}=r,l=null,c=null,u=!1,f=!1,g=!1;o.hover(i,()=>{g=!0},()=>{g=!1}),r.on("setBar",async(b,m,v)=>{var S;let x=(S=r.controls)==null?void 0:S.thumbnails,{url:_,scale:T}=d.thumbnails;if(!x||!_)return;let C=b==="played"&&v&&e.isMobile;if(b==="hover"||C){if(u||(u=!0,c=await(0,e.loadImg)(_,T),f=!0),!f||!g)return;let A=i.clientWidth*m;(0,e.setStyle)(x,"display","flex"),A>0&&A<i.clientWidth?function(D){var F;let I=(F=r.controls)==null?void 0:F.thumbnails;if(!I)return;let{number:w,column:$,width:j,height:y,scale:k}=d.thumbnails,E=j*k||c.naturalWidth/$,M=y*k||E/(n.videoWidth/n.videoHeight),P=Math.floor(D/(i.clientWidth/w)),H=Math.ceil(P/$)-1;(0,e.setStyle)(I,"backgroundImage",`url(${c.src})`),(0,e.setStyle)(I,"height",`${M}px`),(0,e.setStyle)(I,"width",`${E}px`),(0,e.setStyle)(I,"backgroundPosition",`-${(P%$||$-1)*E}px -${H*M}px`),D<=E/2?(0,e.setStyle)(I,"left",0):D>i.clientWidth-E/2?(0,e.setStyle)(I,"left",`${i.clientWidth-E}px`):(0,e.setStyle)(I,"left",`${D-E/2}px`)}(A):e.isMobile||(0,e.setStyle)(x,"display","none"),C&&(clearTimeout(l),l=setTimeout(()=>{(0,e.setStyle)(x,"display","none")},500))}}),(0,e.def)(r,"thumbnails",{get:()=>r.option.thumbnails,set(b){b.url&&!r.option.isLive&&(r.option.thumbnails=b,clearTimeout(l),l=null,c=null,u=!1,f=!1)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fCWZK:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{option:o,storage:d,template:{$video:i,$poster:n}}=r;for(let c in o.moreVideoAttr)r.attr(c,o.moreVideoAttr[c]);o.muted&&(r.muted=o.muted),o.volume&&(i.volume=(0,e.clamp)(o.volume,0,1));let l=d.get("volume");for(let c in typeof l=="number"&&(i.volume=(0,e.clamp)(l,0,1)),o.poster&&(0,e.setStyle)(n,"backgroundImage",`url(${o.poster})`),o.autoplay&&(i.autoplay=o.autoplay),o.playsInline&&(i.playsInline=!0,i["webkit-playsinline"]=!0),o.theme&&(o.cssVar["--art-theme"]=o.theme),o.cssVar)r.cssVar(c,o.cssVar[c]);r.url=o.url}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],f8Lv3:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>o);var e=a("../config"),p=t.interopDefault(e),r=a("../utils");function o(d){let{i18n:i,notice:n,option:l,constructor:c,proxy:u,template:{$player:f,$video:g,$poster:b}}=d,m=0;for(let v=0;v<p.default.events.length;v++)u(g,p.default.events[v],x=>{d.emit(`video:${x.type}`,x)});d.on("video:canplay",()=>{m=0,d.loading.show=!1}),d.once("video:canplay",()=>{d.loading.show=!1,d.controls.show=!0,d.mask.show=!0,d.isReady=!0,d.emit("ready")}),d.on("video:ended",()=>{l.loop?(d.seek=0,d.play(),d.controls.show=!1,d.mask.show=!1):(d.controls.show=!0,d.mask.show=!0)}),d.on("video:error",async v=>{m<c.RECONNECT_TIME_MAX?(await(0,r.sleep)(c.RECONNECT_SLEEP_TIME),m+=1,d.url=l.url,n.show=`${i.get("Reconnect")}: ${m}`,d.emit("error",v,m)):(d.mask.show=!0,d.loading.show=!1,d.controls.show=!0,(0,r.addClass)(f,"art-error"),await(0,r.sleep)(c.RECONNECT_SLEEP_TIME),n.show=i.get("Video Load Failed"))}),d.on("video:loadedmetadata",()=>{d.emit("resize"),r.isMobile&&(d.loading.show=!1,d.controls.show=!0,d.mask.show=!0)}),d.on("video:loadstart",()=>{d.loading.show=!0,d.mask.show=!1,d.controls.show=!0}),d.on("video:pause",()=>{d.controls.show=!0,d.mask.show=!0}),d.on("video:play",()=>{d.mask.show=!1,(0,r.setStyle)(b,"display","none")}),d.on("video:playing",()=>{d.mask.show=!1}),d.on("video:progress",()=>{d.playing&&(d.loading.show=!1)}),d.on("video:seeked",()=>{d.loading.show=!1,d.mask.show=!0}),d.on("video:seeking",()=>{d.loading.show=!0,d.mask.show=!1}),d.on("video:timeupdate",()=>{d.mask.show=!1}),d.on("video:waiting",()=>{d.loading.show=!0,d.mask.show=!1})}},{"../config":"lyjeQ","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8Z0Uf":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("../utils/component"),p=t.interopDefault(e),r=a("./fullscreen"),o=t.interopDefault(r),d=a("./fullscreenWeb"),i=t.interopDefault(d),n=a("./pip"),l=t.interopDefault(n),c=a("./playAndPause"),u=t.interopDefault(c),f=a("./progress"),g=t.interopDefault(f),b=a("./time"),m=t.interopDefault(b),v=a("./volume"),x=t.interopDefault(v),_=a("./setting"),T=t.interopDefault(_),C=a("./screenshot"),S=t.interopDefault(C),A=a("./airplay"),D=t.interopDefault(A),I=a("../utils");class w extends p.default{constructor(j){super(j),this.isHover=!1,this.name="control",this.timer=Date.now();let{constructor:y}=j,{$player:k,$bottom:E}=this.art.template;j.on("mousemove",()=>{I.isMobile||(this.show=!0)}),j.on("click",()=>{I.isMobile?this.toggle():this.show=!0}),j.on("document:mousemove",M=>{this.isHover=(0,I.includeFromEvent)(M,E)}),j.on("video:timeupdate",()=>{!j.setting.show&&!this.isHover&&!j.isInput&&j.playing&&this.show&&Date.now()-this.timer>=y.CONTROL_HIDE_TIME&&(this.show=!1)}),j.on("control",M=>{M?((0,I.removeClass)(k,"art-hide-cursor"),(0,I.addClass)(k,"art-hover"),this.timer=Date.now()):((0,I.addClass)(k,"art-hide-cursor"),(0,I.removeClass)(k,"art-hover"))}),this.init()}init(){let{option:j}=this.art;j.isLive||this.add((0,g.default)({name:"progress",position:"top",index:10})),this.add({name:"thumbnails",position:"top",index:20}),this.add((0,u.default)({name:"playAndPause",position:"left",index:10})),this.add((0,x.default)({name:"volume",position:"left",index:20})),j.isLive||this.add((0,m.default)({name:"time",position:"left",index:30})),j.quality.length&&(0,I.sleep)().then(()=>{this.art.quality=j.quality}),j.screenshot&&!I.isMobile&&this.add((0,S.default)({name:"screenshot",position:"right",index:20})),j.setting&&this.add((0,T.default)({name:"setting",position:"right",index:30})),j.pip&&this.add((0,l.default)({name:"pip",position:"right",index:40})),j.airplay&&window.WebKitPlaybackTargetAvailabilityEvent&&this.add((0,D.default)({name:"airplay",position:"right",index:50})),j.fullscreenWeb&&this.add((0,i.default)({name:"fullscreenWeb",position:"right",index:60})),j.fullscreen&&this.add((0,o.default)({name:"fullscreen",position:"right",index:70}));for(let y=0;y<j.controls.length;y++)this.add(j.controls[y])}add(j){let y=typeof j=="function"?j(this.art):j,{$progress:k,$controlsLeft:E,$controlsRight:M}=this.art.template;switch(y.position){case"top":this.$parent=k;break;case"left":this.$parent=E;break;case"right":this.$parent=M;break;default:(0,I.errorHandle)(!1,"Control option.position must one of 'top', 'left', 'right'")}super.add(y)}check(j){j.$control_value.innerHTML=j.html;for(let y=0;y<j.$control_option.length;y++){let k=j.$control_option[y];k.default=k===j,k.default&&(0,I.inverseClass)(k.$control_item,"art-current")}}selector(j,y,k){let{proxy:E}=this.art.events;(0,I.addClass)(y,"art-control-selector");let M=(0,I.createElement)("div");(0,I.addClass)(M,"art-selector-value"),(0,I.append)(M,j.html),y.innerText="",(0,I.append)(y,M);let P=(0,I.createElement)("div");(0,I.addClass)(P,"art-selector-list"),(0,I.append)(y,P);for(let F=0;F<j.selector.length;F++){let V=j.selector[F],R=(0,I.createElement)("div");(0,I.addClass)(R,"art-selector-item"),V.default&&(0,I.addClass)(R,"art-current"),R.dataset.index=F,R.dataset.value=V.value,R.innerHTML=V.html,(0,I.append)(P,R),(0,I.def)(V,"$control_option",{get:()=>j.selector}),(0,I.def)(V,"$control_item",{get:()=>R}),(0,I.def)(V,"$control_value",{get:()=>M})}let H=E(P,"click",async F=>{let V=F.composedPath()||[],R=j.selector.find(U=>U.$control_item===V.find(N=>U.$control_item===N));this.check(R),j.onSelect&&(M.innerHTML=await j.onSelect.call(this.art,R,R.$control_item,F))});k.push(H)}}s.default=w},{"../utils/component":"18nVI","./fullscreen":"c61Lj","./fullscreenWeb":"03jeB","./pip":"u8l8e","./playAndPause":"ebXtb","./progress":"bgoVP","./time":"ikc2j","./volume":"b8NFx","./setting":"03o9l","./screenshot":"4KCF5","./airplay":"4IS2d","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"18nVI":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("./dom"),p=a("./error"),r=a("option-validator"),o=t.interopDefault(r),d=a("../scheme");s.default=class{constructor(i){this.id=0,this.art=i,this.cache=new Map,this.add=this.add.bind(this),this.remove=this.remove.bind(this),this.update=this.update.bind(this)}get show(){return(0,e.hasClass)(this.art.template.$player,`art-${this.name}-show`)}set show(i){let{$player:n}=this.art.template,l=`art-${this.name}-show`;i?(0,e.addClass)(n,l):(0,e.removeClass)(n,l),this.art.emit(this.name,i)}toggle(){this.show=!this.show}add(i){let n=typeof i=="function"?i(this.art):i;if(n.html=n.html||"",(0,o.default)(n,d.ComponentOption),!this.$parent||!this.name||n.disable)return;let l=n.name||`${this.name}${this.id}`,c=this.cache.get(l);(0,p.errorHandle)(!c,`Can't add an existing [${l}] to the [${this.name}]`),this.id+=1;let u=(0,e.createElement)("div");(0,e.addClass)(u,`art-${this.name}`),(0,e.addClass)(u,`art-${this.name}-${l}`);let f=Array.from(this.$parent.children);u.dataset.index=n.index||this.id;let g=f.find(m=>Number(m.dataset.index)>=Number(u.dataset.index));g?g.insertAdjacentElement("beforebegin",u):(0,e.append)(this.$parent,u),n.html&&(0,e.append)(u,n.html),n.style&&(0,e.setStyles)(u,n.style),n.tooltip&&(0,e.tooltip)(u,n.tooltip);let b=[];if(n.click){let m=this.art.events.proxy(u,"click",v=>{v.preventDefault(),n.click.call(this.art,this,v)});b.push(m)}return n.selector&&["left","right"].includes(n.position)&&this.selector(n,u,b),this[l]=u,this.cache.set(l,{$ref:u,events:b,option:n}),n.mounted&&n.mounted.call(this.art,u),u}remove(i){let n=this.cache.get(i);(0,p.errorHandle)(n,`Can't find [${i}] from the [${this.name}]`),n.option.beforeUnmount&&n.option.beforeUnmount.call(this.art,n.$ref);for(let l=0;l<n.events.length;l++)this.art.events.remove(n.events[l]);this.cache.delete(i),delete this[i],(0,e.remove)(n.$ref)}update(i){let n=this.cache.get(i.name);return n&&(i=Object.assign(n.option,i),this.remove(i.name)),this.add(i)}}},{"./dom":"bSNiV","./error":"hwmZz","option-validator":"bAWi2","../scheme":"AKEiO","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],c61Lj:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return o=>({...r,tooltip:o.i18n.get("Fullscreen"),mounted:d=>{let{proxy:i,icons:n,i18n:l}=o,c=(0,e.append)(d,n.fullscreenOn),u=(0,e.append)(d,n.fullscreenOff);(0,e.setStyle)(u,"display","none"),i(d,"click",()=>{o.fullscreen=!o.fullscreen}),o.on("fullscreen",f=>{f?((0,e.tooltip)(d,l.get("Exit Fullscreen")),(0,e.setStyle)(c,"display","none"),(0,e.setStyle)(u,"display","inline-flex")):((0,e.tooltip)(d,l.get("Fullscreen")),(0,e.setStyle)(c,"display","inline-flex"),(0,e.setStyle)(u,"display","none"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"03jeB":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return o=>({...r,tooltip:o.i18n.get("Web Fullscreen"),mounted:d=>{let{proxy:i,icons:n,i18n:l}=o,c=(0,e.append)(d,n.fullscreenWebOn),u=(0,e.append)(d,n.fullscreenWebOff);(0,e.setStyle)(u,"display","none"),i(d,"click",()=>{o.fullscreenWeb=!o.fullscreenWeb}),o.on("fullscreenWeb",f=>{f?((0,e.tooltip)(d,l.get("Exit Web Fullscreen")),(0,e.setStyle)(c,"display","none"),(0,e.setStyle)(u,"display","inline-flex")):((0,e.tooltip)(d,l.get("Web Fullscreen")),(0,e.setStyle)(c,"display","inline-flex"),(0,e.setStyle)(u,"display","none"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],u8l8e:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return o=>({...r,tooltip:o.i18n.get("PIP Mode"),mounted:d=>{let{proxy:i,icons:n,i18n:l}=o;(0,e.append)(d,n.pip),i(d,"click",()=>{o.pip=!o.pip}),o.on("pip",c=>{(0,e.tooltip)(d,l.get(c?"Exit PIP Mode":"PIP Mode"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ebXtb:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return o=>({...r,mounted:d=>{let{proxy:i,icons:n,i18n:l}=o,c=(0,e.append)(d,n.play),u=(0,e.append)(d,n.pause);function f(){(0,e.setStyle)(c,"display","flex"),(0,e.setStyle)(u,"display","none")}function g(){(0,e.setStyle)(c,"display","none"),(0,e.setStyle)(u,"display","flex")}(0,e.tooltip)(c,l.get("Play")),(0,e.tooltip)(u,l.get("Pause")),i(c,"click",()=>{o.play()}),i(u,"click",()=>{o.pause()}),o.playing?g():f(),o.on("video:playing",()=>{g()}),o.on("video:pause",()=>{f()})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bgoVP:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"getPosFromEvent",()=>p),t.export(s,"setCurrentTime",()=>r),t.export(s,"default",()=>o);var e=a("../utils");function p(d,i){let{$progress:n}=d.template,{left:l}=(0,e.getRect)(n),c=e.isMobile?i.touches[0].clientX:i.clientX,u=(0,e.clamp)(c-l,0,n.clientWidth),f=u/n.clientWidth*d.duration,g=(0,e.secondToTime)(f),b=(0,e.clamp)(u/n.clientWidth,0,1);return{second:f,time:g,width:u,percentage:b}}function r(d,i){if(d.isRotate){let n=i.touches[0].clientY/d.height,l=n*d.duration;d.emit("setBar","played",n,i),d.seek=l}else{let{second:n,percentage:l}=p(d,i);d.emit("setBar","played",l,i),d.seek=n}}function o(d){return i=>{let{icons:n,option:l,proxy:c}=i;return{...d,html:'<div class="art-control-progress-inner"><div class="art-progress-hover"></div><div class="art-progress-loaded"></div><div class="art-progress-played"></div><div class="art-progress-highlight"></div><div class="art-progress-indicator"></div><div class="art-progress-tip"></div></div>',mounted:u=>{let f=null,g=!1,b=(0,e.query)(".art-progress-hover",u),m=(0,e.query)(".art-progress-loaded",u),v=(0,e.query)(".art-progress-played",u),x=(0,e.query)(".art-progress-highlight",u),_=(0,e.query)(".art-progress-indicator",u),T=(0,e.query)(".art-progress-tip",u);function C(S,A){let{width:D,time:I}=A||p(i,S);T.innerText=I;let w=T.clientWidth;D<=w/2?(0,e.setStyle)(T,"left",0):D>u.clientWidth-w/2?(0,e.setStyle)(T,"left",`${u.clientWidth-w}px`):(0,e.setStyle)(T,"left",`${D-w/2}px`)}n.indicator?(0,e.append)(_,n.indicator):(0,e.setStyle)(_,"backgroundColor","var(--art-theme)"),i.on("setBar",function(S,A,D){let I=S==="played"&&D&&e.isMobile;S==="loaded"&&(0,e.setStyle)(m,"width",`${100*A}%`),S==="hover"&&(0,e.setStyle)(b,"width",`${100*A}%`),S==="played"&&((0,e.setStyle)(v,"width",`${100*A}%`),(0,e.setStyle)(_,"left",`${100*A}%`)),I&&((0,e.setStyle)(T,"display","flex"),C(D,{width:u.clientWidth*A,time:(0,e.secondToTime)(A*i.duration)}),clearTimeout(f),f=setTimeout(()=>{(0,e.setStyle)(T,"display","none")},500))}),i.on("video:loadedmetadata",function(){x.innerText="";for(let S=0;S<l.highlight.length;S++){let A=l.highlight[S],D=(0,e.clamp)(A.time,0,i.duration)/i.duration*100,I=`<span data-text="${A.text}" data-time="${A.time}" style="left: ${D}%"></span>`;(0,e.append)(x,I)}}),i.on("video:progress",()=>{i.emit("setBar","loaded",i.loaded)}),i.constructor.USE_RAF?i.on("raf",()=>{i.emit("setBar","played",i.played)}):i.on("video:timeupdate",()=>{i.emit("setBar","played",i.played)}),i.on("video:ended",()=>{i.emit("setBar","played",1)}),i.emit("setBar","loaded",i.loaded||0),e.isMobile||(c(u,"click",S=>{S.target!==_&&r(i,S)}),c(u,"mousemove",S=>{let{percentage:A}=p(i,S);i.emit("setBar","hover",A,S),(0,e.setStyle)(T,"display","flex"),(0,e.includeFromEvent)(S,x)?function(D){let{width:I}=p(i,D),{text:w}=D.target.dataset;T.innerText=w;let $=T.clientWidth;I<=$/2?(0,e.setStyle)(T,"left",0):I>u.clientWidth-$/2?(0,e.setStyle)(T,"left",`${u.clientWidth-$}px`):(0,e.setStyle)(T,"left",`${I-$/2}px`)}(S):C(S)}),c(u,"mouseleave",S=>{(0,e.setStyle)(T,"display","none"),i.emit("setBar","hover",0,S)}),c(u,"mousedown",S=>{g=S.button===0}),i.on("document:mousemove",S=>{if(g){let{second:A,percentage:D}=p(i,S);i.emit("setBar","played",D,S),i.seek=A}}),i.on("document:mouseup",()=>{g&&(g=!1)}))}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ikc2j:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return o=>({...r,style:e.isMobile?{fontSize:"12px",padding:"0 5px"}:{cursor:"auto",padding:"0 10px"},mounted:d=>{function i(){let l=`${(0,e.secondToTime)(o.currentTime)} / ${(0,e.secondToTime)(o.duration)}`;l!==d.innerText&&(d.innerText=l)}i();let n=["video:loadedmetadata","video:timeupdate","video:progress"];for(let l=0;l<n.length;l++)o.on(n[l],i)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],b8NFx:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return o=>({...r,mounted:d=>{let{proxy:i,icons:n}=o,l=(0,e.append)(d,n.volume),c=(0,e.append)(d,n.volumeClose),u=(0,e.append)(d,'<div class="art-volume-panel"></div>'),f=(0,e.append)(u,'<div class="art-volume-inner"></div>'),g=(0,e.append)(f,'<div class="art-volume-val"></div>'),b=(0,e.append)(f,'<div class="art-volume-slider"></div>'),m=(0,e.append)(b,'<div class="art-volume-handle"></div>'),v=(0,e.append)(m,'<div class="art-volume-loaded"></div>'),x=(0,e.append)(b,'<div class="art-volume-indicator"></div>');function _(C){let{top:S,height:A}=(0,e.getRect)(b);return 1-(C.clientY-S)/A}function T(){if(o.muted||o.volume===0)(0,e.setStyle)(l,"display","none"),(0,e.setStyle)(c,"display","flex"),(0,e.setStyle)(x,"top","100%"),(0,e.setStyle)(v,"top","100%"),g.innerText=0;else{let C=100*o.volume;(0,e.setStyle)(l,"display","flex"),(0,e.setStyle)(c,"display","none"),(0,e.setStyle)(x,"top",`${100-C}%`),(0,e.setStyle)(v,"top",`${100-C}%`),g.innerText=Math.floor(C)}}if(T(),o.on("video:volumechange",T),i(l,"click",()=>{o.muted=!0}),i(c,"click",()=>{o.muted=!1}),e.isMobile)(0,e.setStyle)(u,"display","none");else{let C=!1;i(b,"mousedown",S=>{C=S.button===0,o.volume=_(S)}),o.on("document:mousemove",S=>{C&&(o.muted=!1,o.volume=_(S))}),o.on("document:mouseup",()=>{C&&(C=!1)})}}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"03o9l":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return o=>({...r,tooltip:o.i18n.get("Show Setting"),mounted:d=>{let{proxy:i,icons:n,i18n:l}=o;(0,e.append)(d,n.setting),i(d,"click",()=>{o.setting.toggle(),o.setting.resize()}),o.on("setting",c=>{(0,e.tooltip)(d,l.get(c?"Hide Setting":"Show Setting"))})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4KCF5":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return o=>({...r,tooltip:o.i18n.get("Screenshot"),mounted:d=>{let{proxy:i,icons:n}=o;(0,e.append)(d,n.screenshot),i(d,"click",()=>{o.screenshot()})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4IS2d":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return o=>({...r,tooltip:o.i18n.get("AirPlay"),mounted:d=>{let{proxy:i,icons:n}=o;(0,e.append)(d,n.airplay),i(d,"click",()=>o.airplay())}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2KYsr":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("../utils"),p=a("../utils/component"),r=t.interopDefault(p),o=a("./playbackRate"),d=t.interopDefault(o),i=a("./aspectRatio"),n=t.interopDefault(i),l=a("./flip"),c=t.interopDefault(l),u=a("./info"),f=t.interopDefault(u),g=a("./version"),b=t.interopDefault(g),m=a("./close"),v=t.interopDefault(m);class x extends r.default{constructor(T){super(T),this.name="contextmenu",this.$parent=T.template.$contextmenu,e.isMobile||this.init()}init(){let{option:T,proxy:C,template:{$player:S,$contextmenu:A}}=this.art;T.playbackRate&&this.add((0,d.default)({name:"playbackRate",index:10})),T.aspectRatio&&this.add((0,n.default)({name:"aspectRatio",index:20})),T.flip&&this.add((0,c.default)({name:"flip",index:30})),this.add((0,f.default)({name:"info",index:40})),this.add((0,b.default)({name:"version",index:50})),this.add((0,v.default)({name:"close",index:60}));for(let D=0;D<T.contextmenu.length;D++)this.add(T.contextmenu[D]);C(S,"contextmenu",D=>{if(!this.art.constructor.CONTEXTMENU)return;D.preventDefault(),this.show=!0;let I=D.clientX,w=D.clientY,{height:$,width:j,left:y,top:k}=(0,e.getRect)(S),{height:E,width:M}=(0,e.getRect)(A),P=I-y,H=w-k;I+M>y+j&&(P=j-M),w+E>k+$&&(H=$-E),(0,e.setStyles)(A,{top:`${H}px`,left:`${P}px`})}),C(S,"click",D=>{(0,e.includeFromEvent)(D,A)||(this.show=!1)}),this.art.on("blur",()=>{this.show=!1})}}s.default=x},{"../utils":"71aH7","../utils/component":"18nVI","./playbackRate":"69eLi","./aspectRatio":"lUefg","./flip":"kysiM","./info":"gqIgJ","./version":"kRU7C","./close":"jQ8Pm","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"69eLi":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return o=>{let{i18n:d,constructor:{PLAYBACK_RATE:i}}=o,n=i.map(l=>`<span data-value="${l}">${l===1?d.get("Normal"):l.toFixed(1)}</span>`).join("");return{...r,html:`${d.get("Play Speed")}: ${n}`,click:(l,c)=>{let{value:u}=c.target.dataset;u&&(o.playbackRate=Number(u),l.show=!1)},mounted:l=>{let c=(0,e.query)('[data-value="1"]',l);c&&(0,e.inverseClass)(c,"art-current"),o.on("video:ratechange",()=>{let u=(0,e.queryAll)("span",l).find(f=>Number(f.dataset.value)===o.playbackRate);u&&(0,e.inverseClass)(u,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],lUefg:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return o=>{let{i18n:d,constructor:{ASPECT_RATIO:i}}=o,n=i.map(l=>`<span data-value="${l}">${l==="default"?d.get("Default"):l}</span>`).join("");return{...r,html:`${d.get("Aspect Ratio")}: ${n}`,click:(l,c)=>{let{value:u}=c.target.dataset;u&&(o.aspectRatio=u,l.show=!1)},mounted:l=>{let c=(0,e.query)('[data-value="default"]',l);c&&(0,e.inverseClass)(c,"art-current"),o.on("aspectRatio",u=>{let f=(0,e.queryAll)("span",l).find(g=>g.dataset.value===u);f&&(0,e.inverseClass)(f,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kysiM:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return o=>{let{i18n:d,constructor:{FLIP:i}}=o,n=i.map(l=>`<span data-value="${l}">${d.get((0,e.capitalize)(l))}</span>`).join("");return{...r,html:`${d.get("Video Flip")}: ${n}`,click:(l,c)=>{let{value:u}=c.target.dataset;u&&(o.flip=u.toLowerCase(),l.show=!1)},mounted:l=>{let c=(0,e.query)('[data-value="normal"]',l);c&&(0,e.inverseClass)(c,"art-current"),o.on("flip",u=>{let f=(0,e.queryAll)("span",l).find(g=>g.dataset.value===u);f&&(0,e.inverseClass)(f,"art-current")})}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gqIgJ:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(p){return r=>({...p,html:r.i18n.get("Video Info"),click:o=>{r.info.show=!0,o.show=!1}})}t.defineInteropFlag(s),t.export(s,"default",()=>e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kRU7C:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(p){return{...p,html:'<a href="https://artplayer.org" target="_blank">ArtPlayer 5.2.1</a>'}}t.defineInteropFlag(s),t.export(s,"default",()=>e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jQ8Pm:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(p){return r=>({...p,html:r.i18n.get("Close"),click:o=>{o.show=!1}})}t.defineInteropFlag(s),t.export(s,"default",()=>e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"02ajl":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("./utils"),p=a("./utils/component"),r=t.interopDefault(p);class o extends r.default{constructor(i){super(i),this.name="info",e.isMobile||this.init()}init(){let{proxy:i,constructor:n,template:{$infoPanel:l,$infoClose:c,$video:u}}=this.art;i(c,"click",()=>{this.show=!1});let f=null,g=(0,e.queryAll)("[data-video]",l)||[];this.art.on("destroy",()=>clearTimeout(f)),function b(){for(let m=0;m<g.length;m++){let v=g[m],x=u[v.dataset.video],_=typeof x=="number"?x.toFixed(2):x;v.innerText!==_&&(v.innerText=_)}f=setTimeout(b,n.INFO_LOOP_TIME)}()}}s.default=o},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eSWto:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("./utils"),p=a("./utils/component"),r=t.interopDefault(p),o=a("option-validator"),d=t.interopDefault(o),i=a("./scheme"),n=t.interopDefault(i);class l extends r.default{constructor(u){super(u),this.name="subtitle",this.option=null,this.destroyEvent=()=>null,this.init(u.option.subtitle);let f=!1;u.on("video:timeupdate",()=>{if(!this.url)return;let g=this.art.template.$video.webkitDisplayingFullscreen;typeof g=="boolean"&&g!==f&&(f=g,this.createTrack(g?"subtitles":"metadata",this.url))})}get url(){return this.art.template.$track.src}set url(u){this.switch(u)}get textTrack(){var u,f;return(f=(u=this.art.template.$video)==null?void 0:u.textTracks)==null?void 0:f[0]}get activeCues(){return this.textTrack?Array.from(this.textTrack.activeCues):[]}get cues(){return this.textTrack?Array.from(this.textTrack.cues):[]}style(u,f){let{$subtitle:g}=this.art.template;return typeof u=="object"?(0,e.setStyles)(g,u):(0,e.setStyle)(g,u,f)}update(){let{option:{subtitle:u},template:{$subtitle:f}}=this.art;f.innerHTML="",this.activeCues.length&&(this.art.emit("subtitleBeforeUpdate",this.activeCues),f.innerHTML=this.activeCues.map((g,b)=>g.text.split(/\r?\n/).filter(m=>m.trim()).map(m=>`<div class="art-subtitle-line" data-group="${b}">${u.escape?(0,e.escape)(m):m}</div>`).join("")).join(""),this.art.emit("subtitleAfterUpdate",this.activeCues))}async switch(u,f={}){let{i18n:g,notice:b,option:m}=this.art,v={...m.subtitle,...f,url:u},x=await this.init(v);return f.name&&(b.show=`${g.get("Switch Subtitle")}: ${f.name}`),x}createTrack(u,f){let{template:g,proxy:b,option:m}=this.art,{$video:v,$track:x}=g,_=(0,e.createElement)("track");_.default=!0,_.kind=u,_.src=f,_.label=m.subtitle.name||"Artplayer",_.track.mode="hidden",_.onload=()=>{this.art.emit("subtitleLoad",this.cues,this.option)},this.art.events.remove(this.destroyEvent),x.onload=null,(0,e.remove)(x),(0,e.append)(v,_),g.$track=_,this.destroyEvent=b(this.textTrack,"cuechange",()=>this.update())}async init(u){let{notice:f,template:{$subtitle:g}}=this.art;return this.textTrack?((0,d.default)(u,n.default.subtitle),u.url?(this.option=u,this.style(u.style),fetch(u.url).then(b=>b.arrayBuffer()).then(b=>{let m=new TextDecoder(u.encoding).decode(b);switch(u.type||(0,e.getExt)(u.url)){case"srt":{let v=(0,e.srtToVtt)(m),x=u.onVttLoad(v);return(0,e.vttToBlob)(x)}case"ass":{let v=(0,e.assToVtt)(m),x=u.onVttLoad(v);return(0,e.vttToBlob)(x)}case"vtt":{let v=u.onVttLoad(m);return(0,e.vttToBlob)(v)}default:return u.url}}).then(b=>(g.innerHTML="",this.url===b||(URL.revokeObjectURL(this.url),this.createTrack("metadata",b)),b)).catch(b=>{throw g.innerHTML="",f.show=b,b})):void 0):null}}s.default=l},{"./utils":"71aH7","./utils/component":"18nVI","option-validator":"bAWi2","./scheme":"AKEiO","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jo4S1:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("./clickInit"),p=t.interopDefault(e),r=a("./hoverInit"),o=t.interopDefault(r),d=a("./moveInit"),i=t.interopDefault(d),n=a("./resizeInit"),l=t.interopDefault(n),c=a("./gestureInit"),u=t.interopDefault(c),f=a("./viewInit"),g=t.interopDefault(f),b=a("./documentInit"),m=t.interopDefault(b),v=a("./updateInit"),x=t.interopDefault(v),_=a("./restoreInit"),T=t.interopDefault(_);s.default=class{constructor(C){this.destroyEvents=[],this.proxy=this.proxy.bind(this),this.hover=this.hover.bind(this),(0,p.default)(C,this),(0,o.default)(C,this),(0,i.default)(C,this),(0,l.default)(C,this),(0,u.default)(C,this),(0,g.default)(C,this),(0,m.default)(C,this),(0,x.default)(C,this),(0,T.default)(C,this)}proxy(C,S,A,D={}){if(Array.isArray(S))return S.map(w=>this.proxy(C,w,A,D));C.addEventListener(S,A,D);let I=()=>C.removeEventListener(S,A,D);return this.destroyEvents.push(I),I}hover(C,S,A){S&&this.proxy(C,"mouseenter",S),A&&this.proxy(C,"mouseleave",A)}remove(C){let S=this.destroyEvents.indexOf(C);S>-1&&(C(),this.destroyEvents.splice(S,1))}destroy(){for(let C=0;C<this.destroyEvents.length;C++)this.destroyEvents[C]()}}},{"./clickInit":"6UrCm","./hoverInit":"4jWHi","./moveInit":"eqaUm","./resizeInit":"eDXPO","./gestureInit":"95GtS","./viewInit":"InUBx","./documentInit":"hoLfM","./updateInit":"cl8m3","./restoreInit":"bK8As","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6UrCm":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r,o){let{constructor:d,template:{$player:i,$video:n}}=r;o.proxy(document,["click","contextmenu"],c=>{(0,e.includeFromEvent)(c,i)?(r.isInput=c.target.tagName==="INPUT",r.isFocus=!0,r.emit("focus",c)):(r.isInput=!1,r.isFocus=!1,r.emit("blur",c))});let l=[];o.proxy(n,"click",c=>{let u=Date.now();l.push(u);let{MOBILE_CLICK_PLAY:f,DBCLICK_TIME:g,MOBILE_DBCLICK_PLAY:b,DBCLICK_FULLSCREEN:m}=d,v=l.filter(x=>u-x<=g);switch(v.length){case 1:r.emit("click",c),e.isMobile?!r.isLock&&f&&r.toggle():r.toggle(),l=v;break;case 2:r.emit("dblclick",c),e.isMobile?!r.isLock&&b&&r.toggle():m&&(r.fullscreen=!r.fullscreen),l=[];break;default:l=[]}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4jWHi":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r,o){let{$player:d}=r.template;o.hover(d,i=>{(0,e.addClass)(d,"art-hover"),r.emit("hover",!0,i)},i=>{(0,e.removeClass)(d,"art-hover"),r.emit("hover",!1,i)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eqaUm:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(p,r){let{$player:o}=p.template;r.proxy(o,"mousemove",d=>{p.emit("mousemove",d)})}t.defineInteropFlag(s),t.export(s,"default",()=>e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eDXPO:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r,o){let{option:d,constructor:i}=r;r.on("resize",()=>{let{aspectRatio:l,notice:c}=r;r.state==="standard"&&d.autoSize&&r.autoSize(),r.aspectRatio=l,c.show=""});let n=(0,e.debounce)(()=>r.emit("resize"),i.RESIZE_TIME);o.proxy(window,["orientationchange","resize"],()=>n()),screen&&screen.orientation&&screen.orientation.onchange&&o.proxy(screen.orientation,"change",()=>n())}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"95GtS":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>r);var e=a("../utils"),p=a("../control/progress");function r(o,d){if(e.isMobile&&!o.option.isLive){let{$video:i,$progress:n}=o.template,l=null,c=!1,u=0,f=0,g=0,b=v=>{if(v.touches.length===1&&!o.isLock){l===n&&(0,p.setCurrentTime)(o,v),c=!0;let{pageX:x,pageY:_}=v.touches[0];u=x,f=_,g=o.currentTime}},m=v=>{if(v.touches.length===1&&c&&o.duration){let{pageX:x,pageY:_}=v.touches[0],T=function(A,D,I,w){var $=D-w,j=I-A,y=0;if(2>Math.abs(j)&&2>Math.abs($))return y;var k=180*Math.atan2($,j)/Math.PI;return k>=-45&&k<45?y=4:k>=45&&k<135?y=1:k>=-135&&k<-45?y=2:(k>=135&&k<=180||k>=-180&&k<-135)&&(y=3),y}(u,f,x,_),C=[3,4].includes(T),S=[1,2].includes(T);if(C&&!o.isRotate||S&&o.isRotate){let A=(0,e.clamp)((x-u)/o.width,-1,1),D=(0,e.clamp)((_-f)/o.height,-1,1),I=o.isRotate?D:A,w=l===i?o.constructor.TOUCH_MOVE_RATIO:1,$=(0,e.clamp)(g+o.duration*I*w,0,o.duration);o.seek=$,o.emit("setBar","played",(0,e.clamp)($/o.duration,0,1),v),o.notice.show=`${(0,e.secondToTime)($)} / ${(0,e.secondToTime)(o.duration)}`}}};d.proxy(n,"touchstart",v=>{l=n,b(v)}),d.proxy(i,"touchstart",v=>{l=i,b(v)}),d.proxy(i,"touchmove",m),d.proxy(n,"touchmove",m),d.proxy(document,"touchend",()=>{c&&(u=0,f=0,g=0,c=!1,l=null)})}}},{"../utils":"71aH7","../control/progress":"bgoVP","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],InUBx:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r,o){let{option:d,constructor:i,template:{$container:n}}=r,l=(0,e.throttle)(()=>{r.emit("view",(0,e.isInViewport)(n,i.SCROLL_GAP))},i.SCROLL_TIME);o.proxy(window,"scroll",()=>l()),r.on("view",c=>{d.autoMini&&(r.mini=!c)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hoLfM:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(p,r){r.proxy(document,"mousemove",o=>{p.emit("document:mousemove",o)}),r.proxy(document,"mouseup",o=>{p.emit("document:mouseup",o)})}t.defineInteropFlag(s),t.export(s,"default",()=>e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cl8m3:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(p){if(p.constructor.USE_RAF){let r=null;(function o(){p.playing&&p.emit("raf"),p.isDestroy||(r=requestAnimationFrame(o))})(),p.on("destroy",()=>{cancelAnimationFrame(r)})}}t.defineInteropFlag(s),t.export(s,"default",()=>e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bK8As:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(p,r){}t.defineInteropFlag(s),t.export(s,"default",()=>e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6NoFy":[function(a,h,s){a("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=a("./utils");s.default=class{constructor(e){this.art=e,this.keys={},e.option.hotkey&&!t.isMobile&&this.init()}init(){let{proxy:e,constructor:p}=this.art;this.add("Escape",()=>{this.art.fullscreenWeb&&(this.art.fullscreenWeb=!1)}),this.add("Space",()=>{this.art.toggle()}),this.add("ArrowLeft",()=>{this.art.backward=p.SEEK_STEP}),this.add("ArrowUp",()=>{this.art.volume+=p.VOLUME_STEP}),this.add("ArrowRight",()=>{this.art.forward=p.SEEK_STEP}),this.add("ArrowDown",()=>{this.art.volume-=p.VOLUME_STEP}),e(document,"keydown",r=>{if(this.art.isFocus){let o=document.activeElement.tagName.toUpperCase(),d=document.activeElement.getAttribute("contenteditable");if(o!=="INPUT"&&o!=="TEXTAREA"&&d!==""&&d!=="true"&&!r.altKey&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey){let i=this.keys[r.code];if(i){r.preventDefault();for(let n=0;n<i.length;n++)i[n].call(this.art,r);this.art.emit("hotkey",r)}}}this.art.emit("keydown",r)})}add(e,p){return this.keys[e]?this.keys[e].push(p):this.keys[e]=[p],this}remove(e,p){if(this.keys[e]){let r=this.keys[e].indexOf(p);r!==-1&&this.keys[e].splice(r,1)}return this}}},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6G6hZ":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("./utils/component"),p=t.interopDefault(e);class r extends p.default{constructor(d){super(d);let{option:i,template:{$layer:n}}=d;this.name="layer",this.$parent=n;for(let l=0;l<i.layers.length;l++)this.add(i.layers[l])}}s.default=r},{"./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3dsEe":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("./utils"),p=a("./utils/component"),r=t.interopDefault(p);class o extends r.default{constructor(i){super(i),this.name="loading",(0,e.append)(i.template.$loading,i.icons.loading)}}s.default=o},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],dWGTw:[function(a,h,s){a("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=a("./utils");s.default=class{constructor(e){this.art=e,this.timer=null}set show(e){let{constructor:p,template:{$player:r,$noticeInner:o}}=this.art;e?(o.innerText=e instanceof Error?e.message.trim():e,(0,t.addClass)(r,"art-notice-show"),clearTimeout(this.timer),this.timer=setTimeout(()=>{o.innerText="",(0,t.removeClass)(r,"art-notice-show")},p.NOTICE_TIME)):(0,t.removeClass)(r,"art-notice-show")}}},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5POkG":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("./utils"),p=a("./utils/component"),r=t.interopDefault(p);class o extends r.default{constructor(i){super(i),this.name="mask";let{template:n,icons:l,events:c}=i,u=(0,e.append)(n.$state,l.state),f=(0,e.append)(n.$state,l.error);(0,e.setStyle)(f,"display","none"),i.on("destroy",()=>{(0,e.setStyle)(u,"display","none"),(0,e.setStyle)(f,"display",null)}),c.proxy(n.$state,"click",()=>i.play())}}s.default=o},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6OeNg":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("../utils"),p=a("bundle-text:./loading.svg"),r=t.interopDefault(p),o=a("bundle-text:./state.svg"),d=t.interopDefault(o),i=a("bundle-text:./check.svg"),n=t.interopDefault(i),l=a("bundle-text:./play.svg"),c=t.interopDefault(l),u=a("bundle-text:./pause.svg"),f=t.interopDefault(u),g=a("bundle-text:./volume.svg"),b=t.interopDefault(g),m=a("bundle-text:./volume-close.svg"),v=t.interopDefault(m),x=a("bundle-text:./screenshot.svg"),_=t.interopDefault(x),T=a("bundle-text:./setting.svg"),C=t.interopDefault(T),S=a("bundle-text:./arrow-left.svg"),A=t.interopDefault(S),D=a("bundle-text:./arrow-right.svg"),I=t.interopDefault(D),w=a("bundle-text:./playback-rate.svg"),$=t.interopDefault(w),j=a("bundle-text:./aspect-ratio.svg"),y=t.interopDefault(j),k=a("bundle-text:./config.svg"),E=t.interopDefault(k),M=a("bundle-text:./pip.svg"),P=t.interopDefault(M),H=a("bundle-text:./lock.svg"),F=t.interopDefault(H),V=a("bundle-text:./unlock.svg"),R=t.interopDefault(V),U=a("bundle-text:./fullscreen-off.svg"),N=t.interopDefault(U),tt=a("bundle-text:./fullscreen-on.svg"),rt=t.interopDefault(tt),O=a("bundle-text:./fullscreen-web-off.svg"),it=t.interopDefault(O),st=a("bundle-text:./fullscreen-web-on.svg"),mt=t.interopDefault(st),gt=a("bundle-text:./switch-on.svg"),vt=t.interopDefault(gt),yt=a("bundle-text:./switch-off.svg"),lt=t.interopDefault(yt),L=a("bundle-text:./flip.svg"),Dt=t.interopDefault(L),at=a("bundle-text:./error.svg"),ut=t.interopDefault(at),ft=a("bundle-text:./close.svg"),dt=t.interopDefault(ft),ot=a("bundle-text:./airplay.svg"),bt=t.interopDefault(ot);s.default=class{constructor(zt){let jt={loading:r.default,state:d.default,play:c.default,pause:f.default,check:n.default,volume:b.default,volumeClose:v.default,screenshot:_.default,setting:C.default,pip:P.default,arrowLeft:A.default,arrowRight:I.default,playbackRate:$.default,aspectRatio:y.default,config:E.default,lock:F.default,flip:Dt.default,unlock:R.default,fullscreenOff:N.default,fullscreenOn:rt.default,fullscreenWebOff:it.default,fullscreenWebOn:mt.default,switchOn:vt.default,switchOff:lt.default,error:ut.default,close:dt.default,airplay:bt.default,...zt.option.icons};for(let xt in jt)(0,e.def)(this,xt,{get:()=>(0,e.getIcon)(xt,jt[xt])})}}},{"../utils":"71aH7","bundle-text:./loading.svg":"7tDub","bundle-text:./state.svg":"1ElZc","bundle-text:./check.svg":"lmgoP","bundle-text:./play.svg":"lVWoQ","bundle-text:./pause.svg":"5Mnax","bundle-text:./volume.svg":"w3eIa","bundle-text:./volume-close.svg":"rHjo1","bundle-text:./screenshot.svg":"2KcqM","bundle-text:./setting.svg":"8rQMV","bundle-text:./arrow-left.svg":"kqGBE","bundle-text:./arrow-right.svg":"aFjpC","bundle-text:./playback-rate.svg":"lx7ZM","bundle-text:./aspect-ratio.svg":"2sEjf","bundle-text:./config.svg":"fQTgE","bundle-text:./pip.svg":"2CaxO","bundle-text:./lock.svg":"aCGnW","bundle-text:./unlock.svg":"bTrAV","bundle-text:./fullscreen-off.svg":"bA3p0","bundle-text:./fullscreen-on.svg":"fTuY8","bundle-text:./fullscreen-web-off.svg":"tvKf4","bundle-text:./fullscreen-web-on.svg":"1F1oB","bundle-text:./switch-on.svg":"7qNHs","bundle-text:./switch-off.svg":"28aV8","bundle-text:./flip.svg":"1uXI6","bundle-text:./error.svg":"9f4dh","bundle-text:./close.svg":"4nTtS","bundle-text:./airplay.svg":"cDPXC","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7tDub":[function(a,h,s){h.exports='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-default"><path fill="none" class="bk" d="M0 0h100v100H0z"/><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-1s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(30 105.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(60 75.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(90 65 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.75s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(120 58.66 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(150 54.02 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(180 50 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-150 45.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-120 41.34 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-90 35 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.25s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-60 24.02 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-30 -5.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"/></rect></svg>'},{}],"1ElZc":[function(a,h,s){h.exports='<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24"><path fill="#fff" d="M9.5 9.325v5.35q0 .575.525.875t1.025-.05l4.15-2.65q.475-.3.475-.85t-.475-.85L11.05 8.5q-.5-.35-1.025-.05t-.525.875ZM12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22Z"/></svg>'},{}],lmgoP:[function(a,h,s){h.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="width:100%;height:100%"><path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"/></svg>'},{}],lVWoQ:[function(a,h,s){h.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M17.982 9.275 8.06 3.27A2.013 2.013 0 0 0 5 4.994v12.011a2.017 2.017 0 0 0 3.06 1.725l9.922-6.005a2.017 2.017 0 0 0 0-3.45z"/></svg>'},{}],"5Mnax":[function(a,h,s){h.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M7 3a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2zm8 0a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2z"/></svg>'},{}],w3eIa:[function(a,h,s){h.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M10.188 4.65 6 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39V5.04a.498.498 0 0 0-.812-.39zm4.258-.872a1 1 0 0 0-.862 1.804 6.002 6.002 0 0 1-.007 10.838 1 1 0 0 0 .86 1.806A8.001 8.001 0 0 0 19 11a8.001 8.001 0 0 0-4.554-7.222z"/><path d="M15 11a3.998 3.998 0 0 0-2-3.465v6.93A3.998 3.998 0 0 0 15 11z"/></svg>'},{}],rHjo1:[function(a,h,s){h.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M15 11a3.998 3.998 0 0 0-2-3.465v2.636l1.865 1.865A4.02 4.02 0 0 0 15 11z"/><path d="M13.583 5.583A5.998 5.998 0 0 1 17 11a6 6 0 0 1-.585 2.587l1.477 1.477a8.001 8.001 0 0 0-3.446-11.286 1 1 0 0 0-.863 1.805zm5.195 13.195-2.121-2.121-1.414-1.414-1.415-1.415L13 13l-2-2-3.889-3.889-3.889-3.889a.999.999 0 1 0-1.414 1.414L5.172 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39v-3.131l2.587 2.587-.01.005a1 1 0 0 0 .86 1.806c.215-.102.424-.214.627-.333l2.3 2.3a1.001 1.001 0 0 0 1.414-1.416zM11 5.04a.5.5 0 0 0-.813-.39L8.682 5.854 11 8.172V5.04z"/></svg>'},{}],"2KcqM":[function(a,h,s){h.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 50 50"><path d="M19.402 6a5 5 0 0 0-4.902 4.012L14.098 12H9a5 5 0 0 0-5 5v21a5 5 0 0 0 5 5h32a5 5 0 0 0 5-5V17a5 5 0 0 0-5-5h-5.098l-.402-1.988A5 5 0 0 0 30.598 6ZM25 17c5.52 0 10 4.48 10 10s-4.48 10-10 10-10-4.48-10-10 4.48-10 10-10Zm0 2c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8Z"/></svg>'},{}],"8rQMV":[function(a,h,s){h.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><circle cx="11" cy="11" r="2"/><path d="M19.164 8.861 17.6 8.6a6.978 6.978 0 0 0-1.186-2.099l.574-1.533a1 1 0 0 0-.436-1.217l-1.997-1.153a1.001 1.001 0 0 0-1.272.23l-1.008 1.225a7.04 7.04 0 0 0-2.55.001L8.716 2.829a1 1 0 0 0-1.272-.23L5.447 3.751a1 1 0 0 0-.436 1.217l.574 1.533A6.997 6.997 0 0 0 4.4 8.6l-1.564.261A.999.999 0 0 0 2 9.847v2.306c0 .489.353.906.836.986l1.613.269a7 7 0 0 0 1.228 2.075l-.558 1.487a1 1 0 0 0 .436 1.217l1.997 1.153c.423.244.961.147 1.272-.23l1.04-1.263a7.089 7.089 0 0 0 2.272 0l1.04 1.263a1 1 0 0 0 1.272.23l1.997-1.153a1 1 0 0 0 .436-1.217l-.557-1.487c.521-.61.94-1.31 1.228-2.075l1.613-.269a.999.999 0 0 0 .835-.986V9.847a.999.999 0 0 0-.836-.986zM11 15a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"/></svg>'},{}],kqGBE:[function(a,h,s){h.exports='<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 32 32"><path d="m19.41 20.09-4.58-4.59 4.58-4.59L18 9.5l-6 6 6 6z" fill="#fff"/></svg>'},{}],aFjpC:[function(a,h,s){h.exports='<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 32 32"><path d="m12.59 20.34 4.58-4.59-4.58-4.59L14 9.75l6 6-6 6z" fill="#fff"/></svg>'},{}],lx7ZM:[function(a,h,s){h.exports='<svg height="24" viewBox="0 0 24 24" width="24"><path d="M10 8v8l6-4-6-4zM6.3 5l-.6-.8C7.2 3 9 2.2 11 2l.1 1c-1.8.2-3.4.9-4.8 2zM5 6.3l-.8-.6C3 7.2 2.2 9 2 11l1 .1c.2-1.8.9-3.4 2-4.8zm0 11.4c-1.1-1.4-1.8-3.1-2-4.8L2 13c.2 2 1 3.8 2.2 5.4l.8-.7zm6.1 3.3c-1.8-.2-3.4-.9-4.8-2l-.6.8C7.2 21 9 21.8 11 22l.1-1zM22 12c0-5.2-3.9-9.4-9-10l-.1 1c4.6.5 8.1 4.3 8.1 9s-3.5 8.5-8.1 9l.1 1c5.2-.5 9-4.8 9-10z" fill="#fff" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"2sEjf":[function(a,h,s){h.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 88 88" style="width:100%;height:100%;transform:translate(0,0)"><defs><clipPath id="a"><path d="M0 0h88v88H0z"/></clipPath></defs><g style="display:block" clip-path="url('#a')"><path fill="#FFF" d="m12.438-12.702-2.82 2.82c-.79.79-.79 2.05 0 2.83l7.07 7.07-7.07 7.07c-.79.79-.79 2.05 0 2.83l2.82 2.83c.79.78 2.05.78 2.83 0l11.32-11.31c.78-.78.78-2.05 0-2.83l-11.32-11.31c-.78-.79-2.04-.79-2.83 0zm-24.88 0c-.74-.74-1.92-.78-2.7-.12l-.13.12-11.31 11.31a2 2 0 0 0-.12 2.7l.12.13 11.31 11.31a2 2 0 0 0 2.7.12l.13-.12 2.83-2.83c.74-.74.78-1.91.11-2.7l-.11-.13-7.07-7.07 7.07-7.07c.74-.74.78-1.91.11-2.7l-.11-.13-2.83-2.82zM28-28c4.42 0 8 3.58 8 8v40c0 4.42-3.58 8-8 8h-56c-4.42 0-8-3.58-8-8v-40c0-4.42 3.58-8 8-8h56z" style="--darkreader-inline-fill:#a8a6a4" transform="translate(44 44)"/></g></svg>`},{}],fQTgE:[function(a,h,s){h.exports='<svg height="24" viewBox="0 0 24 24" width="24"><path d="M15 17h6v1h-6v-1zm-4 0H3v1h8v2h1v-5h-1v2zm3-9h1V3h-1v2H3v1h11v2zm4-3v1h3V5h-3zM6 14h1V9H6v2H3v1h3v2zm4-2h11v-1H10v1z" fill="#fff" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"2CaxO":[function(a,h,s){h.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" height="32" width="32"><path d="M25 17h-8v6h8v-6Zm4 8V10.98C29 9.88 28.1 9 27 9H9c-1.1 0-2 .88-2 1.98V25c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2Zm-2 .02H9V10.97h18v14.05Z"/></svg>'},{}],aCGnW:[function(a,h,s){h.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M298.667 426.667v-85.334a213.333 213.333 0 1 1 426.666 0v85.334H768A85.333 85.333 0 0 1 853.333 512v256A85.333 85.333 0 0 1 768 853.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667zM512 213.333a128 128 0 0 0-128 128v85.334h256v-85.334a128 128 0 0 0-128-128z" fill="#fff"/></svg>'},{}],bTrAV:[function(a,h,s){h.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="m666.752 194.517-49.365 74.112A128 128 0 0 0 384 341.333l.043 85.334h384A85.333 85.333 0 0 1 853.376 512v256a85.333 85.333 0 0 1-85.333 85.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667v-85.334a213.333 213.333 0 0 1 368.085-146.816z" fill="#fff"/></svg>'},{}],bA3p0:[function(a,h,s){h.exports='<svg class="icon" width="22" height="22" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M768 298.667h170.667V384h-256V128H768v170.667zM341.333 384h-256v-85.333H256V128h85.333v256zM768 725.333V896h-85.333V640h256v85.333H768zM341.333 640v256H256V725.333H85.333V640h256z"/></svg>'},{}],fTuY8:[function(a,h,s){h.exports='<svg class="icon" width="22" height="22" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M625.778 256H768v142.222h113.778v-256h-256V256zM256 398.222V256h142.222V142.222h-256v256H256zm512 227.556V768H625.778v113.778h256v-256H768zM398.222 768H256V625.778H142.222v256h256V768z"/></svg>'},{}],tvKf4:[function(a,h,s){h.exports='<svg class="icon" width="18" height="18" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zM896 512a64 64 0 0 1 7.488 127.552L896 640H768v128a64 64 0 0 1-56.512 63.552L704 832a64 64 0 0 1-63.552-56.512L640 768V582.592c0-34.496 25.024-66.112 61.632-70.208l8-.384H896zm-640 0a64 64 0 0 1-7.488-127.552L256 384h128V256a64 64 0 0 1 56.512-63.552L448 192a64 64 0 0 1 63.552 56.512L512 256v185.408c0 34.432-25.024 66.112-61.632 70.144l-8 .448H256z"/></svg>'},{}],"1F1oB":[function(a,h,s){h.exports='<svg class="icon" width="18" height="18" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zm-576 64a64 64 0 0 1 7.488 127.552L448 320H320v128a64 64 0 0 1-56.512 63.552L256 512a64 64 0 0 1-63.552-56.512L192 448V262.592c0-34.432 25.024-66.112 61.632-70.144l8-.448H448zm256 640a64 64 0 0 1-7.488-127.552L704 704h128V576a64 64 0 0 1 56.512-63.552L896 512a64 64 0 0 1 63.552 56.512L960 576v185.408c0 34.496-25.024 66.112-61.632 70.208l-8 .384H704z"/></svg>'},{}],"7qNHs":[function(a,h,s){h.exports='<svg class="icon" width="26" height="26" viewBox="0 0 1664 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#648FFC" d="M1152 0H512a512 512 0 0 0 0 1024h640a512 512 0 0 0 0-1024zm0 960a448 448 0 1 1 448-448 448 448 0 0 1-448 448z"/></svg>'},{}],"28aV8":[function(a,h,s){h.exports='<svg class="icon" width="26" height="26" viewBox="0 0 1740 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M511.898 1024h670.515c282.419-.41 511.18-229.478 511.18-511.898 0-282.419-228.761-511.488-511.18-511.897H511.898C229.478.615.717 229.683.717 512.102c0 282.42 228.761 511.488 511.18 511.898zm-.564-975.36A464.589 464.589 0 1 1 48.026 513.024 463.872 463.872 0 0 1 511.334 48.435v.205z"/></svg>'},{}],"1uXI6":[function(a,h,s){h.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M554.667 810.667V896h-85.334v-85.333h85.334zm-384-632.662a42.667 42.667 0 0 1 34.986 18.219l203.904 291.328a42.667 42.667 0 0 1 0 48.896L205.611 827.776A42.667 42.667 0 0 1 128 803.328V220.672a42.667 42.667 0 0 1 42.667-42.667zm682.666 0a42.667 42.667 0 0 1 42.368 37.718l.299 4.949v582.656a42.667 42.667 0 0 1-74.24 28.63l-3.413-4.182-203.904-291.328a42.667 42.667 0 0 1-3.03-43.861l3.03-5.035 203.946-291.328a42.667 42.667 0 0 1 34.944-18.219zM554.667 640v85.333h-85.334V640h85.334zm-358.4-320.896V716.8L335.957 512 196.31 319.104zm358.4 150.23v85.333h-85.334v-85.334h85.334zm0-170.667V384h-85.334v-85.333h85.334zm0-170.667v85.333h-85.334V128h85.334z" fill="#fff"/></svg>'},{}],"9f4dh":[function(a,h,s){h.exports='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="50" height="50"><path d="M593.818 168.55 949.82 763.76c26.153 43.746 10.732 99.738-34.447 125.052-14.397 8.069-30.72 12.308-47.37 12.308H155.976c-52.224 0-94.536-40.96-94.536-91.505 0-16.097 4.383-31.928 12.718-45.875l356.004-595.19c26.173-43.724 84.009-58.654 129.208-33.341a93.082 93.082 0 0 1 34.448 33.341zM512 819.2a61.44 61.44 0 1 0 0-122.88 61.44 61.44 0 0 0 0 122.88zm0-512a72.315 72.315 0 0 0-71.762 81.306l25.723 205.721a46.408 46.408 0 0 0 92.078 0l25.723-205.742A72.315 72.315 0 0 0 512 307.2z"/></svg>'},{}],"4nTtS":[function(a,h,s){h.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="22" height="22"><path d="m571.733 512 268.8-268.8c17.067-17.067 17.067-42.667 0-59.733-17.066-17.067-42.666-17.067-59.733 0L512 452.267l-268.8-268.8c-17.067-17.067-42.667-17.067-59.733 0-17.067 17.066-17.067 42.666 0 59.733l268.8 268.8-268.8 268.8c-17.067 17.067-17.067 42.667 0 59.733 8.533 8.534 19.2 12.8 29.866 12.8s21.334-4.266 29.867-12.8l268.8-268.8 268.8 268.8c8.533 8.534 19.2 12.8 29.867 12.8s21.333-4.266 29.866-12.8c17.067-17.066 17.067-42.666 0-59.733L571.733 512z"/></svg>'},{}],cDPXC:[function(a,h,s){h.exports='<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><g fill="#fff"><path d="M16 1H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h3v-2H3V3h12v8h-2v2h3a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1Z"/><path d="M4 17h10l-5-6z"/></g></svg>'},{}],"3eYNH":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("./flip"),p=t.interopDefault(e),r=a("./aspectRatio"),o=t.interopDefault(r),d=a("./playbackRate"),i=t.interopDefault(d),n=a("./subtitleOffset"),l=t.interopDefault(n),c=a("../utils/component"),u=t.interopDefault(c),f=a("../utils");class g extends u.default{constructor(m){super(m);let{option:v,controls:x,template:{$setting:_}}=m;this.name="setting",this.$parent=_,this.id=0,this.active=null,this.cache=new Map,this.option=[...this.builtin,...v.settings],v.setting&&(this.format(),this.render(),m.on("blur",()=>{this.show&&(this.show=!1,this.render())}),m.on("focus",T=>{let C=(0,f.includeFromEvent)(T,x.setting),S=(0,f.includeFromEvent)(T,this.$parent);!this.show||C||S||(this.show=!1,this.render())}),m.on("resize",()=>this.resize()))}get builtin(){let m=[],{option:v}=this.art;return v.playbackRate&&m.push((0,i.default)(this.art)),v.aspectRatio&&m.push((0,o.default)(this.art)),v.flip&&m.push((0,p.default)(this.art)),v.subtitleOffset&&m.push((0,l.default)(this.art)),m}traverse(m,v=this.option){var x;for(let _=0;_<v.length;_++){let T=v[_];m(T),(x=T.selector)!=null&&x.length&&this.traverse.call(this,m,T.selector)}}check(m){m.$parent.tooltip=m.html,this.traverse(v=>{v.default=v===m,v.default&&v.$item&&(0,f.inverseClass)(v.$item,"art-current")},m.$option),this.render(m.$parents)}format(m=this.option,v,x,_=[]){for(let T=0;T<m.length;T++){let C=m[T];if(C!=null&&C.name?((0,f.errorHandle)(!_.includes(C.name),`The [${C.name}] is already exist in [setting]`),_.push(C.name)):C.name=`setting-${this.id++}`,!C.$formatted){(0,f.def)(C,"$parent",{get:()=>v}),(0,f.def)(C,"$parents",{get:()=>x}),(0,f.def)(C,"$option",{get:()=>m});let S=[];(0,f.def)(C,"$events",{get:()=>S}),(0,f.def)(C,"$formatted",{get:()=>!0})}this.format(C.selector||[],C,m,_)}this.option=m}find(m=""){let v=null;return this.traverse(x=>{x.name===m&&(v=x)}),v}resize(){var C,S;let{controls:m,constructor:{SETTING_WIDTH:v,SETTING_ITEM_HEIGHT:x},template:{$player:_,$setting:T}}=this.art;if(m.setting&&this.show){let A=((S=(C=this.active[0])==null?void 0:C.$parent)==null?void 0:S.width)||v,{left:D,width:I}=(0,f.getRect)(m.setting),{left:w,width:$}=(0,f.getRect)(_),j=D-w+I/2-A/2,y=this.active===this.option?this.active.length*x:(this.active.length+1)*x;(0,f.setStyle)(T,"height",`${y}px`),(0,f.setStyle)(T,"width",`${A}px`),j+A>$?((0,f.setStyle)(T,"left",null),(0,f.setStyle)(T,"right",null)):((0,f.setStyle)(T,"left",`${j}px`),(0,f.setStyle)(T,"right","auto"))}}inactivate(m){for(let v=0;v<m.$events.length;v++)this.art.events.remove(m.$events[v]);m.$events.length=0}remove(m){let v=this.find(m);(0,f.errorHandle)(v,`Can't find [${m}] in the [setting]`);let x=v.$option.indexOf(v);v.$option.splice(x,1),this.inactivate(v),v.$item&&(0,f.remove)(v.$item),this.render()}update(m){let v=this.find(m.name);return v?(this.inactivate(v),Object.assign(v,m),this.format(),this.creatItem(v,!0),this.render(),v):this.add(m)}add(m,v=this.option){return v.push(m),this.format(),this.creatItem(m),this.render(),m}creatHeader(m){if(!this.cache.has(m.$option))return;let v=this.cache.get(m.$option),{proxy:x,icons:{arrowLeft:_},constructor:{SETTING_ITEM_HEIGHT:T}}=this.art,C=(0,f.createElement)("div");(0,f.setStyle)(C,"height",`${T}px`),(0,f.addClass)(C,"art-setting-item"),(0,f.addClass)(C,"art-setting-item-back");let S=(0,f.append)(C,'<div class="art-setting-item-left"></div>'),A=(0,f.createElement)("div");(0,f.addClass)(A,"art-setting-item-left-icon"),(0,f.append)(A,_),(0,f.append)(S,A),(0,f.append)(S,m.$parent.html);let D=x(C,"click",()=>this.render(m.$parents));m.$parent.$events.push(D),(0,f.append)(v,C)}creatItem(m,v=!1){var k,E;if(!this.cache.has(m.$option))return;let x=this.cache.get(m.$option),_=m.$item,T="selector";(0,f.has)(m,"switch")&&(T="switch"),(0,f.has)(m,"range")&&(T="range");let{icons:C,proxy:S,constructor:A}=this.art,D=(0,f.createElement)("div");(0,f.addClass)(D,"art-setting-item"),(0,f.setStyle)(D,"height",`${A.SETTING_ITEM_HEIGHT}px`),D.dataset.name=m.name||"",D.dataset.value=m.value||"";let I=(0,f.append)(D,'<div class="art-setting-item-left"></div>'),w=(0,f.append)(D,'<div class="art-setting-item-right"></div>'),$=(0,f.createElement)("div");switch((0,f.addClass)($,"art-setting-item-left-icon"),T){case"switch":case"range":(0,f.append)($,m.icon||C.config);break;case"selector":(k=m.selector)!=null&&k.length?(0,f.append)($,m.icon||C.config):(0,f.append)($,C.check)}(0,f.append)(I,$),(0,f.def)(m,"$icon",{configurable:!0,get:()=>$}),(0,f.def)(m,"icon",{configurable:!0,get:()=>$.innerHTML,set(M){$.innerHTML="",(0,f.append)($,M)}});let j=(0,f.createElement)("div");(0,f.addClass)(j,"art-setting-item-left-text"),(0,f.append)(j,m.html||""),(0,f.append)(I,j),(0,f.def)(m,"$html",{configurable:!0,get:()=>j}),(0,f.def)(m,"html",{configurable:!0,get:()=>j.innerHTML,set(M){j.innerHTML="",(0,f.append)(j,M)}});let y=(0,f.createElement)("div");switch((0,f.addClass)(y,"art-setting-item-right-tooltip"),(0,f.append)(y,m.tooltip||""),(0,f.append)(w,y),(0,f.def)(m,"$tooltip",{configurable:!0,get:()=>y}),(0,f.def)(m,"tooltip",{configurable:!0,get:()=>y.innerHTML,set(M){y.innerHTML="",(0,f.append)(y,M)}}),T){case"switch":{let M=(0,f.createElement)("div");(0,f.addClass)(M,"art-setting-item-right-icon");let P=(0,f.append)(M,C.switchOn),H=(0,f.append)(M,C.switchOff);(0,f.setStyle)(m.switch?H:P,"display","none"),(0,f.append)(w,M),(0,f.def)(m,"$switch",{configurable:!0,get:()=>M});let F=m.switch;(0,f.def)(m,"switch",{configurable:!0,get:()=>F,set(V){F=V,V?((0,f.setStyle)(H,"display","none"),(0,f.setStyle)(P,"display",null)):((0,f.setStyle)(H,"display",null),(0,f.setStyle)(P,"display","none"))}});break}case"range":{let M=(0,f.createElement)("div");(0,f.addClass)(M,"art-setting-item-right-icon");let P=(0,f.append)(M,'<input type="range">');P.value=m.range[0],P.min=m.range[1],P.max=m.range[2],P.step=m.range[3],(0,f.addClass)(P,"art-setting-range"),(0,f.append)(w,M),(0,f.def)(m,"$range",{configurable:!0,get:()=>P});let H=[...m.range];(0,f.def)(m,"range",{configurable:!0,get:()=>H,set(F){H=[...F],P.value=F[0],P.min=F[1],P.max=F[2],P.step=F[3]}})}break;case"selector":if((E=m.selector)!=null&&E.length){let M=(0,f.createElement)("div");(0,f.addClass)(M,"art-setting-item-right-icon"),(0,f.append)(M,C.arrowRight),(0,f.append)(w,M)}}switch(T){case"switch":if(m.onSwitch){let M=S(D,"click",async P=>{m.switch=await m.onSwitch.call(this.art,m,D,P)});m.$events.push(M)}break;case"range":if(m.$range){if(m.onRange){let M=S(m.$range,"change",async P=>{m.range[0]=m.$range.valueAsNumber,m.tooltip=await m.onRange.call(this.art,m,D,P)});m.$events.push(M)}if(m.onChange){let M=S(m.$range,"input",async P=>{m.range[0]=m.$range.valueAsNumber,m.tooltip=await m.onChange.call(this.art,m,D,P)});m.$events.push(M)}}break;case"selector":{let M=S(D,"click",async P=>{var H;(H=m.selector)!=null&&H.length?this.render(m.selector):(this.check(m),m.$parent.onSelect&&(m.$parent.tooltip=await m.$parent.onSelect.call(this.art,m,D,P)))});m.$events.push(M),m.default&&(0,f.addClass)(D,"art-current")}}(0,f.def)(m,"$item",{configurable:!0,get:()=>D}),v?(0,f.replaceElement)(D,_):(0,f.append)(x,D),m.mounted&&setTimeout(()=>m.mounted.call(this.art,m.$item,m),0)}render(m=this.option){var v;if(this.active=m,this.cache.has(m)){let x=this.cache.get(m);(0,f.inverseClass)(x,"art-current")}else{let x=(0,f.createElement)("div");this.cache.set(m,x),(0,f.addClass)(x,"art-setting-panel"),(0,f.append)(this.$parent,x),(0,f.inverseClass)(x,"art-current"),(v=m[0])!=null&&v.$parent&&this.creatHeader(m[0]);for(let _=0;_<m.length;_++)this.creatItem(m[_])}this.resize()}}s.default=g},{"./flip":"kONUB","./aspectRatio":"84NBV","./playbackRate":"aetWt","./subtitleOffset":"fIBkO","../utils/component":"18nVI","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kONUB:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{i18n:o,icons:d,constructor:{SETTING_ITEM_WIDTH:i,FLIP:n}}=r;function l(u){return o.get((0,e.capitalize)(u))}function c(){let u=r.setting.find(`flip-${r.flip}`);r.setting.check(u)}return{width:i,name:"flip",html:o.get("Video Flip"),tooltip:l(r.flip),icon:d.flip,selector:n.map(u=>({value:u,name:`flip-${u}`,default:u===r.flip,html:l(u)})),onSelect:u=>(r.flip=u.value,u.html),mounted:()=>{c(),r.on("flip",()=>c())}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"84NBV":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(p){let{i18n:r,icons:o,constructor:{SETTING_ITEM_WIDTH:d,ASPECT_RATIO:i}}=p;function n(c){return c==="default"?r.get("Default"):c}function l(){let c=p.setting.find(`aspect-ratio-${p.aspectRatio}`);p.setting.check(c)}return{width:d,name:"aspect-ratio",html:r.get("Aspect Ratio"),icon:o.aspectRatio,tooltip:n(p.aspectRatio),selector:i.map(c=>({value:c,name:`aspect-ratio-${c}`,default:c===p.aspectRatio,html:n(c)})),onSelect:c=>(p.aspectRatio=c.value,c.html),mounted:()=>{l(),p.on("aspectRatio",()=>l())}}}t.defineInteropFlag(s),t.export(s,"default",()=>e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],aetWt:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(p){let{i18n:r,icons:o,constructor:{SETTING_ITEM_WIDTH:d,PLAYBACK_RATE:i}}=p;function n(c){return c===1?r.get("Normal"):c.toFixed(1)}function l(){let c=p.setting.find(`playback-rate-${p.playbackRate}`);p.setting.check(c)}return{width:d,name:"playback-rate",html:r.get("Play Speed"),tooltip:n(p.playbackRate),icon:o.playbackRate,selector:i.map(c=>({value:c,name:`playback-rate-${c}`,default:c===p.playbackRate,html:n(c)})),onSelect:c=>(p.playbackRate=c.value,c.html),mounted:()=>{l(),p.on("video:ratechange",()=>l())}}}t.defineInteropFlag(s),t.export(s,"default",()=>e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fIBkO:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(p){let{i18n:r,icons:o,constructor:d}=p;return{width:d.SETTING_ITEM_WIDTH,name:"subtitle-offset",html:r.get("Subtitle Offset"),icon:o.subtitle,tooltip:"0s",range:[0,-10,10,.1],onChange:i=>(p.subtitleOffset=i.range[0],i.range[0]+"s"),mounted:(i,n)=>{p.on("subtitleOffset",l=>{n.$range.value=l,n.tooltip=l+"s"})}}}t.defineInteropFlag(s),t.export(s,"default",()=>e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2aaJe":[function(a,h,s){a("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=class{constructor(){this.name="artplayer_settings",this.settings={}}get(t){try{let e=JSON.parse(window.localStorage.getItem(this.name))||{};return t?e[t]:e}catch{return t?this.settings[t]:this.settings}}set(t,e){try{let p=Object.assign({},this.get(),{[t]:e});window.localStorage.setItem(this.name,JSON.stringify(p))}catch{this.settings[t]=e}}del(t){try{let e=this.get();delete e[t],window.localStorage.setItem(this.name,JSON.stringify(e))}catch{delete this.settings[t]}}clear(){try{window.localStorage.removeItem(this.name)}catch{this.settings={}}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8MTUM":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("../utils"),p=a("./miniProgressBar"),r=t.interopDefault(p),o=a("./autoOrientation"),d=t.interopDefault(o),i=a("./autoPlayback"),n=t.interopDefault(i),l=a("./fastForward"),c=t.interopDefault(l),u=a("./lock"),f=t.interopDefault(u);s.default=class{constructor(g){this.art=g,this.id=0;let{option:b}=g;b.miniProgressBar&&!b.isLive&&this.add(r.default),b.lock&&e.isMobile&&this.add(f.default),b.autoPlayback&&!b.isLive&&this.add(n.default),b.autoOrientation&&e.isMobile&&this.add(d.default),b.fastForward&&e.isMobile&&!b.isLive&&this.add(c.default);for(let m=0;m<b.plugins.length;m++)this.add(b.plugins[m])}add(g){this.id+=1;let b=g.call(this.art,this.art);return b instanceof Promise?b.then(m=>this.next(g,m)):this.next(g,b)}next(g,b){let m=b&&b.name||g.name||`plugin${this.id}`;return(0,e.errorHandle)(!(0,e.has)(this,m),`Cannot add a plugin that already has the same name: ${m}`),(0,e.def)(this,m,{value:b}),this}}},{"../utils":"71aH7","./miniProgressBar":"87pSL","./autoOrientation":"ePEg5","./autoPlayback":"cVO99","./fastForward":"hFDwt","./lock":"1hsTH","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"87pSL":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){return r.on("control",o=>{o?(0,e.removeClass)(r.template.$player,"art-mini-progress-bar"):(0,e.addClass)(r.template.$player,"art-mini-progress-bar")}),{name:"mini-progress-bar"}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ePEg5:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{constructor:o,template:{$player:d,$video:i}}=r;return r.on("fullscreenWeb",n=>{if(n){let{videoWidth:l,videoHeight:c}=i,{clientWidth:u,clientHeight:f}=document.documentElement;(l>c&&u<f||l<c&&u>f)&&setTimeout(()=>{(0,e.setStyle)(d,"width",`${f}px`),(0,e.setStyle)(d,"height",`${u}px`),(0,e.setStyle)(d,"transform-origin","0 0"),(0,e.setStyle)(d,"transform",`rotate(90deg) translate(0, -${u}px)`),(0,e.addClass)(d,"art-auto-orientation"),r.isRotate=!0,r.emit("resize")},o.AUTO_ORIENTATION_TIME)}else(0,e.hasClass)(d,"art-auto-orientation")&&((0,e.removeClass)(d,"art-auto-orientation"),r.isRotate=!1,r.emit("resize"))}),r.on("fullscreen",async n=>{var c;if(!((c=screen==null?void 0:screen.orientation)!=null&&c.lock))return;let l=screen.orientation.type;if(n){let{videoWidth:u,videoHeight:f}=i,{clientWidth:g,clientHeight:b}=document.documentElement;if(u>f&&g<b||u<f&&g>b){let m=l.startsWith("portrait")?"landscape":"portrait";await screen.orientation.lock(m),(0,e.addClass)(d,"art-auto-orientation-fullscreen")}}else(0,e.hasClass)(d,"art-auto-orientation-fullscreen")&&(await screen.orientation.lock(l),(0,e.removeClass)(d,"art-auto-orientation-fullscreen"))}),{name:"autoOrientation",get state(){return(0,e.hasClass)(d,"art-auto-orientation")}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cVO99:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{i18n:o,icons:d,storage:i,constructor:n,proxy:l,template:{$poster:c}}=r,u=r.layers.add({name:"auto-playback",html:'<div class="art-auto-playback-close"></div><div class="art-auto-playback-last"></div><div class="art-auto-playback-jump"></div>'}),f=(0,e.query)(".art-auto-playback-last",u),g=(0,e.query)(".art-auto-playback-jump",u),b=(0,e.query)(".art-auto-playback-close",u);(0,e.append)(b,d.close);let m=null;function v(){let x=(i.get("times")||{})[r.option.id||r.option.url];clearTimeout(m),(0,e.setStyle)(u,"display","none"),x&&x>=n.AUTO_PLAYBACK_MIN&&((0,e.setStyle)(u,"display","flex"),f.innerText=`${o.get("Last Seen")} ${(0,e.secondToTime)(x)}`,g.innerText=o.get("Jump Play"),l(b,"click",()=>{(0,e.setStyle)(u,"display","none")}),l(g,"click",()=>{r.seek=x,r.play(),(0,e.setStyle)(c,"display","none"),(0,e.setStyle)(u,"display","none")}),r.once("video:timeupdate",()=>{m=setTimeout(()=>{(0,e.setStyle)(u,"display","none")},n.AUTO_PLAYBACK_TIMEOUT)}))}return r.on("video:timeupdate",()=>{if(r.playing){let x=i.get("times")||{},_=Object.keys(x);_.length>n.AUTO_PLAYBACK_MAX&&delete x[_[0]],x[r.option.id||r.option.url]=r.currentTime,i.set("times",x)}}),r.on("ready",v),r.on("restart",v),{name:"auto-playback",get times(){return i.get("times")||{}},clear:()=>i.del("times"),delete(x){let _=i.get("times")||{};return delete _[x],i.set("times",_),_}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hFDwt:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{constructor:o,proxy:d,template:{$player:i,$video:n}}=r,l=null,c=!1,u=1,f=()=>{clearTimeout(l),c&&(c=!1,r.playbackRate=u,(0,e.removeClass)(i,"art-fast-forward"))};return d(n,"touchstart",g=>{g.touches.length===1&&r.playing&&!r.isLock&&(l=setTimeout(()=>{c=!0,u=r.playbackRate,r.playbackRate=o.FAST_FORWARD_VALUE,(0,e.addClass)(i,"art-fast-forward")},o.FAST_FORWARD_TIME))}),d(document,"touchmove",f),d(document,"touchend",f),{name:"fastForward",get state(){return(0,e.hasClass)(i,"art-fast-forward")}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1hsTH":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>p);var e=a("../utils");function p(r){let{layers:o,icons:d,template:{$player:i}}=r;function n(){return(0,e.hasClass)(i,"art-lock")}function l(){(0,e.addClass)(i,"art-lock"),r.isLock=!0,r.emit("lock",!0)}function c(){(0,e.removeClass)(i,"art-lock"),r.isLock=!1,r.emit("lock",!1)}return o.add({name:"lock",mounted(u){let f=(0,e.append)(u,d.lock),g=(0,e.append)(u,d.unlock);(0,e.setStyle)(f,"display","none"),r.on("lock",b=>{b?((0,e.setStyle)(f,"display","inline-flex"),(0,e.setStyle)(g,"display","none")):((0,e.setStyle)(f,"display","none"),(0,e.setStyle)(g,"display","inline-flex"))})},click(){n()?c():l()}}),{name:"lock",get state(){return n()},set state(u){u?l():c()}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}]},["5lTcX"],"5lTcX","parcelRequire4dc0")})(_t,_t.exports);var ve=_t.exports;const ye=Yt(ve);var Ft={exports:{}};Ft.exports;(function(q,W){/*!
 * artplayer-plugin-danmuku.js v5.1.4
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2024 Harvey Zack
 * Released under the MIT License.
 */(function(a,h,s,t,e){var p=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof St<"u"?St:{},r=typeof p[t]=="function"&&p[t],o=r.cache||{},d=typeof Mt=="function"&&Mt.bind(q);function i(c,u){if(!o[c]){if(!a[c]){var f=typeof p[t]=="function"&&p[t];if(!u&&f)return f(c,!0);if(r)return r(c,!0);if(d&&typeof c=="string")return d(c);var g=Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}m.resolve=function(v){var x=a[c][1][v];return x??v},m.cache={};var b=o[c]=new i.Module(c);a[c][0].call(b.exports,m,b,b.exports,this)}return o[c].exports;function m(v){var x=m.resolve(v);return x===!1?{}:i(x)}}i.isParcelRequire=!0,i.Module=function(c){this.id=c,this.bundle=i,this.exports={}},i.modules=a,i.cache=o,i.parent=r,i.register=function(c,u){a[c]=[function(f,g){g.exports=u},{}]},Object.defineProperty(i,"root",{get:function(){return p[t]}}),p[t]=i;for(var n=0;n<h.length;n++)i(h[n]);if(s){var l=i(s);q.exports=l}})({bgm6t:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>n);var e=a("./danmuku"),p=t.interopDefault(e),r=a("./setting"),o=t.interopDefault(r),d=a("./heatmap"),i=t.interopDefault(d);function n(l){return c=>{let u=new p.default(c,l),f=new o.default(c,u);return u.option.heatmap&&(0,i.default)(c,u,u.option.heatmap),{name:"artplayerPluginDanmuku",emit:u.emit.bind(u),load:u.load.bind(u),config:u.config.bind(u),hide:u.hide.bind(u),show:u.show.bind(u),reset:u.reset.bind(u),mount:f.mount.bind(f),get option(){return u.option},get isHide(){return u.isHide},get isStop(){return u.isStop}}}}n.icons=o.default.icons,typeof window<"u"&&(window.artplayerPluginDanmuku=n)},{"./danmuku":"4ns48","./setting":"lO8OT","./heatmap":"8AxLD","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4ns48":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("./bilibili"),p=a("bundle-text:./worker"),r=t.interopDefault(p);class o{constructor(i,n){let{constructor:l,template:c}=i;this.utils=l.utils,this.validator=l.validator,this.$danmuku=c.$danmuku,this.$player=c.$player,this.art=i,this.queue=[],this.$refs=[],this.isStop=!1,this.isHide=!1,this.timer=null,this.index=0,this.option=o.option,this.states={wait:[],ready:[],emit:[],stop:[]},this.config(n),this.worker=new Worker(URL.createObjectURL(new Blob([r.default]))),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.reset=this.reset.bind(this),this.resize=this.resize.bind(this),this.destroy=this.destroy.bind(this),i.on("video:play",this.start),i.on("video:playing",this.start),i.on("video:pause",this.stop),i.on("video:waiting",this.stop),i.on("destroy",this.destroy),i.on("resize",this.resize),this.load()}static get option(){return{danmuku:[],speed:5,margin:[10,"25%"],opacity:1,color:"#FFFFFF",mode:0,modes:[0,1,2],fontSize:25,antiOverlap:!0,synchronousPlayback:!1,mount:void 0,heatmap:!1,width:512,points:[],filter:()=>!0,beforeEmit:()=>!0,beforeVisible:()=>!0,visible:!0,emitter:!0,maxLength:200,lockTime:5,theme:"dark",OPACITY:{},FONT_SIZE:{},MARGIN:{},SPEED:{},COLOR:[]}}static get scheme(){return{danmuku:"array|function|string",speed:"number",margin:"array",opacity:"number",color:"string",mode:"number",modes:"array",fontSize:"number|string",antiOverlap:"boolean",synchronousPlayback:"boolean",mount:"?htmldivelement|string",heatmap:"object|boolean",width:"number",points:"array",filter:"function",beforeEmit:"function",beforeVisible:"function",visible:"boolean",emitter:"boolean",maxLength:"number",lockTime:"number",theme:"string",OPACITY:"object",FONT_SIZE:"object",MARGIN:"object",SPEED:"object",COLOR:"array"}}static get cssText(){return' user-select: none; position: absolute; white-space: pre; pointer-events: none; perspective: 500px; display: inline-block; will-change: transform; font-weight: normal; line-height: 1.125; visibility: hidden; font-family: SimHei, "Microsoft JhengHei", Arial, Helvetica, sans-serif; text-shadow: rgb(0, 0, 0) 1px 0px 1px, rgb(0, 0, 0) 0px 1px 1px, rgb(0, 0, 0) 0px -1px 1px, rgb(0, 0, 0) -1px 0px 1px; '}get isRotate(){var i,n;return(n=(i=this.art.plugins)==null?void 0:i.autoOrientation)==null?void 0:n.state}get marginTop(){let{clamp:i}=this.utils,n=this.option.margin[0],{clientHeight:l}=this.$player;return typeof n=="number"?i(n,0,l):typeof n=="string"&&n.endsWith("%")?i(l*(parseFloat(n)/100),0,l):o.option.margin[0]}get marginBottom(){let{clamp:i}=this.utils,n=this.option.margin[1],{clientHeight:l}=this.$player;return typeof n=="number"?i(n,0,l):typeof n=="string"&&n.endsWith("%")?i(l*(parseFloat(n)/100),0,l):o.option.margin[1]}get fontSize(){let{clamp:i}=this.utils,{clientHeight:n}=this.$player,l=this.option.fontSize;return typeof l=="number"?Math.round(i(l,12,n)):typeof l=="string"&&l.endsWith("%")?Math.round(i(n*(parseFloat(l)/100),12,n)):o.option.fontSize}get $ref(){let i=this.$refs.pop()||document.createElement("div");return i.style.cssText=o.cssText,i.dataset.mode="",i.className="",i}get readys(){let{currentTime:i}=this.art,n=[];return this.filter("ready",l=>n.push(l)),this.filter("wait",l=>{i+.1>=l.time&&l.time>=i-.1&&n.push(l)}),n}get visibles(){let i=[],{clientWidth:n}=this.$player,l=this.getLeft(this.$player);return this.filter("emit",c=>{let u=c.$ref.offsetTop,f=this.getLeft(c.$ref)-l,g=c.$ref.clientHeight,b=c.$ref.clientWidth,m=f+b,v=m/c.$restTime,x={};x.top=u,x.left=f,x.height=g,x.width=b,x.right=n-m,x.speed=v,x.distance=m,x.time=c.$restTime,x.mode=c.mode,i.push(x)}),i}get speed(){return this.option.synchronousPlayback&&this.art.playbackRate?this.option.speed/Number(this.art.playbackRate):this.option.speed}async load(i){let{errorHandle:n}=this.utils,l=[],c=i||this.option.danmuku;try{typeof c=="function"?l=await c():c instanceof Promise?l=await c:typeof c=="string"?l=await(0,e.bilibiliDanmuParseFromUrl)(c):Array.isArray(c)&&(l=c),n(Array.isArray(l),"Danmuku need return an array as result"),i===void 0&&(this.reset(),this.queue=[],this.states={wait:[],ready:[],emit:[],stop:[]},this.$refs=[],this.$danmuku.innerText="");for(let u=0;u<l.length;u++){let f=l[u];await this.emit(f)}this.art.emit("artplayerPluginDanmuku:loaded",this.queue)}catch(u){throw this.art.emit("artplayerPluginDanmuku:error",u),u}return this}async emit(i){let{clamp:n}=this.utils;if(this.validator(i,{text:"string",mode:"?number",color:"?string",time:"?number",border:"?boolean",style:"?object"}),!i.text.trim()||(i.time?i.time=n(i.time,0,1/0):i.time=this.art.currentTime+.5,i.mode===void 0&&(i.mode=this.option.mode),i.style===void 0&&(i.style={}),i.color===void 0&&(i.color=this.option.color),![0,1,2].includes(i.mode)||!this.option.filter(i)))return this;let l={...i,$state:"wait",$id:this.index++,$ref:null,$restTime:0,$lastStartTime:0};return this.setState(l,"wait"),this.queue.push(l),this}config(i){let{clamp:n}=this.utils,{$controlsCenter:l}=this.art.template;return Object.keys(i).some(c=>JSON.stringify(this.option[c])!==JSON.stringify(i[c]))&&(this.option=Object.assign({},o.option,this.option,i),this.validator(this.option,o.scheme),this.option.mode=n(this.option.mode,0,2),this.option.speed=n(this.option.speed,1,10),this.option.opacity=n(this.option.opacity,0,1),this.option.lockTime=n(this.option.lockTime,1,60),this.option.maxLength=n(this.option.maxLength,1,1e3),this.option.mount=this.option.mount||l,i.fontSize&&this.reset(),this.option.visible?this.show():this.hide(),this.art.emit("artplayerPluginDanmuku:config",this.option)),this}getLeft(i){let n=i.getBoundingClientRect();return this.isRotate?n.top:n.left}postMessage(i={}){return new Promise(n=>{i.id=Date.now(),this.worker.postMessage(i),this.worker.onmessage=l=>{let{data:c}=l;c.id===i.id&&n(c)}})}filter(i,n){let l=this.states[i]||[];for(let c=0;c<l.length;c++)n(l[c]);return l}setState(i,n){this.states[i.$state]=this.states[i.$state].filter(l=>l!==i),i.$state=n,i.$ref&&(i.$ref.dataset.state=n),this.states[n].push(i)}makeWait(i){this.setState(i,"wait"),i.$ref&&(i.$ref.style.cssText=o.cssText,i.$ref.style.visibility="hidden",i.$ref.style.marginLeft="0px",i.$ref.style.transform="translateX(0px)",i.$ref.style.transition="transform 0s linear 0s",this.$refs.push(i.$ref),i.$ref=null)}update(){let{setStyles:i}=this.utils;return this.timer=window.requestAnimationFrame(async()=>{if(this.art.playing&&!this.isHide){this.filter("emit",l=>{let c=(Date.now()-l.$lastStartTime)/1e3;l.$restTime-=c,l.$lastStartTime=Date.now(),l.$restTime<=0&&this.makeWait(l)});let n=this.readys;for(let l=0;l<n.length;l++){let c=n[l];if(await this.option.beforeVisible(c)){let{clientWidth:u,clientHeight:f}=this.$player;c.$ref=this.$ref,c.$ref.innerText=c.text,this.$danmuku.appendChild(c.$ref),c.$ref.style.opacity=this.option.opacity,c.$ref.style.fontSize=`${this.fontSize}px`,c.$ref.style.color=c.color,c.$ref.style.border=c.border?`1px solid ${c.color}`:null,c.$ref.style.backgroundColor=c.border?"rgb(0 0 0 / 50%)":null,i(c.$ref,c.style),c.$lastStartTime=Date.now(),c.$restTime=this.speed;let g=u+c.$ref.clientWidth,{result:b}=await this.postMessage({type:"getDanmuTop",target:{mode:c.mode,height:c.$ref.clientHeight,speed:g/c.$restTime},visibles:this.visibles,antiOverlap:this.option.antiOverlap,clientWidth:u,clientHeight:f,marginBottom:this.marginBottom,marginTop:this.marginTop});if(c.$ref)if(this.isStop||b===void 0)this.setState(c,"ready"),this.$refs.push(c.$ref),c.$ref=null;else{switch(this.setState(c,"emit"),c.$ref.style.top=`${b}px`,c.$ref.style.visibility="visible",c.$ref.dataset.mode=c.mode,c.mode){case 0:c.$ref.style.left=`${u}px`,c.$ref.style.marginLeft="0px",c.$ref.style.transform=`translateX(${-g}px)`,c.$ref.style.transition=`transform ${c.$restTime}s linear 0s`;break;case 1:case 2:c.$ref.style.left="50%",c.$ref.style.marginLeft=`-${c.$ref.clientWidth/2}px`}this.art.emit("artplayerPluginDanmuku:visible",c)}}}}this.isStop||this.update()}),this}resize(){let{clientWidth:i}=this.$player;this.filter("stop",n=>{n.mode===0&&(n.$ref.style.left=`${i}px`)}),this.filter("emit",n=>{if(n.$lastStartTime=Date.now(),n.mode===0){let l=i+n.$ref.clientWidth;n.$ref.style.left=`${i}px`,n.$ref.style.transform=`translateX(${-l}px)`,n.$ref.style.transition=`transform ${n.$restTime}s linear 0s`}})}continue(){let{clientWidth:i}=this.$player;return this.filter("stop",n=>{if(this.setState(n,"emit"),n.$lastStartTime=Date.now(),n.mode===0){let l=i+n.$ref.clientWidth;n.$ref.style.transform=`translateX(${-l}px)`,n.$ref.style.transition=`transform ${n.$restTime}s linear 0s`}}),this}suspend(){let{clientWidth:i}=this.$player;return this.filter("emit",n=>{if(this.setState(n,"stop"),n.mode===0){let l=i-(this.getLeft(n.$ref)-this.getLeft(this.$player));n.$ref.style.transform=`translateX(${-l}px)`,n.$ref.style.transition="transform 0s linear 0s"}}),this}stop(){return this.isStop=!0,this.suspend(),window.cancelAnimationFrame(this.timer),this.art.emit("artplayerPluginDanmuku:stop"),this}start(){return this.isStop=!1,this.continue(),this.update(),this.art.emit("artplayerPluginDanmuku:start"),this}reset(){return this.queue.forEach(i=>this.makeWait(i)),this.art.emit("artplayerPluginDanmuku:reset"),this}show(){return this.isHide=!1,this.$danmuku.style.opacity=1,this.option.visible=!0,this.art.emit("artplayerPluginDanmuku:show"),this}hide(){return this.isHide=!0,this.$danmuku.style.opacity=0,this.option.visible=!1,this.art.emit("artplayerPluginDanmuku:hide"),this}destroy(){this.stop(),this.worker.terminate(),this.art.off("video:play",this.start),this.art.off("video:playing",this.start),this.art.off("video:pause",this.stop),this.art.off("video:waiting",this.stop),this.art.off("resize",this.reset),this.art.off("destroy",this.destroy),this.art.emit("artplayerPluginDanmuku:destroy")}}s.default=o},{"./bilibili":"f83sx","bundle-text:./worker":"lfIAi","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],f83sx:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");function e(d){switch(d){case 1:case 2:case 3:default:return 0;case 4:return 2;case 5:return 1}}function p(d){if(typeof d!="string")return[];let i=new RegExp(/<d (?:.*? )??p="(?<p>.+?)"(?: .*?)?>(?<text>.+?)<\/d>/gs);return Array.from(d.matchAll(i)).map(n=>{let l=n.groups.p.split(",");return l.length>=8?{text:n.groups.text.trim().replaceAll("&quot;",'"').replaceAll("&apos;","'").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),time:Number(l[0]),mode:e(Number(l[1])),fontSize:Number(l[2]),color:`#${Number(l[3]).toString(16)}`,timestamp:Number(l[4]),pool:Number(l[5]),userID:l[6],rowID:Number(l[7])}:null}).filter(Boolean)}function r({data:d}){let{xml:i,id:n}=d;if(!n||!i)return;let l=p(i);self.postMessage({danmus:l,id:n})}function o(d){return new Promise(async i=>{let n=await fetch(d),l=await n.text();try{let c=function(){let u=new Blob([` ${e.toString()} ${p.toString()} onmessage = ${r.toString()} `],{type:"application/javascript"});return new Worker(URL.createObjectURL(u))}();c.onmessage=u=>{let{danmus:f,id:g}=u.data;g&&f&&(i(f),c.terminate())},c.postMessage({xml:l,id:Date.now()})}catch{i(p(l))}})}t.defineInteropFlag(s),t.export(s,"bilibiliDanmuParseFromUrl",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9pCYc":[function(a,h,s){s.interopDefault=function(t){return t&&t.__esModule?t:{default:t}},s.defineInteropFlag=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.exportAll=function(t,e){return Object.keys(t).forEach(function(p){p==="default"||p==="__esModule"||Object.prototype.hasOwnProperty.call(e,p)||Object.defineProperty(e,p,{enumerable:!0,get:function(){return t[p]}})}),e},s.export=function(t,e,p){Object.defineProperty(t,e,{enumerable:!0,get:p})}},{}],lfIAi:[function(a,h,s){h.exports=`!function(e,t,n,o,i){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},f="function"==typeof r[o]&&r[o],l=f.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(t,n){if(!l[t]){if(!e[t]){var i="function"==typeof r[o]&&r[o];if(!n&&i)return i(t,!0);if(f)return f(t,!0);if(d&&"string"==typeof t)return d(t);var h=Error("Cannot find module '"+t+"'");throw h.code="MODULE_NOT_FOUND",h}s.resolve=function(n){var o=e[t][1][n];return null!=o?o:n},s.cache={};var p=l[t]=new u.Module(t);e[t][0].call(p.exports,s,p,p.exports,this)}return l[t].exports;function s(e){var t=s.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=l,u.parent=f,u.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(u,"root",{get:function(){return r[o]}}),r[o]=u;for(var h=0;h<t.length;h++)u(t[h]);if(n){var p=u(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=p:"function"==typeof define&&define.amd&&define(function(){return p})}}({"59OZS":[function(e,t,n){function o({target:e,visibles:t,clientWidth:n,clientHeight:o,marginBottom:i,marginTop:r,antiOverlap:f}){let l=o-i,d=t.filter(t=>t.mode===e.mode&&t.top<=l).sort((e,t)=>e.top-t.top);if(0===d.length)return 2===e.mode?l-e.height:r;if(d.unshift({type:"top",top:0,left:0,right:0,height:r,width:n,speed:0,distance:n}),d.push({type:"bottom",top:l,left:0,right:0,height:i,width:n,speed:0,distance:n}),2===e.mode)for(let t=d.length-2;t>=0;t-=1){let n=d[t],o=d[t+1],i=n.top+n.height;if(o.top-i>=e.height)return o.top-e.height}else for(let t=1;t<d.length;t+=1){let n=d[t],o=d[t-1],i=o.top+o.height;if(n.top-i>=e.height)return i}let u=[];for(let e=1;e<d.length-1;e+=1){let t=d[e];if(u.length){let e=u[u.length-1];e[0].top===t.top?e.push(t):u.push([t])}else u.push([t])}if(f)switch(e.mode){case 0:{let t=u.find(t=>t.every(t=>!(n<t.distance)&&(e.speed<t.speed||t.right/(e.speed-t.speed)>t.time)));return t&&t[0]?t[0].top:void 0}case 1:case 2:return}else{switch(e.mode){case 0:u.sort((e,t)=>{let n=Math.min(...t.map(e=>e.right)),o=Math.min(...e.map(e=>e.right));return n*t.length-o*e.length});break;case 1:case 2:u.sort((e,t)=>{let n=Math.max(...t.map(e=>e.width));return Math.max(...e.map(e=>e.width))*e.length-n*t.length})}return u[0][0].top}}onmessage=e=>{let{data:t}=e;if(!t.id||!t.type)return;let n=(0,({getDanmuTop:o})[t.type])(t);self.postMessage({result:n,id:t.id})}},{}]},["59OZS"],"59OZS","parcelRequire4dc0");`},{}],lO8OT:[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=a("bundle-text:./style.less"),p=t.interopDefault(e),r=a("bundle-text:./img/on.svg"),o=t.interopDefault(r),d=a("bundle-text:./img/off.svg"),i=t.interopDefault(d),n=a("bundle-text:./img/config.svg"),l=t.interopDefault(n),c=a("bundle-text:./img/style.svg"),u=t.interopDefault(c),f=a("bundle-text:./img/mode_0_off.svg"),g=t.interopDefault(f),b=a("bundle-text:./img/mode_0_on.svg"),m=t.interopDefault(b),v=a("bundle-text:./img/mode_1_off.svg"),x=t.interopDefault(v),_=a("bundle-text:./img/mode_1_on.svg"),T=t.interopDefault(_),C=a("bundle-text:./img/mode_2_off.svg"),S=t.interopDefault(C),A=a("bundle-text:./img/mode_2_on.svg"),D=t.interopDefault(A),I=a("bundle-text:./img/check_on.svg"),w=t.interopDefault(I),$=a("bundle-text:./img/check_off.svg"),j=t.interopDefault($);if(s.default=class{constructor(y,k){this.art=y,this.danmuku=k,this.utils=y.constructor.utils;let{setStyle:E}=this.utils,{$controlsCenter:M}=y.template;E(M,"display","flex"),this.template={$controlsCenter:M,$mount:M,$danmuku:null,$toggle:null,$config:null,$configPanel:null,$configModes:null,$style:null,$stylePanel:null,$styleModes:null,$colors:null,$opacitySlider:null,$opacityValue:null,$marginSlider:null,$marginValue:null,$fontSizeSlider:null,$fontSizeValue:null,$speedSlider:null,$speedValue:null,$input:null,$send:null},this.slider={opacity:null,margin:null,fontSize:null,speed:null},this.emitting=!1,this.isLock=!1,this.timer=null,this.createTemplate(),this.createSliders(),this.createEvents(),this.mount(this.option.mount),y.on("resize",()=>this.resize()),y.on("fullscreen",P=>this.onFullscreen(P)),y.on("fullscreenWeb",P=>this.onFullscreen(P)),y.proxy(this.template.$config,"mouseenter",()=>{this.onMouseEnter({$control:this.template.$config,$panel:this.template.$configPanel})}),y.proxy(this.template.$style,"mouseenter",()=>{this.onMouseEnter({$control:this.template.$style,$panel:this.template.$stylePanel})})}static get icons(){return{$on:o.default,$off:i.default,$config:l.default,$style:u.default,$mode_0_off:g.default,$mode_0_on:m.default,$mode_1_off:x.default,$mode_1_on:T.default,$mode_2_off:S.default,$mode_2_on:D.default,$check_on:w.default,$check_off:j.default}}get option(){return this.danmuku.option}get outside(){return this.template.$mount!==this.template.$controlsCenter}get TEMPLATE(){let{option:y}=this;return`<div class="apd-toggle">${o.default}${i.default}</div><div class="apd-config">${l.default}<div class="apd-config-panel"><div class="apd-config-panel-inner"><div class="apd-config-mode">按类型屏蔽<div class="apd-modes"><div data-mode="0" class="apd-mode">${g.default}${m.default}<div>滚动</div></div><div data-mode="1" class="apd-mode">${x.default}${T.default}<div>顶部</div></div><div data-mode="2" class="apd-mode">${S.default}${D.default}<div>底部</div></div></div></div><div class="apd-config-other"><div class="apd-other apd-anti-overlap">${w.default}${j.default} 防止弹幕重叠</div><div class="apd-other apd-sync-video">${w.default}${j.default} 同步视频速度</div></div><div class="apd-config-slider apd-config-opacity">不透明度<div class="apd-slider"></div><div class="apd-value">未知</div></div><div class="apd-config-slider apd-config-margin">显示区域<div class="apd-slider"></div><div class="apd-value">未知</div></div><div class="apd-config-slider apd-config-fontSize">弹幕字号<div class="apd-slider"></div><div class="apd-value">未知</div></div><div class="apd-config-slider apd-config-speed">弹幕速度<div class="apd-slider"></div><div class="apd-value">未知</div></div></div></div></div><div class="apd-emitter"><div class="apd-style">${u.default}<div class="apd-style-panel"><div class="apd-style-panel-inner"><div class="apd-style-mode">模式<div class="apd-modes"><div data-mode="0" class="apd-mode">${m.default}<div>滚动</div></div><div data-mode="1" class="apd-mode">${T.default}<div>顶部</div></div><div data-mode="2" class="apd-mode">${D.default}<div>底部</div></div></div></div><div class="apd-style-color">颜色<div class="apd-colors">${this.COLOR.map(k=>`<div data-color="${k}" class="apd-color" style="background-color: ${k}"></div>`).join("")}</div></div></div></div></div><input class="apd-input" placeholder="发个友善的弹幕见证当下" autocomplete="off" maxLength="${y.maxLength}" /><div class="apd-send">发送</div></div>`}get OPACITY(){return{min:0,max:100,steps:[],...this.option.OPACITY}}get FONT_SIZE(){return{min:12,max:120,steps:[],...this.option.FONT_SIZE}}get MARGIN(){return{min:0,max:3,steps:[{name:"1/4",value:[10,"75%"]},{name:"半屏",value:[10,"50%"]},{name:"3/4",value:[10,"25%"]},{name:"满屏",value:[10,10]}],...this.option.MARGIN}}get SPEED(){return{min:0,max:4,steps:[{name:"极慢",value:10},{name:"较慢",value:7.5,hide:!0},{name:"适中",value:5},{name:"较快",value:2.5,hide:!0},{name:"极快",value:1}],...this.option.SPEED}}get COLOR(){return this.option.COLOR.length?this.option.COLOR:["#FE0302","#FF7204","#FFAA02","#FFD302","#FFFF00","#A0EE00","#00CD00","#019899","#4266BE","#89D5FF","#CC0273","#222222","#9B9B9B","#FFFFFF"]}query(y){let{query:k}=this.utils,{$danmuku:E}=this.template;return k(y,E)}append(y,k){let{append:E}=this.utils;[...y.children].some(M=>M===k)||E(y,k)}setData(y,k){let{$player:E}=this.art.template,{$mount:M}=this.template;E.dataset[y]=k,this.outside&&(M.dataset[y]=k)}createTemplate(){let{createElement:y,tooltip:k}=this.utils,E=y("div");E.className="artplayer-plugin-danmuku",E.innerHTML=this.TEMPLATE,this.template.$danmuku=E,this.template.$toggle=this.query(".apd-toggle"),this.template.$config=this.query(".apd-config"),this.template.$configPanel=this.query(".apd-config-panel"),this.template.$configModes=this.query(".apd-config-mode .apd-modes"),this.template.$style=this.query(".apd-style"),this.template.$stylePanel=this.query(".apd-style-panel"),this.template.$styleModes=this.query(".apd-style-mode .apd-modes"),this.template.$colors=this.query(".apd-colors"),this.template.$antiOverlap=this.query(".apd-anti-overlap"),this.template.$syncVideo=this.query(".apd-sync-video"),this.template.$opacitySlider=this.query(".apd-config-opacity .apd-slider"),this.template.$opacityValue=this.query(".apd-config-opacity .apd-value"),this.template.$marginSlider=this.query(".apd-config-margin .apd-slider"),this.template.$marginValue=this.query(".apd-config-margin .apd-value"),this.template.$fontSizeSlider=this.query(".apd-config-fontSize .apd-slider"),this.template.$fontSizeValue=this.query(".apd-config-fontSize .apd-value"),this.template.$speedSlider=this.query(".apd-config-speed .apd-slider"),this.template.$speedValue=this.query(".apd-config-speed .apd-value"),this.template.$input=this.query(".apd-input"),this.template.$send=this.query(".apd-send");let{$toggle:M}=this.template;this.art.on("artplayerPluginDanmuku:show",()=>{k(M,"关闭弹幕")}),this.art.on("artplayerPluginDanmuku:hide",()=>{k(M,"打开弹幕")})}createEvents(){let{$toggle:y,$configModes:k,$styleModes:E,$colors:M,$antiOverlap:P,$syncVideo:H,$send:F,$input:V}=this.template;this.art.proxy(y,"click",()=>{this.danmuku.config({visible:!this.option.visible}),this.reset()}),this.art.proxy(k,"click",R=>{let U=R.target.closest(".apd-mode");if(!U)return;let N=Number(U.dataset.mode);this.option.modes.includes(N)?this.danmuku.config({modes:this.option.modes.filter(tt=>tt!==N)}):this.danmuku.config({modes:[...this.option.modes,N]}),this.reset()}),this.art.proxy(P,"click",()=>{this.danmuku.config({antiOverlap:!this.option.antiOverlap}),this.reset()}),this.art.proxy(H,"click",()=>{this.danmuku.config({synchronousPlayback:!this.option.synchronousPlayback}),this.reset()}),this.art.proxy(E,"click",R=>{let U=R.target.closest(".apd-mode");if(!U)return;let N=Number(U.dataset.mode);this.danmuku.config({mode:N}),this.reset()}),this.art.proxy(M,"click",R=>{let U=R.target.closest(".apd-color");U&&(this.danmuku.config({color:U.dataset.color}),this.reset())}),this.art.proxy(F,"click",()=>this.emit()),this.art.proxy(V,"keypress",R=>{R.key==="Enter"&&(R.preventDefault(),this.emit())})}createSliders(){this.slider.opacity=this.createSlider({...this.OPACITY,container:this.template.$opacitySlider,findIndex:()=>Math.round(100*this.option.opacity),onChange:y=>{let{$opacityValue:k}=this.template;k.textContent=`${y}%`,this.danmuku.config({opacity:y/100})}}),this.slider.margin=this.createSlider({...this.MARGIN,container:this.template.$marginSlider,findIndex:()=>this.MARGIN.steps.findIndex(y=>y.value[0]===this.option.margin[0]&&y.value[1]===this.option.margin[1]),onChange:y=>{let k=this.MARGIN.steps[y];if(!k)return;let{$marginValue:E}=this.template;E.textContent=k.name,this.danmuku.config({margin:k.value})}}),this.slider.fontSize=this.createSlider({...this.FONT_SIZE,container:this.template.$fontSizeSlider,findIndex:()=>this.danmuku.fontSize,onChange:y=>{let{$fontSizeValue:k}=this.template;k.textContent=`${y}px`,y!==this.danmuku.fontSize&&this.danmuku.config({fontSize:y})}}),this.slider.speed=this.createSlider({...this.SPEED,container:this.template.$speedSlider,findIndex:()=>this.SPEED.steps.findIndex(y=>y.value===this.option.speed),onChange:y=>{let k=this.SPEED.steps[y];if(!k)return;let{$speedValue:E}=this.template;E.textContent=k.name,this.danmuku.config({speed:k.value})}})}createSlider({min:y,max:k,container:E,findIndex:M,onChange:P,steps:H=[]}){let{query:F,clamp:V}=this.utils;E.innerHTML=`<div class="apd-slider-line"><div class="apd-slider-points">${H.map(()=>'<div class="apd-slider-point"></div>').join("")}</div><div class="apd-slider-progress"></div></div><div class="apd-slider-dot"></div><div class="apd-slider-steps">${H.map(O=>O.hide?"":`<div class="apd-slider-step">${O.name}</div>`).join("")}</div>`;let R=F(".apd-slider-dot",E),U=F(".apd-slider-progress",E),N=!1;function tt(O=M()){if(O<y||O>k)return;let it=(O-y)/(k-y);R.style.left=`${100*it}%`,H.length===0&&(U.style.width=R.style.left),P(O)}function rt(O){let{left:it,width:st}=E.getBoundingClientRect();tt(Math.round(V(O.clientX-it,0,st)/st*(k-y)+y))}return this.art.proxy(E,"click",O=>{rt(O)}),this.art.proxy(E,"mousedown",O=>{N=O.button===0}),this.art.on("document:mousemove",O=>{N&&rt(O)}),this.art.on("document:mouseup",O=>{N&&(N=!1,rt(O))}),{reset:tt}}onFullscreen(y){let{$danmuku:k,$controlsCenter:E,$mount:M}=this.template;this.outside?y?this.append(E,k):this.append(M,k):this.append(E,k)}onMouseEnter({$control:y,$panel:k}){let{$player:E}=this.art.template,M=y.getBoundingClientRect(),P=k.getBoundingClientRect(),H=E.getBoundingClientRect(),F=P.width/2-M.width/2,V=H.left-(M.left-F),R=M.right+F-H.right;V>0?k.style.left=`${-F+V}px`:R>0?k.style.left=`${-F-R}px`:k.style.left=`${-F}px`}async emit(){let{$input:y}=this.template,k=y.value.trim();if(!k.length||this.isLock||this.emitting)return;let E={text:k,mode:this.option.mode,color:this.option.color,time:this.art.currentTime};try{this.emitting=!0;let M=await this.option.beforeEmit(E);if(this.emitting=!1,M!==!0)return;E.border=!0,delete E.time,this.danmuku.emit(E),y.value="",this.lock()}catch{this.emitting=!1}}lock(){let{addClass:y}=this.utils,{$send:k}=this.template;this.isLock=!0;let E=this.option.lockTime;k.innerText=E,y(k,"apd-lock");let M=()=>{this.timer=setTimeout(()=>{E===0?this.unlock():(E-=1,k.innerText=E,M())},1e3)};M()}unlock(){let{removeClass:y}=this.utils,{$send:k}=this.template;clearTimeout(this.timer),this.isLock=!1,k.innerText="发送",y(k,"apd-lock")}resize(){if(this.outside||this.art.fullscreen||this.art.fullscreenWeb)return;let{$player:y,$controlsCenter:k}=this.art.template,{$danmuku:E}=this.template;this.art.width<this.option.width?this.append(y,E):this.append(k,E)}reset(){let{inverseClass:y,tooltip:k}=this.utils,{$toggle:E,$colors:M}=this.template;this.slider.opacity.reset(),this.slider.margin.reset(),this.slider.fontSize.reset(),this.slider.speed.reset(),this.setData("danmukuVisible",this.option.visible),this.setData("danmukuMode",this.option.mode),this.setData("danmukuColor",this.option.color),this.setData("danmukuMode0",this.option.modes.includes(0)),this.setData("danmukuMode1",this.option.modes.includes(1)),this.setData("danmukuMode2",this.option.modes.includes(2)),this.setData("danmukuAntiOverlap",this.option.antiOverlap),this.setData("danmukuSyncVideo",this.option.synchronousPlayback),this.setData("danmukuTheme",this.option.theme),this.setData("danmukuEmitter",this.option.emitter);let P=Array.from(M.children).find(H=>H.dataset.color===this.option.color.toUpperCase());P&&y(P,"apd-active"),k(E,this.option.visible?"关闭弹幕":"打开弹幕"),this.resize()}mount(y){let{errorHandle:k}=this.utils,E=typeof y=="string"?document.querySelector(y):y;k(E,`Can not find the mount point: ${y}`),this.append(E,this.template.$danmuku),this.template.$mount=E,this.reset()}},typeof document<"u"){let y="artplayer-plugin-danmuku",k=document.getElementById(y);if(k)k.textContent=p.default;else{let E=document.createElement("style");E.id=y,E.textContent=p.default,document.head.appendChild(E)}}},{"bundle-text:./style.less":"hViDo","bundle-text:./img/on.svg":"9pjcf","bundle-text:./img/off.svg":"b2dkP","bundle-text:./img/config.svg":"l8tyy","bundle-text:./img/style.svg":"5iZC3","bundle-text:./img/mode_0_off.svg":"i0Vut","bundle-text:./img/mode_0_on.svg":"hOSvZ","bundle-text:./img/mode_1_off.svg":"bOXC3","bundle-text:./img/mode_1_on.svg":"lKuh0","bundle-text:./img/mode_2_off.svg":"eB8W6","bundle-text:./img/mode_2_on.svg":"bpe2E","bundle-text:./img/check_on.svg":"kL9zy","bundle-text:./img/check_off.svg":"22xpM","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hViDo:[function(a,h,s){h.exports='.artplayer-plugin-danmuku{z-index:99;color:#fff;flex-shrink:0;justify-content:center;align-items:center;gap:10px;width:100%;height:32px;font-size:12px;font-weight:300;display:flex;position:relative}.artplayer-plugin-danmuku .apd-icon{cursor:pointer;opacity:.75;fill:#fff;transition:all .2s}.artplayer-plugin-danmuku .apd-icon:hover{opacity:1}.artplayer-plugin-danmuku .apd-config{display:flex;position:relative}.artplayer-plugin-danmuku .apd-config .apd-config-panel{opacity:0;pointer-events:none;width:320px;padding:10px;position:absolute;bottom:24px;left:0}.artplayer-plugin-danmuku .apd-config .apd-config-panel .apd-config-panel-inner{background-color:#000000d9;border-radius:3px;width:100%;padding:10px}.artplayer-plugin-danmuku .apd-config:hover .apd-config-panel{opacity:100;pointer-events:all}.artplayer-plugin-danmuku .apd-config-mode,.artplayer-plugin-danmuku .apd-config-slider,.artplayer-plugin-danmuku .apd-config-other,.artplayer-plugin-danmuku .apd-style-mode{margin-bottom:15px}.artplayer-plugin-danmuku .apd-modes{align-items:center;gap:20px;margin-top:5px;display:flex}.artplayer-plugin-danmuku .apd-modes .apd-mode{cursor:pointer;text-align:center}.artplayer-plugin-danmuku .apd-modes .apd-mode:hover{color:#00a1d6}.artplayer-plugin-danmuku .apd-config-slider{align-items:center;gap:12px;display:flex}.artplayer-plugin-danmuku .apd-config-slider .apd-value{text-align:right;width:32px}.artplayer-plugin-danmuku .apd-slider{cursor:pointer;flex:1;justify-content:center;align-items:center;height:20px;display:flex;position:relative}.artplayer-plugin-danmuku .apd-slider .apd-slider-line{background-color:#ffffff40;border-radius:3px;width:100%;height:2px;position:relative;overflow:hidden}.artplayer-plugin-danmuku .apd-slider .apd-slider-points{justify-content:space-between;align-items:center;display:flex;position:absolute;inset:0}.artplayer-plugin-danmuku .apd-slider .apd-slider-points .apd-slider-point{background-color:#ffffff80;border-radius:50%;width:2px;height:2px}.artplayer-plugin-danmuku .apd-slider .apd-slider-progress{background-color:#00a1d6;width:0%;height:100%}.artplayer-plugin-danmuku .apd-slider .apd-slider-dot{background-color:#00a1d6;border-radius:50%;width:12px;height:12px;position:absolute;left:0%;transform:translate(-6px)}.artplayer-plugin-danmuku .apd-slider .apd-slider-steps{color:#777;justify-content:space-between;align-items:center;width:calc(100% + 32px);display:flex;position:absolute;bottom:-12px}.artplayer-plugin-danmuku .apd-slider .apd-slider-steps .apd-slider-step{text-align:center;flex-shrink:0;width:36px;scale:.95}.artplayer-plugin-danmuku .apd-config-other{align-items:center;gap:20px;display:flex}.artplayer-plugin-danmuku .apd-config-other .apd-check-off,.artplayer-plugin-danmuku .apd-config-other .apd-check-on{width:16px;height:16px}.artplayer-plugin-danmuku .apd-config-other .apd-other{cursor:pointer;align-items:center;gap:2px;display:flex}.artplayer-plugin-danmuku .apd-config-other .apd-other:hover{color:#00a1d6}.artplayer-plugin-danmuku .apd-emitter{background-color:#ffffff40;border-radius:5px;flex:1;align-items:center;height:100%;display:flex}.artplayer-plugin-danmuku .apd-style{justify-content:center;align-items:center;display:flex;position:relative}.artplayer-plugin-danmuku .apd-style .apd-style-panel{opacity:0;pointer-events:none;width:200px;padding:10px;position:absolute;bottom:24px;left:0}.artplayer-plugin-danmuku .apd-style .apd-style-panel .apd-style-panel-inner{background-color:#000000d9;border-radius:3px;width:100%;padding:10px}.artplayer-plugin-danmuku .apd-style:hover .apd-style-panel{opacity:100;pointer-events:all}.artplayer-plugin-danmuku .apd-colors{flex-wrap:wrap;gap:8px;margin-top:5px;display:flex}.artplayer-plugin-danmuku .apd-colors .apd-color{cursor:pointer;border-radius:2px;width:16px;height:16px}.artplayer-plugin-danmuku .apd-colors .apd-color.apd-active{border:1px solid #000;box-shadow:0 0 0 1px #fff}.artplayer-plugin-danmuku .apd-input{color:#fff;background-color:#0000;border:none;outline:none;flex:1;width:auto;min-width:0;height:100%;line-height:1}.artplayer-plugin-danmuku .apd-input::placeholder{color:#ffffff80}.artplayer-plugin-danmuku .apd-send{cursor:pointer;text-shadow:none;background-color:#00a1d6;border-top-right-radius:5px;border-bottom-right-radius:5px;flex-shrink:0;justify-content:center;align-items:center;width:60px;height:100%;display:flex}.artplayer-plugin-danmuku .apd-send.apd-lock{cursor:not-allowed;color:#666;background-color:#e7e7e7}.art-controls-center .apd-emitter{flex:none;width:260px}.art-fullscreen .artplayer-plugin-danmuku,.art-fullscreen-web .artplayer-plugin-danmuku{gap:16px;height:38px}.art-fullscreen .artplayer-plugin-danmuku .apd-config-icon,.art-fullscreen-web .artplayer-plugin-danmuku .apd-config-icon,.art-fullscreen .artplayer-plugin-danmuku .apd-toggle-off,.art-fullscreen-web .artplayer-plugin-danmuku .apd-toggle-off,.art-fullscreen .artplayer-plugin-danmuku .apd-toggle-on,.art-fullscreen-web .artplayer-plugin-danmuku .apd-toggle-on{width:28px;height:28px}.art-fullscreen .artplayer-plugin-danmuku .apd-emitter,.art-fullscreen-web .artplayer-plugin-danmuku .apd-emitter{flex:none;width:400px}.art-video-player>.artplayer-plugin-danmuku{padding:0 10px;position:absolute;bottom:-40px;left:0;right:0}.art-video-player:has(>.artplayer-plugin-danmuku){margin-bottom:40px}[data-danmuku-emitter=false] .apd-emitter{display:none!important}[data-danmuku-emitter=false] .art-controls-center .artplayer-plugin-danmuku{justify-content:flex-end;gap:18px}[data-danmuku-emitter=false].art-fullscreen .art-controls-center .artplayer-plugin-danmuku,[data-danmuku-emitter=false].art-fullscreen-web .art-controls-center .artplayer-plugin-danmuku{gap:24px}[data-danmuku-theme=light]>.artplayer-plugin-danmuku .apd-icon{fill:#333}[data-danmuku-theme=light]>.artplayer-plugin-danmuku .apd-emitter{background-color:#f1f2f3}[data-danmuku-theme=light]>.artplayer-plugin-danmuku .apd-input{color:#000}[data-danmuku-theme=light]>.artplayer-plugin-danmuku .apd-input::placeholder{color:#0000004d}[data-danmuku-visible=false] .apd-toggle-off{display:block}[data-danmuku-visible=false] .apd-toggle-on,[data-danmuku-visible=true] .apd-toggle-off{display:none}[data-danmuku-visible=true] .apd-toggle-on{display:block}[data-danmuku-anti-overlap=false] .apd-anti-overlap .apd-check-on{display:none}[data-danmuku-anti-overlap=false] .apd-anti-overlap .apd-check-off,[data-danmuku-anti-overlap=true] .apd-anti-overlap .apd-check-on{display:block}[data-danmuku-anti-overlap=true] .apd-anti-overlap .apd-check-off,[data-danmuku-sync-video=false] .apd-sync-video .apd-check-on{display:none}[data-danmuku-sync-video=false] .apd-sync-video .apd-check-off,[data-danmuku-sync-video=true] .apd-sync-video .apd-check-on{display:block}[data-danmuku-sync-video=true] .apd-sync-video .apd-check-off{display:none}[data-danmuku-mode0=false] .apd-config-mode .apd-mode-0-off{display:block}[data-danmuku-mode0=false] .apd-config-mode .apd-mode-0-on{display:none}[data-danmuku-mode0=false] .art-danmuku [data-mode="0"]{opacity:0!important}[data-danmuku-mode0=true] .apd-config-mode .apd-mode-0-off{display:none}[data-danmuku-mode0=true] .apd-config-mode .apd-mode-0-on{display:block}[data-danmuku-mode="0"] .apd-style-mode [data-mode="0"]{color:#00a1d6}[data-danmuku-mode="0"] .apd-style-mode [data-mode="0"] path{fill:#00a1d6}[data-danmuku-mode1=false] .apd-config-mode .apd-mode-1-off{display:block}[data-danmuku-mode1=false] .apd-config-mode .apd-mode-1-on{display:none}[data-danmuku-mode1=false] .art-danmuku [data-mode="1"]{opacity:0!important}[data-danmuku-mode1=true] .apd-config-mode .apd-mode-1-off{display:none}[data-danmuku-mode1=true] .apd-config-mode .apd-mode-1-on{display:block}[data-danmuku-mode="1"] .apd-style-mode [data-mode="1"]{color:#00a1d6}[data-danmuku-mode="1"] .apd-style-mode [data-mode="1"] path{fill:#00a1d6}[data-danmuku-mode2=false] .apd-config-mode .apd-mode-2-off{display:block}[data-danmuku-mode2=false] .apd-config-mode .apd-mode-2-on{display:none}[data-danmuku-mode2=false] .art-danmuku [data-mode="2"]{opacity:0!important}[data-danmuku-mode2=true] .apd-config-mode .apd-mode-2-off{display:none}[data-danmuku-mode2=true] .apd-config-mode .apd-mode-2-on{display:block}[data-danmuku-mode="2"] .apd-style-mode [data-mode="2"]{color:#00a1d6}[data-danmuku-mode="2"] .apd-style-mode [data-mode="2"] path{fill:#00a1d6}'},{}],"9pjcf":[function(a,h,s){h.exports='<svg class="apd-icon apd-toggle-on" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 24 24" width="24" height="24"><path fill-rule="evenodd" d="M11.989 4.828c-.47 0-.975.004-1.515.012l-1.71-2.566a1.008 1.008 0 0 0-1.678 1.118l.999 1.5c-.681.018-1.403.04-2.164.068a4.013 4.013 0 0 0-3.83 3.44c-.165 1.15-.245 2.545-.245 4.185 0 1.965.115 3.67.35 5.116a4.012 4.012 0 0 0 3.763 3.363l.906.046c1.205.063 1.808.095 3.607.095a.988.988 0 0 0 0-1.975c-1.758 0-2.339-.03-3.501-.092l-.915-.047a2.037 2.037 0 0 1-1.91-1.708c-.216-1.324-.325-2.924-.325-4.798 0-1.563.076-2.864.225-3.904.14-.977.96-1.713 1.945-1.747 2.444-.087 4.465-.13 6.063-.131 1.598 0 3.62.044 6.064.13.96.034 1.71.81 1.855 1.814.075.524.113 1.962.141 3.065v.002c.01.342.017.65.025.88a.987.987 0 1 0 1.974-.068c-.008-.226-.016-.523-.025-.856v-.027c-.03-1.118-.073-2.663-.16-3.276-.273-1.906-1.783-3.438-3.74-3.507-.9-.032-1.743-.058-2.531-.078l1.05-1.46a1.008 1.008 0 0 0-1.638-1.177l-1.862 2.59c-.38-.004-.744-.007-1.088-.007h-.13Zm.521 4.775h-1.32v4.631h2.222v.847h-2.618v1.078h2.618l.003.678c.36.026.714.163 1.01.407h.11v-1.085h2.694v-1.078h-2.695v-.847H16.8v-4.63h-1.276a8.59 8.59 0 0 0 .748-1.42L15.183 7.8a14.232 14.232 0 0 1-.814 1.804h-1.518l.693-.308a8.862 8.862 0 0 0-.814-1.408l-1.045.352c.297.396.572.847.825 1.364Zm-4.18 3.564.154-1.485h1.98V8.294h-3.2v.98H9.33v1.43H7.472l-.308 3.453h2.277c0 1.166-.044 1.925-.12 2.277-.078.352-.386.528-.936.528-.308 0-.616-.022-.902-.055l.297 1.067.062.005c.285.02.551.04.818.04 1.001-.067 1.562-.419 1.694-1.057.11-.638.176-1.903.176-3.795h-2.2Zm7.458.11v-.858h-1.254v.858h1.254Zm-2.376-.858v.858h-1.199v-.858h1.2Zm-1.199-.946h1.2v-.902h-1.2v.902Zm2.321 0v-.902h1.254v.902h-1.254Z" clip-rule="evenodd"/><path fill="#00AEEC" fill-rule="evenodd" d="M22.846 14.627a1 1 0 0 0-1.412.075l-5.091 5.703-2.216-2.275-.097-.086-.008-.005a1 1 0 0 0-1.322 1.493l2.963 3.041.093.083.007.005a1 1 0 0 0 1.354-.124l5.81-6.505.08-.102.005-.008a1 1 0 0 0-.166-1.295Z" clip-rule="evenodd"/></svg>'},{}],b2dkP:[function(a,h,s){h.exports='<svg class="apd-icon apd-toggle-off" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 24 24" width="24" height="24"><path fill-rule="evenodd" d="m8.085 4.891-.999-1.499a1.008 1.008 0 0 1 1.679-1.118l1.709 2.566c.54-.008 1.045-.012 1.515-.012h.13c.345 0 .707.003 1.088.007l1.862-2.59a1.008 1.008 0 0 1 1.637 1.177l-1.049 1.46c.788.02 1.631.046 2.53.078 1.958.069 3.468 1.6 3.74 3.507.088.613.13 2.158.16 3.276l.001.027c.01.333.017.63.025.856a.987.987 0 0 1-1.974.069c-.008-.23-.016-.539-.025-.881v-.002c-.028-1.103-.066-2.541-.142-3.065-.143-1.004-.895-1.78-1.854-1.813a179.14 179.14 0 0 0-6.064-.131c-1.598 0-3.619.044-6.063.13a2.037 2.037 0 0 0-1.945 1.748c-.15 1.04-.225 2.341-.225 3.904 0 1.874.11 3.474.325 4.798.154.949.95 1.66 1.91 1.708a97.58 97.58 0 0 0 5.416.139.988.988 0 0 1 0 1.975 99.78 99.78 0 0 1-5.513-.141A4.012 4.012 0 0 1 2.197 17.7c-.236-1.446-.351-3.151-.351-5.116 0-1.64.08-3.035.245-4.184A4.013 4.013 0 0 1 5.92 4.96c.761-.027 1.483-.05 2.164-.069Zm4.436 4.707h-1.32v4.63h2.222v.848h-2.618v1.078h2.431a5.01 5.01 0 0 1 3.575-3.115V9.598h-1.276a8.59 8.59 0 0 0 .748-1.42l-1.089-.384a14.232 14.232 0 0 1-.814 1.804h-1.518l.693-.308a8.862 8.862 0 0 0-.814-1.408l-1.045.352c.297.396.572.847.825 1.364Zm-4.18 3.564.154-1.485h1.98V8.289h-3.2v.979h2.067v1.43H7.483l-.308 3.454h2.277c0 1.166-.044 1.925-.12 2.277-.078.352-.386.528-.936.528-.308 0-.616-.022-.902-.055l.297 1.067.062.004c.285.02.551.04.818.04 1.001-.066 1.562-.418 1.694-1.056.11-.638.176-1.903.176-3.795h-2.2Zm7.458.11v-.858h-1.254v.858H15.8Zm-2.376-.858v.858h-1.199v-.858h1.2Zm-1.199-.946h1.2v-.902h-1.2v.902Zm2.321 0v-.902H15.8v.902h-1.254Zm3.517 10.594a4 4 0 1 0 0-8 4 4 0 0 0 0 8Zm-.002-1.502a2.5 2.5 0 0 1-2.217-3.657l3.326 3.398a2.49 2.49 0 0 1-1.109.259Zm2.5-2.5c0 .42-.103.815-.286 1.162l-3.328-3.401a2.5 2.5 0 0 1 3.614 2.239Z" clip-rule="evenodd"/></svg>'},{}],l8tyy:[function(a,h,s){h.exports='<svg class="apd-icon apd-config-icon" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 24 24" width="24" height="24"><path fill-rule="evenodd" d="m15.645 4.881 1.06-1.473a.998.998 0 1 0-1.622-1.166L13.22 4.835a110.67 110.67 0 0 0-1.1-.007h-.131c-.47 0-.975.004-1.515.012L8.783 2.3A.998.998 0 0 0 7.12 3.408l.988 1.484c-.688.019-1.418.042-2.188.069a4.013 4.013 0 0 0-3.83 3.44c-.165 1.15-.245 2.545-.245 4.185 0 1.965.115 3.67.35 5.116a4.012 4.012 0 0 0 3.763 3.363 99.78 99.78 0 0 0 5.513.141.988.988 0 0 0 0-1.975 97.58 97.58 0 0 1-5.416-.139 2.037 2.037 0 0 1-1.91-1.708c-.216-1.324-.325-2.924-.325-4.798 0-1.563.076-2.864.225-3.904.14-.977.96-1.713 1.945-1.747 2.444-.087 4.465-.13 6.063-.131 1.598 0 3.62.044 6.064.13.96.034 1.71.81 1.855 1.814.075.524.113 1.962.141 3.065v.002c.005.183.01.07.014-.038.004-.096.008-.189.011-.081a.987.987 0 1 0 1.974-.069c-.004-.105-.007-.009-.011.09a2.175 2.175 0 0 1-.007.135l-.002.01a.574.574 0 0 1-.005-.091v-.027c-.03-1.118-.073-2.663-.16-3.276-.273-1.906-1.783-3.438-3.74-3.507-.905-.032-1.752-.058-2.543-.079Zm-3.113 4.703h-1.307v4.643h2.2v.04l.651-1.234c.113-.215.281-.389.482-.509v-.11h.235c.137-.049.283-.074.433-.074h1.553V9.584h-1.264a8.5 8.5 0 0 0 .741-1.405l-1.078-.381c-.24.631-.501 1.23-.806 1.786h-1.503l.686-.305a8.613 8.613 0 0 0-.806-1.394l-1.034.348c.294.392.566.839.817 1.35Zm-1.7 5.502h2.16l-.564 1.068h-1.595v-1.068Zm-2.498-1.863.152-1.561h1.96V8.289H7.277v.969h2.048v1.435h-1.84l-.306 3.51h2.254c0 1.155-.043 1.906-.12 2.255-.076.348-.38.523-.925.523-.305 0-.61-.022-.893-.055l.294 1.056.061.005c.282.02.546.039.81.039.991-.065 1.547-.414 1.677-1.046.11-.631.175-1.883.175-3.757H8.334Zm5.09-.8v.85h-1.188v-.85h1.187Zm-1.188-.955h1.187v-.893h-1.187v.893Zm2.322.007v-.893h1.241v.893h-1.241Zm.528 2.757a1.26 1.26 0 0 1 1.087-.627l4.003-.009a1.26 1.26 0 0 1 1.094.63l1.721 2.982c.226.39.225.872-.001 1.263l-1.743 3a1.26 1.26 0 0 1-1.086.628l-4.003.009a1.26 1.26 0 0 1-1.094-.63l-1.722-2.982a1.26 1.26 0 0 1 .002-1.263l1.742-3Zm1.967.858a1.26 1.26 0 0 0-1.08.614l-.903 1.513a1.26 1.26 0 0 0-.002 1.289l.885 1.492c.227.384.64.62 1.086.618l2.192-.005a1.26 1.26 0 0 0 1.08-.615l.904-1.518a1.26 1.26 0 0 0 .001-1.288l-.884-1.489a1.26 1.26 0 0 0-1.086-.616l-2.193.005Zm2.517 2.76a1.4 1.4 0 1 1-2.8 0 1.4 1.4 0 0 1 2.8 0Z" clip-rule="evenodd"/></svg>'},{}],"5iZC3":[function(a,h,s){h.exports='<svg class="apd-icon apd-style-icon" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 22 22" viewBox="0 0 22 22" width="36" height="24"><path d="M17 16H5c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1zM6.96 15c.39 0 .74-.24.89-.6l.65-1.6h5l.66 1.6c.15.36.5.6.89.6.69 0 1.15-.71.88-1.34l-3.88-8.97C11.87 4.27 11.46 4 11 4s-.87.27-1.05.69l-3.88 8.97c-.27.63.2 1.34.89 1.34zM11 5.98 12.87 11H9.13L11 5.98z"/></svg>'},{}],i0Vut:[function(a,h,s){h.exports='<svg class="apd-icon apd-mode-0-off" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 15c1.487 0 2.866.464 4 1.255V7a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h11.674A7 7 0 0 1 23 15zM11 9h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-3 2H6V9h2v2zm4 4h-2v-2h2v2zm2-1a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2h-1a1 1 0 0 1-1-1z" fill="#00AEEC"/><path d="M26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z" fill="#00AEEC"/></svg>'},{}],hOSvZ:[function(a,h,s){h.exports='<svg class="apd-icon apd-mode-0-on" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 3H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V7a4 4 0 0 0-4-4zM11 9h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-3 2H6V9h2v2zm4 4h-2v-2h2v2zm9 0h-6a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2z" fill="#FFF"/></svg>'},{}],bOXC3:[function(a,h,s){h.exports='<svg class="apd-icon apd-mode-1-off" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 15c1.487 0 2.866.464 4 1.255V7a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h11.674A7 7 0 0 1 23 15zm-4-8h2v2h-2V7zM9 9H7V7h2v2zm4 0h-2V7h2v2zm2-2h2v2h-2V7z" fill="#00AEEC"/><path d="M26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z" fill="#00AEEC"/></svg>'},{}],lKuh0:[function(a,h,s){h.exports='<svg class="apd-icon apd-mode-1-on" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 3H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V7a4 4 0 0 0-4-4zM9 9H7V7h2v2zm4 0h-2V7h2v2zm4 0h-2V7h2v2zm4 0h-2V7h2v2z" fill="#FFF"/></svg>'},{}],eB8W6:[function(a,h,s){h.exports='<svg class="apd-icon apd-mode-2-off" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 15c1.487 0 2.866.464 4 1.255V7a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h11.674A7 7 0 0 1 23 15zM9 21H7v-2h2v2zm4 0h-2v-2h2v2z" fill="#00AEEC"/><path d="M26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z" fill="#00AEEC"/></svg>'},{}],bpe2E:[function(a,h,s){h.exports='<svg class="apd-icon apd-mode-2-on" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 3H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V7a4 4 0 0 0-4-4zM9 21H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z" fill="#FFF"/></svg>'},{}],kL9zy:[function(a,h,s){h.exports='<svg class="apd-icon apd-check-on" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 32 32" width="32" height="32"><path d="m13 18.25-1.8-1.8c-.6-.6-1.65-.6-2.25 0s-.6 1.5 0 2.25l2.85 2.85c.318.318.762.468 1.2.448.438.02.882-.13 1.2-.448l8.85-8.85c.6-.6.6-1.65 0-2.25s-1.65-.6-2.25 0l-7.8 7.8zM8 4h16c2.21 0 4 1.79 4 4v16c0 2.21-1.79 4-4 4H8c-2.21 0-4-1.79-4-4V8c0-2.21 1.79-4 4-4z" fill="#00AEEC"/></svg>'},{}],"22xpM":[function(a,h,s){h.exports='<svg class="apd-icon apd-check-off" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 32 32" width="32" height="32"><path d="M8 6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H8zm0-2h16c2.21 0 4 1.79 4 4v16c0 2.21-1.79 4-4 4H8c-2.21 0-4-1.79-4-4V8c0-2.21 1.79-4 4-4z" fill="#FFF"/></svg>'},{}],"8AxLD":[function(a,h,s){var t=a("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"default",()=>r);let e={map:(o,d,i,n,l)=>(o-d)*(l-n)/(i-d)+n,range(o,d,i){let n=Math.round(o/i)*i;return Array.from({length:Math.floor((d-o)/i)},(l,c)=>c*i+n)}},p=(o,d)=>{let i=d[0]-o[0],n=d[1]-o[1];return{length:Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),angle:Math.atan2(n,i)}};function r(o,d,i){let{query:n}=o.constructor.utils;o.controls.add({name:"heatmap",position:"top",html:"",style:{position:"absolute",top:"-100px",left:"0px",right:"0px",height:"100px",width:"100%",pointerEvents:"none"},mounted(l){let c=null,u=null;function f(g=[]){if(c=null,u=null,l.innerHTML="",!o.duration||o.option.isLive)return;let b={w:l.offsetWidth,h:l.offsetHeight},m={xMin:0,xMax:b.w,yMin:0,yMax:128,scale:.25,opacity:.2,minHeight:Math.floor(.05*b.h),sampling:Math.floor(b.w/100),smoothing:.2,flattening:.2};typeof i=="object"&&Object.assign(m,i);let v=[];if(Array.isArray(g)&&g.length)v=[...g];else{let w=o.duration/b.w;for(let $=0;$<=b.w;$+=m.sampling){let j=d.queue.filter(({time:y})=>y>$*w&&y<=($+m.sampling)*w).length;v.push([$,j])}}if(v.length===0)return;let x=v[v.length-1],_=x[0],T=x[1];_!==b.w&&v.push([b.w,T]);let C=v.map(w=>w[1]),S=(Math.min(...C)+Math.max(...C))/2;for(let w=0;w<v.length;w++){let $=v[w],j=$[1];$[1]=j*(j>S?1+m.scale:1-m.scale)+m.minHeight}let A=(w,$,j,y)=>{let k=p($||w,j||w),E=e.map(Math.cos(k.angle)*m.flattening,0,1,1,0),M=k.angle*E+(y?Math.PI:0),P=k.length*m.smoothing;return[w[0]+Math.cos(M)*P,w[1]+Math.sin(M)*P]},D=(w,$,j)=>{let y=A(j[$-1],j[$-2],w),k=A(w,j[$-1],j[$+1],!0),E=$===j.length-1?" z":"";return`C ${y[0]},${y[1]} ${k[0]},${k[1]} ${w[0]},${w[1]}${E}`},I=v.map(w=>[e.map(w[0],m.xMin,m.xMax,0,b.w),e.map(w[1],m.yMin,m.yMax,b.h,0)]).reduce((w,$,j,y)=>j===0?`M ${y[y.length-1][0]},${b.h} L ${$[0]},${b.h} L ${$[0]},${$[1]}`:`${w} ${D($,j,y)}`,"");l.innerHTML=`<svg viewBox="0 0 ${b.w} ${b.h}"><defs><linearGradient id="heatmap-solids" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:var(--art-theme);stop-opacity:${m.opacity}" /><stop offset="0%" style="stop-color:var(--art-theme);stop-opacity:${m.opacity}" id="heatmap-start" /><stop offset="0%" style="stop-color:var(--art-progress-color);stop-opacity:1" id="heatmap-stop" /><stop offset="100%" style="stop-color:var(--art-progress-color);stop-opacity:1" /></linearGradient></defs><path fill="url(#heatmap-solids)" d="${I}"></path></svg>`,c=n("#heatmap-start",l),u=n("#heatmap-stop",l),c.setAttribute("offset",`${100*o.played}%`),u.setAttribute("offset",`${100*o.played}%`)}o.on("video:timeupdate",()=>{c&&u&&(c.setAttribute("offset",`${100*o.played}%`),u.setAttribute("offset",`${100*o.played}%`))}),o.on("setBar",(g,b)=>{c&&u&&g==="played"&&(c.setAttribute("offset",`${100*b}%`),u.setAttribute("offset",`${100*b}%`))}),o.on("ready",()=>f()),o.on("resize",()=>f()),o.on("artplayerPluginDanmuku:loaded",()=>f()),o.on("artplayerPluginDanmuku:points",g=>f(g))}})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}]},["bgm6t"],"bgm6t","parcelRequire4dc0")})(Ft,Ft.exports);var be=Ft.exports;const xe=Yt(be),we=q=>ht.post("/user/barrage/send",q),Nt=q=>ht.get("/user/barrage/get?videoId="+q),ke="/assets/coin-c02c0800.svg";const $e=["src"],je={__name:"VideoPlayer",props:{videoUrl:{type:String,required:!0},poster:{type:String,default:""},title:{type:String,default:""},isCollapsed:{type:Boolean,default:!1},videoId:{type:[String,Number],required:!0}},emits:["toggle-collapse"],setup(q,{emit:W}){const a=q,h=W,s=Bt(),t=K(null),e=K(null),p=K(!1),r=()=>{p.value=!0},o=()=>{p.value=!1},d=()=>{if(t.value)return;if(!a.videoUrl||!e.value){console.error("视频URL无效或容器未就绪");return}const i=e.value.querySelector(".artplayer-app");if(!i){console.error("找不到播放器容器元素");return}t.value=new ye({container:i,url:a.videoUrl,poster:a.poster,title:a.title,volume:.5,isLive:!1,muted:!1,autoplay:!1,pip:!0,autoSize:!0,autoMini:!0,screenshot:!0,setting:!0,loop:!1,flip:!0,rotate:!0,playbackRate:!0,aspectRatio:!0,fullscreen:!0,fullscreenWeb:!0,subtitleOffset:!0,miniProgressBar:!0,mutex:!0,backdrop:!0,playsInline:!0,autoPlayback:!0,airplay:!0,theme:"#00a1d6",lang:"zh-cn",moreVideoAttr:{crossOrigin:"anonymous"},controls:[{position:"right",html:"画中画",click:function(){t.value.pip=!t.value.pip}},{position:"right",html:`<div class="wide-screen-btn" title="宽屏模式">
          <svg class="wide-screen-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="200" height="200">
            <path d="M824.448 199.552H199.552c-49.30133333 0-89.26933333 39.968-89.26933333 89.26933333v446.35733334c0 49.30133333 39.968 89.26933333 89.26933333 89.26933333h624.896c49.30133333 0 89.26933333-39.968 89.26933333-89.26933333V288.82133333c0-49.30133333-39.95733333-89.26933333-89.26933333-89.26933333zM338.98666667 521.32266667l45.90933333 45.90933333c13.07733333 13.06666667 13.07733333 34.272 0 47.33866667-13.07733333 13.07733333-34.272 13.07733333-47.33866667 0l-55.232-55.232-31.616-31.616c-8.68266667-8.68266667-8.68266667-22.76266667 0-31.44533334l31.616-31.616 55.232-55.232c13.07733333-13.06666667 34.272-13.06666667 47.33866667 0 13.07733333 13.07733333 13.07733333 34.272 0 47.33866667l-45.90933333 45.90933333c-5.152 5.152-5.152 13.49333333 0 18.64533334z m417.45066666 6.4l-31.62666666 31.616-55.232 55.232c-13.07733333 13.07733333-34.272 13.07733333-47.33866667 0-13.06666667-13.06666667-13.06666667-34.272 0-47.33866667l45.90933333-45.90933333c5.14133333-5.152 5.14133333-13.49333333 0-18.64533334l-45.90933333-45.90933333c-13.06666667-13.07733333-13.06666667-34.272 0-47.33866667 13.07733333-13.06666667 34.272-13.06666667 47.33866667 0l55.232 55.232 31.62666666 31.616c8.68266667 8.68266667 8.68266667 22.76266667 0 31.44533334z" />
          </svg>
        </div>`,tooltip:"宽屏模式",click:function(){h("toggle-collapse",!a.isCollapsed)}}],settings:[{width:200,html:"画质",selector:[{html:"自动",default:!0,url:a.videoUrl}]}],icons:{state:'<img src="https://s1.hdslb.com/bfs/static/player/img/play.svg" class="art-state-icon" alt="加载中。。。">'},quality:[{default:!0,html:"自动",url:a.videoUrl}],thumbnails:{url:a.poster,number:60,column:10},plugins:[xe({danmuku:async()=>{try{const n=await Nt(a.videoId);return n.code===0?n.data.map(l=>({text:l.text,time:l.time,color:l.color||"#FFFFFF",type:l.type||0,border:!1})):[]}catch(n){return console.error("获取弹幕失败:",n),et.error("获取弹幕失败"),[]}},speed:5,opacity:1,fontSize:25,color:"#FFFFFF",mode:0,margin:[10,"25%"],antiOverlap:!0,useWorker:!0,synchronousPlayback:!1,maxLength:100,minWidth:200,maxWidth:400,theme:"dark",onInput:()=>{t.value&&!t.value.paused&&t.value.pause()},onSend:()=>{t.value&&t.value.paused&&t.value.play()},beforeEmit:async n=>{try{const l={videoId:a.videoId,text:n.text,time:t.value.currentTime,color:n.color,type:n.type},c=await we(l);return c.code===0?(et.success("发送弹幕成功"),!0):(et.error(c.message||"发送弹幕失败"),!1)}catch(l){return console.error("发送弹幕失败:",l),et.error("发送弹幕失败"),!1}}})]}),t.value.on("ready",()=>{console.log("视频播放器已就绪")}),t.value.on("play",()=>{console.log("视频开始播放")}),t.value.on("pause",()=>{console.log("视频暂停")}),t.value.on("error",n=>{console.error("视频播放错误:",n),et.error("视频加载失败，请稍后重试")}),t.value.on("fullscreen",n=>{h("toggle-collapse",n)}),t.value.on("fullscreenWeb",n=>{h("toggle-collapse",n)}),t.value.on("artplayerPluginDanmuku:emit",n=>{console.log("发送弹幕:",n)}),t.value.on("artplayerPluginDanmuku:loaded",n=>{console.log("弹幕加载完成, 总数:",n.length)}),t.value.on("artplayerPluginDanmuku:error",n=>{console.error("弹幕错误:",n),et.error("弹幕系统出现错误")})};return At(()=>a.videoUrl,(i,n)=>{i&&i!==n&&(t.value?(t.value.url=i,t.value.poster=a.poster,t.value.title=a.title):d())},{immediate:!0}),kt(()=>{ie(()=>{a.videoUrl&&d()})}),wt(()=>{t.value&&t.value.destroy&&(t.value.destroy(),t.value=null)}),(i,n)=>(X(),J("div",{class:"video-player",ref_key:"playerContainer",ref:e,onMousemove:r,onMouseleave:o},[z("div",{class:pt(["back-button",{"show-control":p.value}]),onClick:n[0]||(n[0]=l=>G(s).back())},[z("img",{src:G(ke),alt:"返回"},null,8,$e)],2),n[1]||(n[1]=z("div",{class:"artplayer-app"},null,-1))],544))}},Ce=$t(je,[["__scopeId","data-v-354e5478"]]);const Se={},Te={class:"uploader-icon",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none"};function Ee(q,W){return X(),J("svg",Te,W[0]||(W[0]=[z("rect",{x:"3",y:"6",width:"18",height:"11.5",rx:"2",fill:"#FF6699"},null,-1),z("path",{d:"M5.7 8.36V12.79C5.7 13.72 5.96 14.43 6.49 14.93C6.99 15.4 7.72 15.64 8.67 15.64C9.61 15.64 10.34 15.4 10.86 14.92C11.38 14.43 11.64 13.72 11.64 12.79V8.36H10.47V12.81C10.47 13.43 10.32 13.88 10.04 14.18C9.75 14.47 9.29 14.62 8.67 14.62C8.04 14.62 7.58 14.47 7.3 14.18C7.01 13.88 6.87 13.43 6.87 12.81V8.36H5.7ZM13.0438 8.36V15.5H14.2138V12.76H15.9838C17.7238 12.76 18.5938 12.02 18.5938 10.55C18.5938 9.09 17.7238 8.36 16.0038 8.36H13.0438ZM14.2138 9.36H15.9138C16.4238 9.36 16.8038 9.45 17.0438 9.64C17.2838 9.82 17.4138 10.12 17.4138 10.55C17.4138 10.98 17.2938 11.29 17.0538 11.48C16.8138 11.66 16.4338 11.76 15.9138 11.76H14.2138V9.36Z",fill:"white"},null,-1)]))}const Ie=$t(Se,[["render",Ee],["__scopeId","data-v-66249f3b"]]),Me=(q,W)=>ht.post("/comments/publish",{id:q,content:W}),_e=q=>ht.get("/comments?id="+q);const Fe={class:"emoji-container"},De={class:"emoji-grid"},ze=["onClick"],Ae={__name:"EmojiPicker",props:{visible:Boolean,position:Object},emits:["select","close"],setup(q,{emit:W}){const a=W,h=["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳","😏","😒","😞","😔","😟","😕","🙁","☹️","😣","😖","😫","😩","🥺","😢","😭","😤","😠","😡","🤬"],s=t=>{a("select",t)};return(t,e)=>Tt((X(),J("div",{class:"emoji-picker-popup",style:qt(q.position)},[z("div",Fe,[z("div",De,[(X(),J(Et,null,It(h,(p,r)=>z("div",{key:r,class:"emoji-item",onClick:o=>s(p)},Z(p),9,ze)),64))])])],4)),[[Pt,q.visible]])}},He=$t(Ae,[["__scopeId","data-v-7817b9a0"]]);const Pe={class:"danmaku-list-container"},Le={class:"header-left"},Oe={class:"danmaku-content"},Re={class:"danmaku-items"},Ve={class:"danmaku-info"},Ye={class:"time"},Be={key:1,class:"empty-state"},qe={__name:"DanmakuList",props:{videoId:{type:String,required:!0}},setup(q){const W=q,a=K(!1),h=K(!1),s=K([]),t=K(!1),e=()=>{a.value=!a.value,a.value&&!t.value&&p()},p=async()=>{h.value=!0;try{const d=await Nt(W.videoId);d.code===0&&(s.value=d.data.map(i=>({...i,timePoint:i.timePoint||0})),t.value=!0)}catch(d){console.error("获取弹幕列表失败:",d),et.error("获取弹幕列表失败")}finally{h.value=!1}},r=d=>{const i=Number(d)||0,n=Math.floor(i/60),l=Math.floor(i%60);return`${n.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`},o=d=>d?(d=d.toLowerCase(),d==="#fff"||d==="#ffffff"||d==="rgb(255,255,255)"||d==="rgb(255, 255, 255)"||d==="white"):!1;return kt(()=>{}),(d,i)=>{const n=ct("el-icon"),l=oe("loading");return X(),J("div",Pe,[z("div",{class:"danmaku-header",onClick:e},[z("div",Le,[B(n,{class:"list-icon"},{default:Q(()=>[B(G(Ht))]),_:1}),i[0]||(i[0]=z("span",{class:"title"},"弹幕列表",-1))]),B(n,{class:pt(["expand-icon",{"is-expanded":a.value}])},{default:Q(()=>[B(G(ne))]),_:1},8,["class"])]),Tt(z("div",Oe,[Tt((X(),J("div",Re,[s.value.length?(X(!0),J(Et,{key:0},It(s.value,c=>(X(),J("div",{key:c.id,class:"danmaku-item"},[z("div",Ve,[z("span",Ye,Z(r(c.time)),1),z("span",{class:"content",style:qt({color:o(c.color)?"#18191c":c.color})},Z(c.text),5)])]))),128)):(X(),J("div",Be,[B(n,{class:"empty-icon"},{default:Q(()=>[B(G(se))]),_:1}),i[1]||(i[1]=z("span",null,"暂无弹幕",-1))]))])),[[l,h.value]])],512),[[Pt,a.value]])])}}},Ne=$t(qe,[["__scopeId","data-v-1d3f16b9"]]),We=(q,W)=>ht.put(`/user/follow/${q}?isFollow=${W}`),Ue=q=>ht.get(`/user/follow/${q}`),Ze="/assets/like-e917bac2.svg",Ke="/assets/star-e2aa28f6.svg",Ge="/assets/投币-3bacc8e8.svg",Xe="/assets/关注-99f4cfa4.svg",Qe="/assets/我的关注-af0724c1.svg";const Je={class:"video-detail"},tr={class:"video-section"},er={class:"video-info"},rr={class:"video-actions"},ar={class:"action-item"},ir=["src"],or={class:"action-item"},nr=["src"],sr={class:"action-item"},lr=["src"],dr={class:"video-title"},cr={class:"video-description"},pr={class:"description-content"},ur={class:"video-stats"},fr={class:"view-count"},hr={class:"date"},mr={class:"comment-section"},gr={class:"comment-header"},vr={class:"comment-input-area"},yr={class:"input-wrapper"},br={class:"comment-tools"},xr={class:"comment-list"},wr={class:"comment-content"},kr={class:"comment-user"},$r={class:"comment-text"},jr={class:"comment-info"},Cr={class:"comment-time"},Sr={class:"comment-actions"},Tr={class:"action-item"},Er={class:"action-item"},Ir={class:"uploader-card"},Mr={class:"uploader-header"},_r={class:"nickname"},Fr={class:"uploader-desc"},Dr={key:0,class:"button-group"},zr=["src"],Ar={class:"recommend-list"},Hr={class:"recommend-cover"},Pr=["src","alt"],Lr={class:"duration"},Or={class:"recommend-info"},Rr={class:"recommend-title"},Vr={class:"recommend-uploader"},Yr={class:"up-name"},Br={class:"video-stats"},qr={__name:"VideoDetail",setup(q){Lt.extend(le),Lt.locale("zh-cn");const W=de(),a=Bt(),h=K({id:0,title:"",cover:"",videoUrl:"",viewCount:"",createTime:"",content:"",commentCount:0,nickname:"",userPic:"",username:""}),s=ce();At(()=>h.value,H=>{H&&H.title?s.value=`${H.title} - 哔哩哔哩`:s.value="哔哩哔哩"},{immediate:!0}),wt(()=>{s.value="哔哩哔哩"});const t=async()=>{try{const H=W.params.id;W.query.title&&(h.value={...h.value,title:W.query.title,cover:W.query.cover});const F=await fe(H);F.data&&(h.value=F.data,C.value&&e())}catch(H){console.error("获取视频详情失败:",H),et.error("获取视频详情失败")}},e=async()=>{try{const H=await Ue(h.value.userId);H.data&&(I.value=H.data.some(F=>F.followUserId===Number(h.value.userId)))}catch(H){console.error("获取关注状态失败:",H)}};kt(()=>{t()});const p=K([]),r=K([]),o=K(!1),d=()=>{o.value=!o.value},i=pe(),n=Ct(()=>i.info),l=K(""),c=async()=>{if(!l.value.trim())return et.warning("评论内容不能为空");const H=W.params.id;await Me(H,l.value.trim()),et.success("评论成功"),l.value="",await u()},u=async()=>{const H=W.params.id,F=await _e(H);p.value=F.data};u();const f=K(!1),g=K({top:"40px",left:"0px"}),b=H=>{if(H.stopPropagation(),f.value=!f.value,f.value){const V=H.currentTarget.getBoundingClientRect();g.value={top:V.height+"px",left:"0px"}}},m=H=>{l.value+=H,f.value=!1},v=H=>{const F=H.target.closest(".emoji-picker-popup"),V=H.target.closest(".emoji-picker");f.value&&!F&&!V&&(f.value=!1)};kt(()=>{document.addEventListener("click",v)}),wt(()=>{document.removeEventListener("click",v)});const x=()=>{if(!C.value){Rt.emit("showLogin");return}a.push({name:"Chat",query:{username:h.value.username}})},_=Ct(()=>h.value.username===n.value.username),T=ue(),C=Ct(()=>!!T.token),S=Ct(()=>W.params.id),A=K(!1),D=()=>{A.value=window.innerWidth<1200};kt(()=>{D(),window.addEventListener("resize",D)}),wt(()=>{window.removeEventListener("resize",D)});const I=K(!1),w=async()=>{if(!C.value){Rt.emit("showLogin");return}try{await We(h.value.userId,!I.value),I.value=!I.value,et.success(I.value?"关注成功":"已取消关注")}catch(H){console.error("关注操作失败:",H),et.error("操作失败，请稍后重试")}};At(C,H=>{H&&h.value.userId?e():I.value=!1});const $=K(!1),j=K(!1),y=K(!1),k=K(null),E=()=>{k.value&&(clearTimeout(k.value),k.value=null),y.value=I.value},M=()=>{k.value=setTimeout(()=>{y.value=!1},100)};wt(()=>{k.value&&clearTimeout(k.value)});const P=()=>{h.value&&h.value.username&&a.push({path:"/user",query:{username:h.value.username}})};return(H,F)=>{const V=ct("el-button"),R=ct("el-avatar"),U=ct("el-input"),N=ct("el-icon"),tt=ct("Thumb"),rt=ct("H5");return X(),J("div",Je,[z("div",{class:pt(["main-content",{collapsed:o.value||A.value}])},[z("div",tr,[B(Ce,{"video-url":h.value.videoUrl,poster:h.value.cover,title:h.value.title,"is-collapsed":o.value||A.value,"video-id":h.value.id,onToggleCollapse:d},null,8,["video-url","poster","title","is-collapsed","video-id"]),z("div",er,[z("div",rr,[z("div",ar,[B(V,{class:pt(["action-btn",{"is-active":$.value}])},{default:Q(()=>[z("img",{src:G(Ze),class:"action-icon",alt:"点赞"},null,8,ir),z("span",null,Z(h.value.likeCount||0),1)]),_:1},8,["class"])]),z("div",or,[B(V,{class:pt(["action-btn",{"is-active":j.value}])},{default:Q(()=>[z("img",{src:G(Ke),class:"action-icon",alt:"收藏"},null,8,nr),F[3]||(F[3]=z("span",null,"收藏",-1))]),_:1},8,["class"])]),z("div",sr,[B(V,{class:"action-btn"},{default:Q(()=>[z("img",{src:G(Ge),class:"action-icon",alt:"投币"},null,8,lr),F[4]||(F[4]=z("span",null,"投币",-1))]),_:1})])]),z("h1",dr,Z(h.value.title),1),z("div",cr,[F[5]||(F[5]=z("div",{class:"description-header"},[z("span",null,"视频简介")],-1)),z("div",pr,Z(h.value.content||"暂无简介"),1)]),F[7]||(F[7]=z("br",null,null,-1)),z("div",ur,[z("span",fr,Z(h.value.viewCount)+"播放",1),F[6]||(F[6]=z("span",{class:"bullet"},"·",-1)),z("span",hr,"发布于 "+Z(G(Vt)(h.value.createTime)),1)])]),z("div",mr,[z("div",gr,[z("h3",null,"评论 "+Z(h.value.commentCount),1)]),z("div",vr,[B(R,{size:60,src:n.value.userPic,class:"input-avatar"},null,8,["src"]),z("div",yr,[B(U,{modelValue:l.value,"onUpdate:modelValue":F[0]||(F[0]=O=>l.value=O),type:"textarea",rows:2,placeholder:"发一条友善的评论",resize:"none",maxlength:"300","show-word-limit":""},null,8,["modelValue"]),z("div",br,[z("div",{class:"emoji-picker",onClick:b},[B(N,null,{default:Q(()=>[B(G(he))]),_:1}),F[8]||(F[8]=nt(" 表情 ")),B(He,{visible:f.value,position:g.value,onSelect:m,onClose:F[1]||(F[1]=O=>f.value=!1)},null,8,["visible","position"])]),B(V,{type:"primary",disabled:!l.value.trim(),onClick:c},{default:Q(()=>F[9]||(F[9]=[nt(" 发布评论 ")])),_:1},8,["disabled"])])])]),z("div",xr,[(X(!0),J(Et,null,It(p.value,O=>(X(),J("div",{key:O.id,class:"comment-item"},[B(R,{size:48,src:O.userPic,class:"comment-avatar"},null,8,["src"]),z("div",wr,[z("div",kr,[nt(Z(O.nickname)+" ",1),O.userId===h.value.userId?(X(),me(Ie,{key:0})):Ot("",!0)]),z("div",$r,Z(O.content),1),z("div",jr,[z("span",Cr,Z(G(Vt)(O.createTime)),1),z("div",Sr,[z("span",Tr,[B(N,null,{default:Q(()=>[B(tt)]),_:1}),nt(" "+Z(O.likeCount),1)]),z("span",Er,[B(N,null,{default:Q(()=>[B(G(Ht))]),_:1}),F[10]||(F[10]=nt(" 回复 "))])])])])]))),128))])])]),z("div",{class:pt(["recommend-section",{"is-collapsed":o.value||A.value}])},[z("div",Ir,[z("div",Mr,[B(R,{size:48,src:h.value.userPic,class:"clickable",onClick:P},null,8,["src"]),z("div",{class:"uploader-info",onClick:P},[z("div",_r,Z(h.value.nickname),1),F[11]||(F[11]=z("div",{class:"fans-count"},"100粉丝",-1))])]),B(rt,null,{default:Q(()=>F[12]||(F[12]=[nt("UP主简介：")])),_:1}),z("div",Fr,Z(h.value.introduction||"这个UP主很懒，还没有添加简介~"),1),_.value?Ot("",!0):(X(),J("div",Dr,[z("div",{class:"follow-btn-wrapper",onMouseenter:E,onMouseleave:M},[B(V,{type:"primary",class:pt(["follow-btn",{"is-followed":I.value}]),onClick:F[2]||(F[2]=O=>!I.value&&w())},{default:Q(()=>[z("img",{src:I.value?G(Qe):G(Xe),class:"follow-icon",alt:"关注"},null,8,zr),nt(" "+Z(I.value?"已关注":"关注"),1)]),_:1},8,["class"]),Tt(z("div",{class:"unfollow-dropdown",onClick:w},[B(N,null,{default:Q(()=>[B(G(ge))]),_:1}),F[13]||(F[13]=nt(" 取消关注 "))],512),[[Pt,y.value]])],32),B(V,{class:"message-btn",onClick:x},{default:Q(()=>[B(N,null,{default:Q(()=>[B(G(Ht))]),_:1}),F[14]||(F[14]=nt(" 私信 "))]),_:1})]))]),B(Ne,{videoId:S.value},null,8,["videoId"]),F[16]||(F[16]=z("h3",{class:"recommend-title"},"相关推荐",-1)),z("div",Ar,[(X(!0),J(Et,null,It(r.value,O=>(X(),J("div",{key:O.id,class:"recommend-item"},[z("div",Hr,[z("img",{src:O.cover,alt:O.title},null,8,Pr),z("span",Lr,Z(O.duration),1)]),z("div",Or,[z("div",Rr,Z(O.title),1),z("div",Vr,[z("span",Yr,Z(O.uploader),1),z("div",Br,[z("span",null,Z(O.viewCount)+"播放",1),F[15]||(F[15]=z("span",{class:"bullet"},"·",-1)),z("span",null,"发布时间："+Z(O.createTime),1)])])])]))),128))])],2)],2)])}}},Wr=$t(qr,[["__scopeId","data-v-cb1d09d4"]]);export{Wr as default};
